{"version":3,"sources":["services/queries/index.jsx","config.js","elements/layout/index.jsx","elements/form/index.jsx","services/mutations/index.jsx","forms/CreatePostForm.jsx","components/Box/index.jsx","scenes/App/Posts/CreatePost.jsx","scenes/App/LikesComment/index.jsx","forms/EditCommentForm.jsx","forms/DeleteCommentForm.jsx","scenes/App/Comment/index.jsx","forms/CreateCommentForm.jsx","scenes/App/Comments/index.jsx","scenes/App/Post/PostHeader.jsx","scenes/App/Post/PostContent.jsx","forms/EditPostForm.jsx","scenes/App/Post/PostEdit.jsx","forms/DeletePostForm.jsx","scenes/App/Post/PostDelete.jsx","scenes/App/LikesPost/index.jsx","scenes/App/Post/ActionBar.jsx","scenes/App/Post/index.jsx","scenes/App/Posts/AllPosts.jsx","scenes/App/Posts/index.jsx","components/NavItem/index.jsx","components/NavList/index.jsx","scenes/App/NavBar/index.jsx","forms/UserSettingsForm.jsx","scenes/App/Settings/index.jsx","forms/LoginUserForm.jsx","components/Modal/ModalBox.jsx","components/Modal/Modal.jsx","helpers/Loader.jsx","helpers/LoadUserTheme.jsx","scenes/App/index.jsx","scenes/Login/index.jsx","elements/header/index.jsx","components/Header/index.jsx","elements/shell/index.jsx","components/Body/index.jsx","Shell/index.jsx","forms/CreateUserForm.jsx","scenes/CreateUser/index.jsx","scenes/index.jsx","index.js"],"names":["loggedInUser","gql","_templateObject","currentUser","_templateObject2","allPosts","_templateObject3","variables","boxShadow","boxShadowHover","transition","transitionLarge","space","spaceSmall","spaceLarge","containerMaxWidth","buttonPadding","buttonBorderRadius","pageBg","pageBgDark","headerBg","headerBgDark","headerColor","headerColorDark","headerColorHover","headerColorDarkHover","style","themes","dark","page","bg","header","color","hover","box","icon","border","radius","alt","error","link","active","button","padding","input","light","Page","styled","div","layout_templateObject","FlexBox","layout_templateObject2","_ref","alignItems","_ref2","justifyContent","Row","layout_templateObject3","Col","_templateObject4","_ref3","size","_ref4","navBar","PostArea","_templateObject5","BoxContainer","_templateObject6","_ref5","concat","_ref6","mt","BoxHeader","_templateObject7","BoxSection","_templateObject8","_templateObject9","BoxContent","_templateObject10","_ref7","midSection","_ref8","divider","PostContentContainer","h3","_templateObject11","CommentsContainer","_templateObject12","PostHeaderContainer","_templateObject13","PostAuthor","_templateObject14","PostDate","_templateObject15","CommentBox","_templateObject16","CommentContent","_templateObject17","CommentText","_templateObject18","CommentActions","_templateObject19","NavListWrapper","_templateObject20","NavItemWrapper","a","_templateObject21","_ref9","theme","_ref10","Overlay","_templateObject22","ModalContainer","_templateObject23","ModalBoxContainer","_templateObject24","Form","form","form_templateObject","expand","FormGroup","form_templateObject2","noMargin","Label","form_templateObject3","Field","form_templateObject4","ActionButton","form_templateObject5","RadioButton","form_templateObject6","activeTheme","ActionBarContainer","form_templateObject7","SuccessMessage","form_templateObject8","ButtonContent","span","form_templateObject9","ActionLink","form_templateObject10","marginLeft","_ref11","ActionLinkContent","form_templateObject11","rotate","keyframes","form_templateObject12","FaCogSpin","FaCog","form_templateObject13","ErrorBox","form_templateObject14","authenticateUser","mutations_templateObject","signupUser","mutations_templateObject2","updateUser","mutations_templateObject3","createPost","mutations_templateObject4","updatePost","mutations_templateObject5","likePost","mutations_templateObject6","dislikePost","mutations_templateObject7","deletePost","mutations_templateObject8","createComment","mutations_templateObject9","updateComment","mutations_templateObject10","deleteComment","mutations_templateObject11","likeComment","mutations_templateObject12","dislikeComment","mutations_templateObject13","CreatePostForm","state","content","loading","handleFieldChange","e","_this$props","_this","props","userId","onAuthRequired","setState","target","value","handleSaveChanges","_callee","authorId","regenerator_default","wrap","_context","prev","next","preventDefault","then","response","onUpdateRequired","stop","this","_this$state","react_default","createElement","onSubmit","placeholder","onChange","type","disabled","forEach","item","validate","Flip_default","cascade","top","fa","React","Component","compose","graphql","name","Box","children","onClose","onClick","CreatePost","CurrentUser","Consumer","userName","PostContext","components_Box","forms_CreatePostForm","LikesComment","counter","handleLike","comment","commentId","id","handleDislike","likeId","_this$props2","_this$props3","likes","liked","like","author","length","Tada_default","spy","EditCommentForm","updateRequired","commentContent","_this2","DeleteCommentForm","handleDeletePost","handleCancel","onCancel","Comment","showDeleteComment","toggleEditComment","showEditComment","toggleDeleteComment","showCommentContent","isUserComment","key","forms_EditCommentForm","forms_DeleteCommentForm","App_LikesComment","CreateCommentForm","postId","Comments","CurrentPostContext","post","Fragment","comments","map","App_Comment","forms_CreateCommentForm","PostHeader","onEditPost","onDeletePost","lib_default","date","updatedAt","PostContent","EditPostForm","onEditComplete","postContent","PostEdit","forms_EditPostForm","DeletePostForm","PostDelete","forms_DeletePostForm","LikesPost","ActionBar","onToggleComments","commentsSize","commentsIcon","commentsLabel","App_LikesPost","createContext","Post","showComments","showEditPostForm","showDeletePostForm","handleToggleComments","handleEditPost","showPostContent","currentPostContextValue","Provider","Post_PostHeader","Post_PostContent","Post_PostEdit","Post_PostDelete","Post_ActionBar","App_Comments","AllPosts","posts","App_Post","Posts","handleRefetch","refetch","postContextValue","Posts_CreatePost","Posts_AllPosts","PureComponent","NavItem","onSelect","StyleContext","NavList","NavBar","activeItem","handleClick","onSelectView","items","components_NavList","view","components_NavItem","UserSettingsForm","saveSuccess","setTimeout","catch","handleSelectTheme","onSelectTheme","userTheme","_this$state2","Fade_default","bottom","opposite","when","Settings","forms_UserSettingsForm","LoginUserForm","email","password","handleSignUp","history","replace","localStorage","setItem","data","token","withRouter","ModalBox","Modal","show","duration","Modal_ModalBox","Loader","onLoad","nextProps","LoadUserTheme","_React$Component","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","helpers_Loader","App","showLoginModal","handleViewChange","handleAuthRequired","toggleLoginModal","handleUpdateRequired","showPosts","showSettings","contextValues","User","currentView","LoadUserTheme_LoadUserTheme","components_Modal_Modal","forms_LoginUserForm","App_NavBar","App_Posts","App_Settings","options","Login","UserContext","Redirect","to","HeaderBox","header_templateObject","Container","header_templateObject2","HeaderTitle","header_templateObject3","HeaderActionBar","header_templateObject4","HeaderButton","header_templateObject5","TransparentButton","header_templateObject6","Header","path","isLoggingOut","removeItem","window","location","reload","pathname","shell_templateObject","BodyContainer","shell_templateObject2","styles","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","_ref30","_ref31","_ref32","_ref33","_ref34","_ref35","_ref36","BodyContent","shell_templateObject3","Body","Shell","shell_Container","components_Header","components_Body","CreateUserForm","handleLogin","handleSignupUser","user","sent","t0","console","CreateUser","forms_CreateUserForm","Scenes","_handleRefetch","_handleThemeChange","styleContextValue","userContextValue","src_Shell","Switch","Route","exact","scenes_App","scenes_Login","scenes_CreateUser","fetchPolicy","httpLink","createHttpLink","uri","httpLinkWithAuthToken","ApolloLink","operation","forward","getItem","authorizationHeader","setContext","headers","authorization","client","ApolloClient","cache","InMemoryCache","restore","__APOLLO_STATE__","ReactDOM","render","react_apollo_browser_umd","BrowserRouter","scenes","document","getElementById"],"mappings":"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","file":"static/js/main.ad9ad4ab.chunk.js","sourcesContent":["import gql from 'graphql-tag';\r\n\r\nexport const loggedInUser = gql`\r\n  query LoggedInUser {\r\n    loggedInUser {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const currentUser = gql`\r\n  query CurrentUser ($id: ID!){\r\n    User(id: $id) {\r\n      id\r\n      email\r\n      name\r\n      theme\r\n    }\r\n  }\r\n`;\r\n\r\nexport const allPosts = gql`\r\n  query AllPosts {\r\n    allPosts(orderBy: createdAt_DESC) {\r\n      id\r\n      createdAt\r\n      updatedAt\r\n      content\r\n      author {\r\n        id\r\n        name\r\n      }\r\n      likes {\r\n        id\r\n        author {\r\n          id\r\n          name\r\n        }\r\n      }\r\n      comments {\r\n        id\r\n        content\r\n        likes {\r\n          id\r\n          author {\r\n            id\r\n            name\r\n          }\r\n        }\r\n        author {\r\n          id\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;","export const variables = {\r\n  boxShadow: '0 2px 6px rgba(0,0,0,0.2)',\r\n  boxShadowHover: '0 2px 10px rgba(0,0,0,0.3)',\r\n  transition: '.3s ease',\r\n  transitionLarge: '1s ease',\r\n  space: '16px',\r\n  spaceSmall: '8px',\r\n  spaceLarge: '32px',\r\n  containerMaxWidth: '1000px',\r\n  buttonPadding: '10px 15px',\r\n  buttonBorderRadius: '18px',\r\n  pageBg: '#dfdfdf',\r\n  pageBgDark: '#151415',\r\n  headerBg: '#282c34',\r\n  headerBgDark: '#060009',\r\n  headerColor: '#b7b7b7',\r\n  headerColorDark: '#b7b7b7',\r\n  headerColorHover: '#2c313d',\r\n  headerColorDarkHover: '#dddddd',\r\n};\r\n\r\nexport const dark = {\r\n  page: {\r\n    bg: '#151415',\r\n  },\r\n  header: {\r\n    bg: variables.headerBgDark,\r\n    color: variables.headerColorDark,\r\n    hover: {\r\n      bg: variables.headerBgDark,\r\n      color: variables.headerColorDarkHover,\r\n    }\r\n  },\r\n  box: {\r\n    bg: '#232323',\r\n    color: '#c2d0ec',\r\n    icon: {\r\n      color: '#ff5270',\r\n    },\r\n    border: {\r\n      color: '#939393',\r\n      radius: '6px'\r\n    },\r\n    alt: {\r\n      bg: '#645d60',\r\n    },\r\n    error: {\r\n      bg: '#3c181f',\r\n      color: '#ff5386',\r\n    }\r\n  },\r\n  link: {\r\n    color: '#b579ff',\r\n    bg: 'transparent',\r\n    hover : {\r\n      color: '#865bcc',\r\n    },\r\n    active: {\r\n      bg: variables.headerBgDark,\r\n      color: '#b579ff',\r\n      hover: {\r\n        color: '#865bcc',\r\n      }\r\n    }\r\n  },\r\n  button: {\r\n    border: {\r\n      radius: '18px',\r\n    },\r\n    bg: variables.headerBgDark,\r\n    color: '#b7b7b7',\r\n    padding: '10px 15px',\r\n    hover: {\r\n      color: '#dddddd'\r\n    },\r\n    alt: {\r\n      bg: '#151415',\r\n      color: '#676767',\r\n      hover: {\r\n        color: '#838189',\r\n      },\r\n    }\r\n  },\r\n  input: {\r\n    bg: '#0a0a0a',\r\n    color: '#949494',\r\n  },\r\n};\r\n\r\nexport const light = {\r\n  page: {\r\n    bg: variables.pageBg,\r\n  },\r\n  header: {\r\n    bg: variables.headerBg,\r\n    color: variables.headerColorDark,\r\n    hover: {\r\n      bg: '#2c313d',\r\n      color: '#dddddd',\r\n    }\r\n  },\r\n  box: {\r\n    bg: '#ffffff',\r\n    color: '#282c34',\r\n    icon: {\r\n      color: '#ff5270',\r\n    },\r\n    border: {\r\n      color: '#939393',\r\n      radius: '6px'\r\n    },\r\n    alt: {\r\n      bg: '#e7e2e0',\r\n    },\r\n    error: {\r\n      bg: '#ffdec9',\r\n      color: '#cb7e7f',\r\n    }\r\n  },\r\n  link: {\r\n    color: '#6ba3ff',\r\n    bg: 'transparent',\r\n    hover : {\r\n      color: '#4e86cc',\r\n    },\r\n    active: {\r\n      bg: '#2c313d',\r\n      color: '#b7b7b7',\r\n      hover: {\r\n        color: '#dddddd',\r\n      }\r\n    }\r\n  },\r\n  button: {\r\n    border: {\r\n      radius: '18px',\r\n    },\r\n    bg: '#282c34',\r\n    color: '#b7b7b7',\r\n    padding: '10px 15px',\r\n    hover: {\r\n      color: '#dddddd',\r\n    },\r\n    alt: {\r\n      bg: '#b7b7b7',\r\n      color: '#282c34',\r\n      hover: {\r\n        color: '#3f4653',\r\n      },\r\n    }\r\n  },\r\n  input: {\r\n    bg: '#dfdfdf',\r\n    color: '#21252e',\r\n  },\r\n};\r\n\r\nexport const style = {\r\n  themes: {\r\n    dark,\r\n    light,\r\n  },\r\n  variables: variables,\r\n};","import styled from 'styled-components'\r\nimport { style, variables } from '../../config'\r\n\r\nexport const Page = styled.div`\r\n  margin: auto;\r\n  height: 100%;\r\n  //display: flex;\r\n  position: relative;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  max-width: ${variables.containerMaxWidth}\r\n`;\r\n\r\nexport const FlexBox = styled.div`\r\n  display: flex;\r\n  align-items: ${({ alignItems }) => alignItems ? alignItems : `center`};\r\n  justify-content: ${({ justifyContent }) => justifyContent ? justifyContent : `space-around`};\r\n  max-width: ${variables.containerMaxWidth}\r\n  \r\n  > div {\r\n    flex: 1;\r\n  }\r\n`;\r\n\r\n\r\nexport const Row = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  overflow: visible;\r\n  justify-content: flex-start;\r\n  padding-top: ${variables.spaceSmall};\r\n  \r\n  @media all and (max-width: 799px) {\r\n    flex-direction: column;\r\n    \r\n    > div {\r\n      flex-grow: 1;\r\n      padding: ${variables.space} !important;\r\n      padding-bottom: 0 !important;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Col = styled.div`\r\n  flex-grow: ${({ size }) => size ? size : 1};\r\n  padding-top: ${variables.space};\r\n  padding: ${variables.spaceSmall};\r\n  padding-bottom: 0 !important;\r\n  overflow: visible;\r\n  max-width: ${({ navBar }) => navBar ? '300px' : 'none'};\r\n  \r\n  &:first-child {\r\n    padding-left: ${variables.space};\r\n  }\r\n  \r\n  &:last-child {\r\n    padding-right: ${variables.space};\r\n  }\r\n  \r\n  @media all and (max-width: 799px) {\r\n    max-width: 100%;\r\n  }\r\n`;\r\n\r\nexport const PostArea = styled.div`\r\n  margin-bottom: 60px;\r\n`;\r\n\r\nexport const BoxContainer = styled.div`\r\n  width: 100%;\r\n  max-width: ${({ size }) => size ? `${size}px` : `100%`};\r\n  overflow: hidden;\r\n  border: 1px solid;\r\n  transition: ${variables.transition};\r\n  margin-top: ${({ mt }) => mt ? `${mt}px` : 0 };\r\n  \r\n  &:hover {\r\n    box-shadow: ${variables.boxShadow};\r\n  }\r\n  \r\n  @media all and (max-width: 430px) {\r\n    min-width: 90%;\r\n  }\r\n`;\r\n\r\nexport const BoxHeader = styled.div`\r\n  padding: 10px 15px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  transition: ${variables.transition};\r\n  border-bottom: 1px solid;\r\n  \r\n  a {\r\n    cursor: pointer;\r\n  \r\n    svg {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n  \r\n  svg {\r\n    margin-right: 5px;\r\n  }\r\n`;\r\n\r\nexport const BoxHeaderContent = styled.div`\r\n  max-width: 200px;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport const BoxSection = styled.div`\r\n  margin: ${variables.space} -${variables.space} 0;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport const BoxContent = styled.div`\r\n  padding: ${({ midSection }) => midSection ? `${variables.space} 0` : variables.space};\r\n  border-top: ${({ divider }) => divider ? '1px solid' : 'none'};\r\n`;\r\n\r\nexport const PostContentContainer = styled.h3`\r\n  width: 100%;\r\n  max-width: 600px;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport const CommentsContainer = styled.div`\r\n  border-top: 1px solid;\r\n  padding: ${variables.space};\r\n  padding-left: ${variables.spaceLarge};\r\n  width: 100%;\r\n  position: relative;\r\n`;\r\n\r\nexport const PostHeaderContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const PostAuthor = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n  justify-content: flex-start;\r\n  \r\n  svg {\r\n    margin-right: ${variables.spaceSmall};\r\n  }\r\n`;\r\n\r\nexport const PostDate = styled.div`\r\n  font-size: .8em;\r\n`;\r\n\r\n\r\nexport const CommentBox = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  border-radius: 18px;\r\n  justify-content: space-between;\r\n  padding: ${variables.space};\r\n  transition: ${variables.transition};\r\n  margin-bottom: ${variables.spaceSmall};\r\n  border: 1px solid;\r\n  \r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nexport const CommentContent = styled.div`\r\n  display: flex;\r\n  padding: 0;\r\n  font-size: .9em;\r\n  flex: 1;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  \r\n  strong {\r\n    margin-left: ${variables.spaceSmall};\r\n    margin-right: ${variables.spaceSmall};\r\n  }\r\n  \r\n  button {\r\n    font-size: .9em;\r\n  }\r\n`;\r\n\r\nexport const CommentText = styled.div`\r\n  width: auto;\r\n  max-width: 400px;\r\n  position: relative;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport const CommentActions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  font-size: .8em;\r\n`;\r\n\r\nexport const NavListWrapper = styled.div`\r\n  margin: -${variables.spaceSmall};\r\n  padding: ${variables.spaceSmall} 0;\r\n`;\r\n\r\nexport const NavItemWrapper = styled.a`\r\n  display: flex;\r\n  cursor: pointer;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  justify-content: flex-start;\r\n  position: relative;\r\n  overflow: hidden;\r\n  transition: ${variables.transition};\r\n  padding: ${variables.spaceSmall} ${variables.space};\r\n  background: ${({ theme, active }) => active ? style.themes[theme].link.active.bg : 'transparent'};\r\n  color: ${({ theme, active }) => active ? style.themes[theme].link.active.color : style.themes[theme].link.color};\r\n  \r\n  &:before {\r\n    content: \"\";\r\n    width: 50%;\r\n    height: 300%;\r\n    transform: rotateZ(-45deg);\r\n    background: linear-gradient(to top, rgba(255,255,255,0), rgba(255,255,255,0.4), rgba(255,255,255,0));\r\n    position: absolute;\r\n    left: -100%;\r\n    transition: .6s ease;\r\n    opacity: .1;\r\n  }\r\n\r\n  svg {\r\n    margin-right: ${variables.spaceSmall};\r\n  }\r\n  \r\n  &:hover {\r\n    text-shadow: ${variables.boxShadow};\r\n    \r\n    &:before {\r\n      left: 100%;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Overlay = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: -1;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0,0,0,0.2);\r\n`;\r\n\r\n\r\nexport const ModalContainer = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 2;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n`;\r\n\r\nexport const ModalBoxContainer = styled(BoxContainer)`\r\n  position: relative;\r\n  z-index: 3;\r\n  box-shadow: 0 6px 22px rgba(0,0,0,0.4);\r\n`;\r\n","import styled, { keyframes } from 'styled-components'\r\nimport { variables } from '../../config'\r\nimport { FaCog } from 'react-icons/fa'\r\nimport { style } from '../../config'\r\n\r\nexport const Form = styled.form`\r\n  width: ${({ expand }) => expand ? '98%' : '100%'};\r\n`;\r\n\r\nexport const FormGroup = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  margin-bottom: ${({ noMargin }) => noMargin ? 0 : variables.space};\r\n  \r\n  button {\r\n    margin-left: ${variables.spaceSmall};\r\n  }\r\n`\r\n\r\nexport const Label = styled.div`\r\n  font-size: .9em;\r\n  min-width: 100px;\r\n  \r\n  @media all and (max-width: 430px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const Field = styled.input`\r\n  flex-grow: 1;\r\n  opacity: .8;\r\n  padding: 10px;\r\n  font-size: .9em;\r\n  min-width: 60px;\r\n  border-radius: 18px;\r\n  border: 1px solid;\r\n  box-shadow: inset ${variables.boxShadow};\r\n  \r\n  &:focus {\r\n    opacity: 1;\r\n    outline: none;\r\n    box-shadow: ${variables.boxShadowHover};\r\n  }\r\n`;\r\n\r\nexport const ActionButton = styled.button`\r\n  border: none;\r\n  display: flex;\r\n  cursor: pointer;\r\n  max-height: 38px;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  box-shadow: 0 0 0 rgba(0,0,0,0);\r\n  transition: ${variables.transition};\r\n  position: relative;\r\n  overflow: hidden;\r\n  \r\n  &:before {\r\n    content: \"\";\r\n    width: 100%;\r\n    height: 100%;\r\n    transform: rotateZ(-45deg);\r\n    background: linear-gradient(to top, rgba(255,255,255,0), rgba(255,255,255,1), rgba(255,255,255,0));\r\n    position: absolute;\r\n    left: -100%;\r\n    transition: .4s ease;\r\n    opacity: .1;\r\n  }\r\n  \r\n  span {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  \r\n  svg {\r\n    margin-left: ${variables.spaceSmall};\r\n  }\r\n  \r\n  &:hover, &:focus {\r\n    outline: none;\r\n    box-shadow: ${variables.boxShadow};\r\n    \r\n    &:before {\r\n      left: 100%;\r\n    }\r\n  }\r\n  \r\n  &:disabled {\r\n    //opacity: .7;\r\n    cursor: not-allowed;\r\n    \r\n    &:hover, &:focus {\r\n      box-shadow: none;\r\n      \r\n    &:before {\r\n      left: 100%;\r\n    }\r\n    }\r\n  } \r\n  \r\n  @media all and (max-width: 430px) {\r\n    flex-grow: 2;\r\n  }\r\n`;\r\n\r\nexport const RadioButton = styled.button`\r\n  display: flex;\r\n  cursor: pointer;\r\n  border: 1px solid;\r\n  align-items: center;\r\n  margin-left: 0 !important;\r\n  justify-content: space-around;\r\n  box-shadow: 0 0 0 rgba(0,0,0,0);\r\n  transition: ${variables.transition};\r\n  background: ${({ activeTheme, active }) => active ? style.themes[activeTheme].button.bg : style.themes[activeTheme].button.alt.bg};\r\n  color: ${({ activeTheme, active }) => active ? style.themes[activeTheme].button.color : style.themes[activeTheme].button.alt.color};\r\n  \r\n  &:last-child {\r\n    margin-left: 0;\r\n    border-left: none;\r\n  }\r\n  \r\n  &:hover {\r\n    background: ${({ activeTheme, active }) => active ? style.themes[activeTheme].button.hover.bg : style.themes[activeTheme].button.alt.hover.bg};\r\n    color: ${({ activeTheme, active }) => active ? style.themes[activeTheme].button.hover.color : style.themes[activeTheme].button.alt.hover.color};  \r\n  }\r\n  \r\n  svg {\r\n    margin-right: ${variables.spaceSmall};\r\n  }\r\n  \r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport const ActionBarContainer = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n  align-items: center;\r\n  justify-content: ${({ justifyContent }) => justifyContent ? justifyContent : `flex-end`};\r\n  border-top: ${({ divider }) => divider ? '1px dashed' : 'none'};\r\n  padding-top: ${({ divider }) => divider ? variables.space : 0 };\r\n`;\r\n\r\nexport const SuccessMessage = styled.div`\r\n  margin-right: ${variables.spaceSmall};\r\n  font-size: .8em;\r\n`;\r\n\r\nexport const ButtonContent = styled.span`\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: baseline;\r\n  justify-content: flex-start;\r\n`;\r\n\r\n\r\n\r\nexport const ActionLink = styled.a`\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: ${variables.transition};\r\n  margin-left: ${({ marginLeft }) => marginLeft ? variables.spaceSmall : '0'};\r\n  position: relative;\r\n  \r\n  &:before {\r\n    content: \"\";\r\n    border-bottom: 2px solid;\r\n    width: 0;\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: -2px;\r\n    transition: .3s ease;\r\n    opacity: 0.7;\r\n  }\r\n  \r\n  &:hover {\r\n    text-decoration: none;\r\n    text-shadow: ${variables.boxShadow};\r\n    \r\n    &:before {\r\n      width: calc(100% - ${({ icon }) => icon ? `25px` : `0px`});\r\n    }\r\n  }\r\n  \r\n  svg, &:last-child {\r\n    margin-left: ${variables.spaceSmall};\r\n  }\r\n`;\r\n\r\nexport const ActionLinkContent = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n`;\r\n\r\nexport const rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  to {\r\n    transform: rotate(359deg);\r\n  }\r\n`;\r\n\r\nexport const FaCogSpin = styled(FaCog)`\r\n  animation: ${rotate} 1.4s linear infinite;\r\n`;\r\n\r\nexport const ErrorBox = styled.div`\r\n  border-radius: ${variables.buttonBorderRadius};\r\n  padding: ${variables.space};\r\n  margin-bottom: ${variables.space};\r\n  border: 1px solid;\r\n`;","import gql from 'graphql-tag';\r\n\r\nexport const authenticateUser = gql`\r\n  mutation AuthenticateUser ($email: String!, $password: String!) { \r\n    authenticateUser(email: $email, password: $password) {\r\n      token\r\n    }\r\n  }\r\n`;\r\n\r\nexport const signupUser = gql`\r\n  mutation SignupUser ($email: String!, $password: String!, $name: String) {\r\n    signupUser(email: $email, password: $password, name: $name) {\r\n      id\r\n      token\r\n    }\r\n  }\r\n`;\r\n\r\nexport const updateUser = gql`\r\n  mutation UpdateUser ($id: ID!, $name: String, $theme: String) {\r\n    updateUser(id: $id, name: $name, theme: $theme) {\r\n      id\r\n      name\r\n      email\r\n      theme\r\n    }\r\n  }\r\n`;\r\n\r\nexport const createPost = gql`\r\n  mutation CreatePost ($content: String!, $authorId: ID!) {\r\n    createPost(content: $content, authorId: $authorId) {\r\n      id\r\n      content\r\n    }\r\n  }\r\n`;\r\n\r\nexport const updatePost = gql`\r\n  mutation UpdatePost ($id: ID!, $content: String!, $authorId: ID!) {\r\n    updatePost(id: $id, content: $content, authorId: $authorId) {\r\n      id\r\n      content\r\n    }\r\n  }\r\n`;\r\n\r\nexport const likePost = gql`\r\n  mutation CreatePostLike ($postId: ID!, $authorId: ID!) {\r\n    createPostLike(postId: $postId, authorId: $authorId) {\r\n      id\r\n      author {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const dislikePost = gql`\r\n  mutation DeletePostLike ($id: ID!) {\r\n    deletePostLike(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const deletePost = gql`\r\n  mutation DeletePost ($id: ID!) {\r\n    deletePost(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const createComment = gql`\r\n  mutation CreateComment ($postId: ID!, $authorId: ID!, $content: String!) {\r\n    createComment(postId: $postId, authorId: $authorId, content: $content) {\r\n      id\r\n      content\r\n      author {\r\n        id\r\n        name\r\n      }\r\n      likes {\r\n        id\r\n        author {\r\n          id\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const updateComment = gql`\r\n  mutation UpdateComment ($id: ID!, $content: String!, $authorId: ID!) {\r\n    updateComment(id: $id, content: $content, authorId: $authorId) {\r\n      id\r\n      content\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const deleteComment = gql`\r\n  mutation DeleteComment ($id: ID!) {\r\n    deleteComment(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const likeComment = gql`\r\n  mutation CreateCommentLike ($commentId: ID!, $authorId: ID!) {\r\n    createCommentLike(commentId: $commentId, authorId: $authorId) {\r\n      id\r\n      author {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const dislikeComment = gql`\r\n  mutation DeleteCommentLike ($id: ID!) {\r\n    deleteCommentLike(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport {\r\n  Label,\r\n  Form,\r\n  Field,\r\n  ErrorBox,\r\n  FormGroup,\r\n  FaCogSpin,\r\n  ActionButton,\r\n  ButtonContent,\r\n} from '../elements/form';\r\nimport Flip from 'react-reveal/Flip';\r\nimport { FaPaperPlane } from 'react-icons/fa';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { createPost } from '../services/mutations';\r\n\r\nclass CreatePostForm extends React.Component {\r\n  state = {\r\n    content: '',\r\n    error: false,\r\n    theme: 'dark',\r\n    loading: false\r\n  }\r\n\r\n  render() {\r\n    const { loading, error, content } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        content,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      if (loading) {\r\n        disabled = true\r\n      }\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSaveChanges}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Label>\r\n            Post:\r\n          </Label>\r\n          <Field\r\n            value={content}\r\n            placeholder='post...'\r\n            onChange={this.handleFieldChange}\r\n          />\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Send\r\n                {!loading ? <FaPaperPlane/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    );\r\n  }\r\n\r\n  handleFieldChange = (e) => {\r\n    const { userId, onAuthRequired } = this.props;\r\n    if (userId) {\r\n      this.setState({content: e.target.value})\r\n    } else {\r\n      onAuthRequired()\r\n    }\r\n  }\r\n\r\n  handleSaveChanges = async (e) => {\r\n    const { content } = this.state;\r\n    const authorId = this.props.userId;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.createPost({\r\n      variables: { content, authorId }\r\n    })\r\n      .then((response) => (\r\n        this.setState({ content: '', loading: false, error: false }),\r\n        this.props.onUpdateRequired()\r\n      ))\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(createPost, { name: 'createPost'})\r\n)(CreatePostForm);\r\n","import React from 'react';\r\nimport { BoxContainer, BoxContent, BoxHeader } from '../../elements/layout';\r\nimport Flip from 'react-reveal/Flip';\r\nimport { FaTimes } from 'react-icons/fa';\r\n\r\nclass Box extends React.Component {\r\n  render() {\r\n    const { header, size, children, onClose, mt } = this.props;\r\n    return (\r\n      <BoxContainer size={size} mt={mt}>\r\n        {header && (\r\n          <BoxHeader>\r\n            <Flip top cascade>\r\n              {header}\r\n            </Flip>\r\n            {onClose && <a onClick={onClose}><FaTimes/></a>}\r\n          </BoxHeader>\r\n        )}\r\n        <BoxContent>\r\n          {children}\r\n        </BoxContent>\r\n      </BoxContainer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Box;\r\n","import React from 'react';\r\nimport CreatePostForm from '../../../forms/CreatePostForm'\r\nimport Box from '../../../components/Box'\r\nimport { CurrentUser } from '../index'\r\nimport { PostContext } from './index'\r\n\r\nclass CreatePost extends React.Component {\r\n  render() {\r\n    return (\r\n      <CurrentUser.Consumer>\r\n        {({ userName, userId, onAuthRequired }) => (\r\n          <PostContext.Consumer>\r\n            {({ onUpdateRequired }) => (\r\n              <Box header={`What are you thinking ${userName}?`}>\r\n                <CreatePostForm\r\n                  userId={userId}\r\n                  onUpdateRequired={onUpdateRequired}\r\n                  onAuthRequired={onAuthRequired}\r\n                />\r\n              </Box>\r\n            )}\r\n          </PostContext.Consumer>\r\n        )}\r\n      </CurrentUser.Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreatePost","import React from 'react';\r\nimport Tada from 'react-reveal/Tada';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { FaRegThumbsUp, FaThumbsUp } from 'react-icons/fa';\r\nimport { ActionLink, ActionLinkContent } from '../../../elements/form';\r\nimport { dislikeComment, likeComment } from '../../../services/mutations';\r\n\r\nclass LikesComment extends React.Component {\r\n  state = {\r\n    counter: 0,\r\n  };\r\n\r\n  render() {\r\n    const { comment, userId } = this.props;\r\n    const likes = comment.likes;\r\n    let liked = false;\r\n    let likeId = null;\r\n\r\n    likes.forEach((like) => {\r\n      if (like.author.id === userId) {\r\n        liked = true;\r\n        likeId = like.id\r\n      }\r\n    });\r\n\r\n    return (\r\n      <ActionLink icon onClick={liked ? this.handleDislike(likeId) : this.handleLike}>\r\n        <ActionLinkContent>\r\n          {likes.length > 1 ? 'Likes' : 'Like'} {likes.length}\r\n          <Tada  spy={this.state.counter}>\r\n            {liked ? <FaThumbsUp/> : <FaRegThumbsUp/>}\r\n          </Tada>\r\n        </ActionLinkContent>\r\n      </ActionLink>\r\n    )\r\n  }\r\n\r\n  handleLike = () => {\r\n    const { likeComment, comment, userId, onUpdateRequired, onAuthRequired } = this.props;\r\n\r\n    if (userId) {\r\n      likeComment({\r\n        variables: { commentId: comment.id, authorId: userId }\r\n      })\r\n        .then(() => (\r\n          onUpdateRequired()\r\n        ));\r\n      this.setState({ counter: this.state.counter + 1 });\r\n    } else {\r\n      onAuthRequired()\r\n    }\r\n  };\r\n\r\n  handleDislike = (likeId) => () => {\r\n    const { dislikeComment, onUpdateRequired } = this.props;\r\n\r\n    dislikeComment({\r\n      variables: { id: likeId }\r\n    })\r\n      .then(() => (\r\n        onUpdateRequired()\r\n      ));\r\n    this.setState({ counter: this.state.counter - 1 });\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(likeComment, { name: 'likeComment'}),\r\n  graphql(dislikeComment, { name: 'dislikeComment'})\r\n)(LikesComment);\r\n","import React from 'react';\r\nimport {\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup,\r\n} from '../elements/form';\r\nimport { FaPaperPlane } from 'react-icons/fa';\r\nimport Flip from 'react-reveal/Flip';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { updateComment } from '../services/mutations';\r\n\r\nclass EditCommentForm extends React.Component {\r\n  state = {\r\n    content: '',\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { commentContent } = this.props;\r\n    this.setState({ content: commentContent });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { loading, error, content } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        content,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      if (loading) {\r\n        disabled = true\r\n      }\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form expand onSubmit={this.handleSaveChanges}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Field\r\n            value={content}\r\n            placeholder='post...'\r\n            onChange={(e) => this.setState({content: e.target.value})}\r\n          />\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Send\r\n                {!loading ? <FaPaperPlane/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    );\r\n  }\r\n\r\n  handleSaveChanges = async (e) => {\r\n    const { content } = this.state;\r\n    const { userId, commentId } = this.props;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.updateComment({\r\n      variables: { id: commentId, content, authorId: userId }\r\n    })\r\n      .then(() => (\r\n        this.setState({ loading: false, error: false }),\r\n        this.props.updateRequired()\r\n      ))\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(updateComment, { name: 'updateComment'})\r\n)(EditCommentForm);\r\n","import React from 'react';\r\nimport {\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Form,\r\n  FormGroup, Label,\r\n} from '../elements/form';\r\nimport { FaPaperPlane } from 'react-icons/fa';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { deleteComment } from '../services/mutations';\r\n\r\nclass DeleteCommentForm extends React.Component {\r\n  state = {\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  render() {\r\n    const { loading, error } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleDeletePost}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Label>\r\n            Are you sure?\r\n          </Label>\r\n          <ActionButton type=\"submit\">\r\n            <ButtonContent>\r\n              Yes\r\n              {!loading ? <FaPaperPlane/> : ''}\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n          <ActionButton type=\"button\" onClick={this.handleCancel}>\r\n            <ButtonContent>\r\n              cancel\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  handleDeletePost = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const { commentId, updateRequired } = this.props;\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.deleteComment({\r\n      variables: { id: commentId }\r\n    })\r\n      .then(() => (\r\n        this.setState({ loading: false, error: false }),\r\n          updateRequired()\r\n      ))\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.props.onCancel();\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(deleteComment, { name: 'deleteComment'})\r\n)(DeleteCommentForm);\r\n","import React from 'react';\r\nimport Flip from 'react-reveal/Flip';\r\nimport LikesComment from '../LikesComment';\r\nimport { ActionLink } from '../../../elements/form';\r\nimport EditCommentForm from '../../../forms/EditCommentForm';\r\nimport { FaPencilAlt, FaTrashAlt, FaUser } from 'react-icons/fa';\r\nimport DeleteCommentForm from '../../../forms/DeleteCommentForm';\r\nimport {\r\n  CommentActions,\r\n  CommentBox,\r\n  CommentContent,\r\n  CommentText\r\n} from '../../../elements/layout';\r\n\r\nclass Comment extends React.Component {\r\n  state = {\r\n    counter: 0,\r\n    showDeleteComment: false\r\n  };\r\n\r\n  render() {\r\n    const { comment, userId, onUpdateRequired, onAuthRequired } = this.props;\r\n    const { showDeleteComment, showEditComment } = this.state;\r\n    const showCommentContent = !showDeleteComment && !showEditComment;\r\n    const isUserComment = comment.author.id === userId;\r\n\r\n    return (\r\n      <CommentBox key={comment.id}>\r\n        {showCommentContent && (\r\n          <CommentContent>\r\n            <FaUser/>\r\n            {' '}\r\n            <strong>{comment.author.name}</strong>\r\n            <CommentText>\r\n              <Flip cascade top>\r\n                {comment.content}\r\n              </Flip>\r\n            </CommentText>\r\n          </CommentContent>\r\n        )}\r\n        {showEditComment && (\r\n          <CommentContent>\r\n            <EditCommentForm\r\n              userId={userId}\r\n              commentId={comment.id}\r\n              commentContent={comment.content}\r\n              updateRequired={this.toggleEditComment}\r\n            />\r\n          </CommentContent>\r\n        )}\r\n        {showDeleteComment && (\r\n          <CommentContent>\r\n            <DeleteCommentForm\r\n              userId={userId}\r\n              commentId={comment.id}\r\n              onCancel={this.toggleDeleteComment}\r\n              updateRequired={onUpdateRequired}\r\n            />\r\n          </CommentContent>\r\n        )}\r\n        <CommentActions>\r\n          {isUserComment && (\r\n            <ActionLink marginLeft icon onClick={this.toggleEditComment}>\r\n              <span>\r\n                <FaPencilAlt/>\r\n              </span>\r\n            </ActionLink>\r\n          )}\r\n          {isUserComment && (\r\n            <ActionLink icon onClick={this.toggleDeleteComment}>\r\n              <span>\r\n                <FaTrashAlt/>\r\n              </span>\r\n            </ActionLink>\r\n          )}\r\n          <LikesComment\r\n            comment={comment}\r\n            userId={userId}\r\n            onUpdateRequired={onUpdateRequired}\r\n            onAuthRequired={onAuthRequired}\r\n          />\r\n        </CommentActions>\r\n      </CommentBox>\r\n    );\r\n  }\r\n\r\n  handleLike = () => {\r\n    this.setState({ counter: this.state.counter + 1 });\r\n  };\r\n\r\n  toggleEditComment = () => {\r\n    this.setState({\r\n      showEditComment: !this.state.showEditComment,\r\n      showDeleteComment: false\r\n    })\r\n  };\r\n\r\n  toggleDeleteComment = () => {\r\n    this.setState({\r\n      showDeleteComment: !this.state.showDeleteComment,\r\n      showEditComment: false\r\n    });\r\n  }\r\n}\r\n\r\nexport default Comment;\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Label,\r\n  Field,\r\n  ErrorBox,\r\n  FormGroup,\r\n  FaCogSpin,\r\n  ActionButton,\r\n  ButtonContent,\r\n} from '../elements/form';\r\nimport Flip from 'react-reveal/Flip';\r\nimport { FaPaperPlane } from 'react-icons/fa';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { createComment } from '../services/mutations';\r\n\r\nclass CreateCommentForm extends React.Component {\r\n  state = {\r\n    content: '',\r\n    loading: false,\r\n    error: false\r\n  };\r\n\r\n  render() {\r\n    const { loading, error, content } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        content,\r\n      ];\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      });\r\n\r\n      if (loading) {\r\n        disabled = true\r\n      }\r\n\r\n      return disabled;\r\n    };\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSaveChanges}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Label>\r\n            Comment:\r\n          </Label>\r\n          <Field\r\n            value={content}\r\n            placeholder='comment...'\r\n            onChange={this.handleFieldChange}\r\n          />\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Send\r\n                {!loading ? <FaPaperPlane/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    );\r\n  }\r\n\r\n  handleFieldChange = (e) => {\r\n    const { userId, onAuthRequired } = this.props;\r\n    if (userId) {\r\n      this.setState({content: e.target.value})\r\n    } else {\r\n      onAuthRequired()\r\n    }\r\n  };\r\n\r\n  handleSaveChanges = async (e) => {\r\n    const { content } = this.state;\r\n    const { postId, userId, onUpdateRequired } = this.props;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.createComment({\r\n      variables: { postId, authorId: userId, content }\r\n    })\r\n      .then(() => (\r\n        this.setState({ content: '', loading: false, error: false }),\r\n        onUpdateRequired()\r\n      ))\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(createComment, { name: 'createComment' })\r\n)(CreateCommentForm);\r\n","import React from 'react';\r\nimport Comment from '../Comment';\r\nimport CreateCommentForm from '../../../forms/CreateCommentForm';\r\nimport { BoxContent, CommentsContainer } from '../../../elements/layout';\r\nimport { CurrentPostContext } from '../Post';\r\n\r\nclass Comments extends React.Component {\r\n  render() {\r\n    return (\r\n      <CurrentPostContext.Consumer>\r\n        {({ post, onAuthRequired, userId, onUpdateRequired }) => (\r\n          <>\r\n            {post.comments.length > 0 && (\r\n              <CommentsContainer>\r\n                {post.comments.map((comment) => {\r\n                  return (\r\n                    <Comment\r\n                      key={comment.id}\r\n                      comment={comment}\r\n                      userId={userId}\r\n                      onAuthRequired={onAuthRequired}\r\n                      onUpdateRequired={onUpdateRequired}\r\n                    />\r\n                  );\r\n                })}\r\n              </CommentsContainer>\r\n            )}\r\n            <BoxContent divider>\r\n              <CreateCommentForm\r\n                userId={userId}\r\n                onAuthRequired={onAuthRequired}\r\n                onUpdateRequired={onUpdateRequired}\r\n                postId={post.id}\r\n              />\r\n            </BoxContent>\r\n          </>\r\n        )}\r\n      </CurrentPostContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Comments;\r\n","import React from 'react';\r\nimport { PostAuthor, PostDate, PostHeaderContainer } from '../../../elements/layout';\r\nimport { FaPencilAlt, FaTrashAlt, FaUser } from 'react-icons/fa';\r\nimport TimeAgo from 'react-timeago';\r\nimport { ActionLink } from '../../../elements/form';\r\nimport { CurrentPostContext } from './index';\r\n\r\nclass PostHeader extends React.Component {\r\n  render() {\r\n    return (\r\n      <CurrentPostContext.Consumer>\r\n        {({ post, onEditPost, onDeletePost, userId }) => (\r\n          <PostHeaderContainer>\r\n            <PostAuthor>\r\n              <FaUser/>{' '}\r\n              {post.author.name}\r\n            </PostAuthor>\r\n            <PostDate>\r\n              <TimeAgo date={post.updatedAt} />\r\n              {post.author.id === userId && (\r\n                <ActionLink marginLeft icon onClick={onEditPost}>\r\n                  <FaPencilAlt/>\r\n                </ActionLink>\r\n              )}\r\n              {post.author.id === userId && (\r\n                <ActionLink icon onClick={onDeletePost}>\r\n                  <FaTrashAlt/>\r\n                </ActionLink>\r\n              )}\r\n            </PostDate>\r\n          </PostHeaderContainer>\r\n        )}\r\n      </CurrentPostContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostHeader;\r\n","import React from 'react';\r\nimport Flip from 'react-reveal/Flip';\r\nimport { PostContentContainer } from '../../../elements/layout';\r\nimport { CurrentPostContext } from './index';\r\n\r\nclass PostContent extends React.Component {\r\n  render() {\r\n    return (\r\n      <CurrentPostContext.Consumer>\r\n        {({ post }) => (\r\n          <PostContentContainer>\r\n            <Flip cascade top>\r\n              {post.content}\r\n            </Flip>\r\n          </PostContentContainer>\r\n        )}\r\n      </CurrentPostContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostContent;\r\n","import React from 'react';\r\nimport {\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup, Label,\r\n} from '../elements/form';\r\nimport { FaPaperPlane } from 'react-icons/fa';\r\nimport Flip from 'react-reveal/Flip';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { updatePost } from '../services/mutations';\r\n\r\nclass EditPostForm extends React.Component {\r\n  state = {\r\n    theme: 'dark',\r\n    content: '',\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { postContent } = this.props;\r\n    this.setState({ content: postContent });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { loading, error, content } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        content,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      if (loading) {\r\n        disabled = true\r\n      }\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSaveChanges}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Label>\r\n            Edit Post:\r\n          </Label>\r\n          <Field\r\n            value={content}\r\n            placeholder='post...'\r\n            onChange={(e) => this.setState({content: e.target.value})}\r\n          />\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Send\r\n                {!loading ? <FaPaperPlane/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    );\r\n  }\r\n\r\n  handleSaveChanges = async (e) => {\r\n    const { content } = this.state;\r\n    const { userId, postId } = this.props;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.updatePost({\r\n      variables: { id: postId, content, authorId: userId }\r\n    })\r\n      .then(() => (\r\n        this.setState({ loading: false, error: false }),\r\n        this.props.onEditComplete()\r\n      ))\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(updatePost, { name: 'updatePost'})\r\n)(EditPostForm);\r\n","import React from 'react';\r\nimport EditPostForm from '../../../forms/EditPostForm';\r\nimport { BoxContent } from '../../../elements/layout';\r\nimport { CurrentPostContext } from './index';\r\n\r\nclass PostEdit extends React.Component {\r\n  render() {\r\n    return (\r\n      <CurrentPostContext.Consumer>\r\n        {({ post, userId, onEditPost }) => (\r\n          <BoxContent midSection>\r\n            <EditPostForm\r\n              userId={userId}\r\n              postId={post.id}\r\n              postContent={post.content}\r\n              onEditComplete={onEditPost}\r\n            />\r\n          </BoxContent>\r\n        )}\r\n      </CurrentPostContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostEdit;\r\n","import React from 'react';\r\nimport {\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Form,\r\n  FormGroup, Label,\r\n} from '../elements/form';\r\nimport { FaPaperPlane } from 'react-icons/fa'\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { deletePost } from '../services/mutations'\r\n\r\nclass DeletePostForm extends React.Component {\r\n  state = {\r\n    theme: 'dark',\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  render() {\r\n    const { loading, error } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleDeletePost}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Label>\r\n            Are you sure?\r\n          </Label>\r\n          <ActionButton type=\"submit\">\r\n            <ButtonContent>\r\n              Yes\r\n              {!loading ? <FaPaperPlane/> : ''}\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n          <ActionButton type=\"button\" onClick={this.handleCancel}>\r\n            <ButtonContent>\r\n              cancel\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    );\r\n  }\r\n\r\n  handleDeletePost = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const { postId, onUpdateRequired } = this.props;\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.deletePost({\r\n      variables: { id: postId }\r\n    })\r\n      .then(() => (\r\n        this.setState({ loading: false, error: false }),\r\n          onUpdateRequired()\r\n      ))\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.props.onCancel();\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(deletePost, { name: 'deletePost'})\r\n)(DeletePostForm);\r\n","import React from 'react';\r\nimport { BoxContent } from '../../../elements/layout';\r\nimport { CurrentPostContext } from './index';\r\nimport DeletePostForm from '../../../forms/DeletePostForm';\r\n\r\nclass PostDelete extends React.Component {\r\n  render() {\r\n    return (\r\n      <CurrentPostContext.Consumer>\r\n        {({ post, userId, onDeletePost, onUpdateRequired }) => (\r\n          <BoxContent midSection>\r\n            <DeletePostForm\r\n              userId={userId}\r\n              postId={post.id}\r\n              onCancel={onDeletePost}\r\n              onUpdateRequired={onUpdateRequired}\r\n            />\r\n          </BoxContent>\r\n        )}\r\n      </CurrentPostContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostDelete;\r\n","import React from 'react';\r\nimport Tada from 'react-reveal/Tada';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { FaRegThumbsUp, FaThumbsUp } from 'react-icons/fa';\r\nimport { dislikePost, likePost } from '../../../services/mutations';\r\nimport { ActionLink, ActionLinkContent } from '../../../elements/form';\r\n\r\nclass LikesPost extends React.Component {\r\n  state = {\r\n    counter: 0,\r\n  };\r\n\r\n  render() {\r\n    const { post, userId } = this.props;\r\n    const likes = post.likes;\r\n    let liked = false;\r\n    let likeId = null;\r\n\r\n    likes.forEach((like) => {\r\n      if (like.author.id === userId) {\r\n        liked = true;\r\n        likeId = like.id\r\n      }\r\n    });\r\n\r\n    return (\r\n      <ActionLink icon onClick={liked ? this.handleDislike(likeId) : this.handleLike}>\r\n        <ActionLinkContent>\r\n          {likes.length > 1 ? 'Likes' : 'Like'} {likes.length}\r\n          <Tada  spy={this.state.counter}>\r\n            {liked ? <FaThumbsUp/> : <FaRegThumbsUp/>}\r\n          </Tada>\r\n        </ActionLinkContent>\r\n      </ActionLink>\r\n    );\r\n  }\r\n\r\n  handleLike = () => {\r\n    const { likePost, post, userId, onUpdateRequired, onAuthRequired } = this.props;\r\n\r\n    if (userId) {\r\n      likePost({\r\n        variables: { postId: post.id, authorId: userId }\r\n      })\r\n        .then(() => (\r\n          onUpdateRequired()\r\n        ));\r\n      this.setState({ counter: this.state.counter + 1 });\r\n    } else {\r\n      onAuthRequired()\r\n    }\r\n  }\r\n\r\n  handleDislike = (likeId) => () => {\r\n    const { dislikePost, onUpdateRequired } = this.props;\r\n\r\n    dislikePost({\r\n      variables: { id: likeId }\r\n    })\r\n      .then(() => (\r\n        onUpdateRequired()\r\n      ));\r\n    this.setState({ counter: this.state.counter - 1 });\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(likePost, { name: 'likePost'}),\r\n  graphql(dislikePost, { name: 'dislikePost'})\r\n)(LikesPost);\r\n","import React from 'react';\r\nimport { CurrentPostContext } from './index';\r\nimport { ActionBarContainer, ActionLink } from '../../../elements/form';\r\nimport LikesPost from '../LikesPost';\r\nimport { FaComment, FaRegComment } from 'react-icons/fa';\r\n\r\nclass ActionBar extends React.Component {\r\n  render() {\r\n    return (\r\n      <CurrentPostContext.Consumer>\r\n        {({ post, onToggleComments, userId, onUpdateRequired, onAuthRequired }) => {\r\n\r\n          const commentsSize = post.comments.length;\r\n          const commentsIcon = commentsSize > 0 ? <FaComment/> : <FaRegComment/>;\r\n          const commentsLabel = commentsSize > 1 ? 'Comments' : 'Comment';\r\n\r\n          return (\r\n            <ActionBarContainer divider>\r\n              <ActionLink icon onClick={onToggleComments}>\r\n                <span>\r\n                  {commentsLabel} {commentsSize}\r\n                  {commentsIcon}\r\n                </span>\r\n              </ActionLink>\r\n              <LikesPost\r\n                post={post}\r\n                userId={userId}\r\n                onUpdateRequired={onUpdateRequired}\r\n                onAuthRequired={onAuthRequired}\r\n              />\r\n            </ActionBarContainer>\r\n          )}\r\n        }\r\n      </CurrentPostContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ActionBar;","import React from 'react';\r\nimport Comments from '../Comments';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { likePost } from '../../../services/mutations';\r\nimport { BoxSection } from '../../../elements/layout';\r\nimport Box from '../../../components/Box';\r\nimport PostHeader from './PostHeader';\r\nimport PostContent from './PostContent';\r\nimport PostEdit from './PostEdit';\r\nimport PostDelete from './PostDelete';\r\nimport ActionBar from './ActionBar';\r\n\r\nexport const CurrentPostContext = React.createContext({});\r\n\r\nclass Post extends React.Component {\r\n  state = {\r\n    showComments: false,\r\n    counter: 0,\r\n    showEditPostForm: false,\r\n    showDeletePostForm: false\r\n  };\r\n\r\n  render() {\r\n    const { post, userId, onUpdateRequired, onAuthRequired } = this.props;\r\n    const { showComments, showEditPostForm, showDeletePostForm } = this.state;\r\n    const showPostContent = !showEditPostForm && !showDeletePostForm;\r\n\r\n    const currentPostContextValue = {\r\n      post,\r\n      userId,\r\n      onEditPost: this.handleEditPost,\r\n      onDeletePost: this.handleDeletePost,\r\n      onToggleComments: this.handleToggleComments,\r\n      onUpdateRequired,\r\n      onAuthRequired,\r\n    };\r\n\r\n    return (\r\n      <CurrentPostContext.Provider value={currentPostContextValue}>\r\n        <Box mt={15}>\r\n          <PostHeader/>\r\n          {showPostContent && <PostContent/>}\r\n          {showEditPostForm && <PostEdit/>}\r\n          {showDeletePostForm && <PostDelete/>}\r\n          <ActionBar/>\r\n          {showComments && (\r\n            <BoxSection>\r\n              <Comments/>\r\n            </BoxSection>\r\n          )}\r\n        </Box>\r\n      </CurrentPostContext.Provider>\r\n    );\r\n  }\r\n\r\n  handleToggleComments = () => {\r\n    this.setState({ showComments: !this.state.showComments })\r\n  };\r\n\r\n  handleEditPost = () => {\r\n    this.setState({\r\n      showEditPostForm: !this.state.showEditPostForm,\r\n      showDeletePostForm: false\r\n    })\r\n  };\r\n\r\n  handleDeletePost = () => {\r\n    this.setState({\r\n      showDeletePostForm: !this.state.showDeletePostForm,\r\n      showEditPostForm: false\r\n    })\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(likePost, { name: 'likePost'})\r\n)(Post);\r\n","import React from 'react';\r\nimport { PostContext } from './index';\r\nimport Post from '../Post';\r\nimport { CurrentUser } from '../index';\r\n\r\nclass AllPosts extends React.Component {\r\n  render() {\r\n    return (\r\n      <CurrentUser.Consumer>\r\n        {({ userId, onAuthRequired }) => (\r\n          <PostContext.Consumer>\r\n            {({ posts, onUpdateRequired }) => {\r\n              return posts.length > 1 && posts.map((post) => {\r\n                return (\r\n                  <Post\r\n                    post={post}\r\n                    key={post.id}\r\n                    userId={userId}\r\n                    onUpdateRequired={onUpdateRequired}\r\n                    onAuthRequired={onAuthRequired}\r\n                  />\r\n                );\r\n              })\r\n            }}\r\n          </PostContext.Consumer>\r\n        )}\r\n      </CurrentUser.Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AllPosts;\r\n","import React from 'react';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { allPosts } from '../../../services/queries';\r\nimport { PostArea } from '../../../elements/layout';\r\nimport CreatePost from './CreatePost';\r\nimport AllPosts from './AllPosts';\r\n\r\nexport const PostContext = React.createContext({});\r\n\r\nclass Posts extends React.PureComponent {\r\n  render() {\r\n    const { allPosts } = this.props;\r\n    let posts = []\r\n\r\n    if (allPosts.allPosts) {\r\n      posts = allPosts.allPosts\r\n    }\r\n\r\n    const postContextValue = {\r\n      posts: allPosts.allPosts ? allPosts.allPosts : [],\r\n      onUpdateRequired: this.handleRefetch\r\n    }\r\n\r\n    return (\r\n      <PostContext.Provider value={postContextValue}>\r\n        <PostArea>\r\n          <CreatePost/>\r\n          <AllPosts/>\r\n        </PostArea>\r\n      </PostContext.Provider>\r\n    )\r\n  }\r\n\r\n  handleRefetch = () => {\r\n    this.props.allPosts.refetch();\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(allPosts, { name: 'allPosts' })\r\n)(Posts);\r\n","import React from 'react';\r\nimport { StyleContext } from '../../scenes'\r\nimport { NavItemWrapper } from '../../elements/layout'\r\n\r\nclass NavItem extends React.Component {\r\n  render() {\r\n    const { children, active, onSelect } = this.props;\r\n    return (\r\n      <StyleContext.Consumer>\r\n        {({ activeTheme }) => (\r\n          <NavItemWrapper onClick={onSelect} theme={activeTheme} active={active}>\r\n            {children}\r\n          </NavItemWrapper>\r\n        )}\r\n      </StyleContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavItem;\r\n","import React from 'react';\r\nimport { NavListWrapper } from '../../elements/layout';\r\n\r\nclass NavList extends React.Component {\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <NavListWrapper>\r\n        {children}\r\n      </NavListWrapper>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NavList;\r\n","import React from 'react';\r\nimport { FaEnvelope, FaUserCog } from 'react-icons/fa';\r\nimport { CurrentUser } from '../index'\r\nimport Box from '../../../components/Box'\r\nimport NavItem from '../../../components/NavItem'\r\nimport NavList from '../../../components/NavList'\r\n\r\nclass NavBar extends React.Component {\r\n  state = {\r\n    activeItem: 'posts',\r\n  }\r\n\r\n  render() {\r\n    const { activeItem } = this.state;\r\n    const items = [\r\n      { name: 'Posts', key: 'posts', icon: (<FaEnvelope/>)},\r\n      { name: 'Settings', key: 'settings', icon: (<FaUserCog/>)},\r\n    ];\r\n\r\n    return (\r\n      <CurrentUser.Consumer>\r\n        {({ userName, userId, onAuthRequired, onSelectView }) => (\r\n          <Box size={500} header={`Welcome ${userName}`}>\r\n            <NavList>\r\n              {items.map((view) => {\r\n                return (\r\n                  <NavItem\r\n                    key={view.key}\r\n                    active={activeItem === view.key}\r\n                    onSelect={userId ? this.handleClick(view.key, onSelectView) : onAuthRequired}\r\n                  >\r\n                    {view.icon}\r\n                    {view.name}\r\n                  </NavItem>\r\n                );\r\n              })}\r\n            </NavList>\r\n          </Box>\r\n        )}\r\n      </CurrentUser.Consumer>\r\n    );\r\n  }\r\n\r\n  handleClick = (item, onSelectView) => () => {\r\n    this.setState({ activeItem: item });\r\n    onSelectView(item);\r\n  }\r\n}\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport {\r\n  ActionBarContainer,\r\n  ActionButton,\r\n  ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  RadioButton,\r\n  SuccessMessage\r\n} from '../elements/form';\r\nimport { FaMoon, FaLightbulb, FaPaperclip } from 'react-icons/fa';\r\nimport Flip from 'react-reveal/Flip';\r\nimport Fade from 'react-reveal/Fade';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { updateUser } from '../services/mutations';\r\n\r\nclass UserSettingsForm extends React.Component {\r\n  state = {\r\n    id: '',\r\n    name: '',\r\n    loading: false,\r\n    error: false,\r\n    saveSuccess: false\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { userId, userName, userTheme, onSelectTheme } = this.props;\r\n    onSelectTheme(userTheme);\r\n    this.setState({\r\n      id: userId,\r\n      name: userName,\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    const { activeTheme } = this.props;\r\n    const { loading, error, name, saveSuccess } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        name,\r\n        activeTheme,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      if (loading) {\r\n        disabled = true\r\n      }\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSaveChanges}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup>\r\n          <Label>\r\n            name:\r\n          </Label>\r\n          <Field\r\n            value={name}\r\n            placeholder='name'\r\n            onChange={(e) => this.setState({name: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>\r\n            Theme:\r\n          </Label>\r\n          <RadioButton\r\n            type=\"button\"\r\n            activeTheme={activeTheme}\r\n            active={activeTheme === 'dark'}\r\n            onClick={this.handleSelectTheme('dark')}\r\n          >\r\n            <FaMoon/>\r\n            Dark\r\n          </RadioButton>\r\n          <RadioButton\r\n            type=\"button\"\r\n            activeTheme={activeTheme}\r\n            active={activeTheme === 'light'}\r\n            onClick={this.handleSelectTheme('light')}\r\n          >\r\n            <FaLightbulb/>\r\n            Light\r\n          </RadioButton>\r\n        </FormGroup>\r\n        <ActionBarContainer divider>\r\n          <Fade bottom opposite when={saveSuccess}>\r\n            <SuccessMessage>\r\n              Saved!\r\n            </SuccessMessage>\r\n          </Fade>\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Save\r\n                {!loading ? <FaPaperclip/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </ActionBarContainer>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  handleSaveChanges = async (e) => {\r\n    const { updateUser, activeTheme } = this.props;\r\n    const { name, id } = this.state;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n\r\n    updateUser({\r\n      variables: { id, name, theme: activeTheme },\r\n    })\r\n      .then(() => (\r\n        this.setState({ loading: false, error: false, saveSuccess: true }),\r\n        setTimeout(() => this.setState({ saveSuccess: false  }), 2000)\r\n      ))\r\n      .catch(() => (\r\n        this.setState({ loading: false, error: true })\r\n      ))\r\n  }\r\n\r\n  handleSelectTheme = (theme) => () => {\r\n    const { onSelectTheme } = this.props;\r\n    onSelectTheme(theme)\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(updateUser,\r\n    { name: 'updateUser' })\r\n)(UserSettingsForm)","import React from 'react';\r\nimport { FaUserCog } from 'react-icons/fa';\r\nimport UserSettingsForm from '../../../forms/UserSettingsForm';\r\nimport Box from '../../../components/Box';\r\nimport { CurrentUser } from '../../App';\r\nimport { StyleContext } from '../../index';\r\n\r\nclass Settings extends React.Component {\r\n  render() {\r\n    return (\r\n      <CurrentUser.Consumer>\r\n        {({ userId, userName, userTheme }) => (\r\n          <StyleContext.Consumer>\r\n            {({ onSelectTheme, activeTheme }) => (\r\n              <Box header={(<><FaUserCog/> Settings</>)}>\r\n                <UserSettingsForm\r\n                  userId={userId}\r\n                  userName={userName}\r\n                  userTheme={userTheme}\r\n                  activeTheme={activeTheme}\r\n                  onSelectTheme={onSelectTheme}\r\n                />\r\n              </Box>\r\n            )}\r\n          </StyleContext.Consumer>\r\n        )}\r\n      </CurrentUser.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Settings;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { graphql, compose } from 'react-apollo';\r\nimport {\r\n  ActionBarContainer,\r\n  ActionButton, ActionLink, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n} from '../elements/form';\r\nimport { authenticateUser } from '../services/mutations';\r\nimport { FaSignInAlt } from 'react-icons/fa';\r\nimport Flip from 'react-reveal/Flip';\r\n\r\nclass LoginUserForm extends React.Component {\r\n  state = {\r\n    email: 'guest@smd.com',\r\n    password: 'ttest',\r\n    loading: false,\r\n    error: false,\r\n  };\r\n\r\n  render () {\r\n    const { loading, error, email, password } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false;\r\n      const values = [\r\n        email,\r\n        password,\r\n      ];\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      });\r\n\r\n      return disabled;\r\n    };\r\n\r\n    return (\r\n      <Form onSubmit={this.authenticateUser}>\r\n        {error && (\r\n          <ErrorBox>\r\n            invalid credentials\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup>\r\n          <Label>\r\n            Email:\r\n          </Label>\r\n          <Field\r\n            value={this.state.email}\r\n            placeholder='Email address'\r\n            onChange={(e) => this.setState({email: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>\r\n            Password:\r\n          </Label>\r\n          <Field\r\n            type=\"password\"\r\n            value={this.state.password}\r\n            placeholder='Password'\r\n            onChange={(e) => this.setState({password: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <ActionBarContainer divider justifyContent={'space-between'}>\r\n          <ActionLink onClick={this.handleSignUp}>\r\n            <span>\r\n              Sign Up\r\n            </span>\r\n          </ActionLink>\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Log In\r\n                {!loading ? <FaSignInAlt/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </ActionBarContainer>\r\n      </Form>\r\n    );\r\n  }\r\n\r\n  handleSignUp = () => {\r\n    const { history } = this.props;\r\n    history.replace('/social-media-demo/signup');\r\n  };\r\n\r\n  authenticateUser = async (e) => {\r\n    const { authenticateUser, history, updateRequired } = this.props;\r\n    const {email, password} = this.state;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n\r\n    authenticateUser({\r\n      variables: { email, password },\r\n    })\r\n      .then((response) => (\r\n        localStorage.setItem('graphcoolToken', response.data.authenticateUser.token),\r\n        history.replace('/social-media-demo/'),\r\n        updateRequired()\r\n      ))\r\n      .catch((e) => (\r\n        this.setState({ loading: false, error: true })\r\n      ))\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n  graphql(authenticateUser, {name: 'authenticateUser'}),\r\n)(withRouter(LoginUserForm));\r\n\r\n","import React from 'react';\r\nimport { ModalBoxContainer, BoxContent, BoxHeader } from '../../elements/layout';\r\nimport Flip from 'react-reveal/Flip';\r\nimport { FaTimes } from 'react-icons/fa';\r\n\r\nclass ModalBox extends React.Component {\r\n  render() {\r\n    const { header, size, children, onClose, mt } = this.props;\r\n    return (\r\n      <ModalBoxContainer size={size} mt={mt}>\r\n        {header && (\r\n          <BoxHeader>\r\n            <Flip top cascade>\r\n              {header}\r\n            </Flip>\r\n            {onClose && <a onClick={onClose}><FaTimes/></a>}\r\n          </BoxHeader>\r\n        )}\r\n        <BoxContent>\r\n          {children}\r\n        </BoxContent>\r\n      </ModalBoxContainer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ModalBox;\r\n","import React from 'react';\r\nimport { ModalContainer, Overlay } from '../../elements/layout';\r\nimport Tada from 'react-reveal/Tada';\r\nimport ModalBox from './ModalBox';\r\n\r\nclass Modal extends React.Component {\r\n  render() {\r\n    const { header, size, children, onClose, show } = this.props;\r\n\r\n    if (!show) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <ModalContainer>\r\n        <Tada duration={1000}>\r\n          <ModalBox\r\n            header={header}\r\n            size={size}\r\n            onClose={onClose}\r\n          >\r\n            {children}\r\n          </ModalBox>\r\n        </Tada>\r\n        <Overlay onClick={onClose}/>\r\n      </ModalContainer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\n\r\nclass Loader extends React.Component {\r\n  componentWillMount() {\r\n    const { item, onLoad } = this.props;\r\n\r\n    if (item) {\r\n      onLoad(item);\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const { item, onLoad } = this.props;\r\n\r\n    if (nextProps.item !== item) {\r\n      onLoad(nextProps.item)\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return <div/>;\r\n  }\r\n}\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport Loader from './Loader'\r\nimport { StyleContext } from '../scenes'\r\nimport { CurrentUser } from '../scenes/App'\r\n\r\nexport class LoadUserTheme extends React.Component {\r\n  render() {\r\n    return (\r\n      <StyleContext.Consumer>\r\n        {({ onSelectTheme }) => (\r\n          <CurrentUser.Consumer>\r\n            {({ userTheme }) => (\r\n              <Loader onLoad={onSelectTheme} item={userTheme}/>\r\n            )}\r\n          </CurrentUser.Consumer>\r\n        )}\r\n      </StyleContext.Consumer>\r\n    )\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport Posts from './Posts';\r\nimport NavBar from './NavBar';\r\nimport Settings from './Settings';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { currentUser } from '../../services/queries';\r\nimport { Col, Page, Row } from '../../elements/layout';\r\nimport { FaUser } from 'react-icons/fa'\r\nimport LoginUserForm from '../../forms/LoginUserForm'\r\nimport Modal from '../../components/Modal/Modal'\r\nimport { LoadUserTheme } from '../../helpers/LoadUserTheme';\r\n\r\nexport const CurrentUser = React.createContext({});\r\n\r\nclass App extends React.PureComponent {\r\n  state = {\r\n    view: 'posts',\r\n    showLoginModal: false,\r\n  }\r\n\r\n  render() {\r\n    const { currentUser } = this.props;\r\n    const { view, showLoginModal } = this.state;\r\n\r\n    const viewTypes = {\r\n      POSTS: 'posts',\r\n      SETTINGS: 'settings'\r\n    }\r\n\r\n    const showPosts = view === viewTypes.POSTS;\r\n    const showSettings = view === viewTypes.SETTINGS;\r\n\r\n    const contextValues = {\r\n      userName: currentUser.User ? currentUser.User.name : '',\r\n      userTheme: currentUser.User ? currentUser.User.theme : 'light',\r\n      userId: currentUser.User ? currentUser.User.id : null,\r\n      onSelectView: this.handleViewChange,\r\n      onAuthRequired: this.handleAuthRequired,\r\n      currentView: view,\r\n    }\r\n\r\n    return (\r\n      <CurrentUser.Provider value={contextValues}>\r\n        <LoadUserTheme/>\r\n        <Page>\r\n          <Modal\r\n            size={300}\r\n            show={showLoginModal}\r\n            onClose={this.toggleLoginModal}\r\n            header={(<><FaUser/> Login</>)}\r\n          >\r\n            <LoginUserForm updateRequired={this.handleUpdateRequired}/>\r\n          </Modal>\r\n          <Row>\r\n            <Col size={2} navBar>\r\n              <NavBar/>\r\n            </Col>\r\n            <Col size={6}>\r\n              {showPosts && <Posts/>}\r\n              {showSettings && <Settings />}\r\n            </Col>\r\n          </Row>\r\n        </Page>\r\n      </CurrentUser.Provider>\r\n    );\r\n  }\r\n\r\n  handleViewChange = (view) => {\r\n    this.setState({ view });\r\n  }\r\n\r\n  handleAuthRequired = () => {\r\n    this.setState({ showLoginModal: true });\r\n  }\r\n\r\n  toggleLoginModal = () => {\r\n    this.setState({ showLoginModal: false });\r\n  }\r\n\r\n  handleUpdateRequired = () => {\r\n    const { updateRequired } = this.props;\r\n    updateRequired();\r\n    this.setState({ showLoginModal: false });\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(currentUser, {\r\n    name: 'currentUser',\r\n    options: ({ userId }) => {\r\n      return { variables: { id: userId }}\r\n    }\r\n  }),\r\n)(App);\r\n","import React from 'react';\r\nimport { FaUser } from 'react-icons/fa';\r\nimport LoginUserForm from '../../forms/LoginUserForm';\r\nimport { FlexBox, Page } from '../../elements/layout'\r\nimport { UserContext } from '../index'\r\nimport Box from '../../components/Box'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass Login extends React.Component {\r\n  render() {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {({ userId, updateRequired }) => {\r\n\r\n          if (userId) {\r\n            return <Redirect to={'/social-media-demo/'}/>\r\n          }\r\n\r\n          return (\r\n            <Page>\r\n              <FlexBox\r\n                alignItems={'center'}\r\n                justifyContent={'space-around'}\r\n              >\r\n                <Box\r\n                  size={480}\r\n                  mt={60}\r\n                  header={(\r\n                    <><FaUser/> Login</>\r\n                  )}\r\n                >\r\n                  <LoginUserForm\r\n                    updateRequired={updateRequired}\r\n                  />\r\n                </Box>\r\n              </FlexBox>\r\n            </Page>\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;","import styled from 'styled-components'\r\nimport { variables, style } from '../../config'\r\n\r\nexport const HeaderBox = styled.div`\r\n  width: 100%;\r\n  padding: 0;\r\n  min-height: 60px;\r\n  background: ${({ theme }) => style.themes[theme ? theme : 'light'].header.bg};\r\n  color: ${({ theme }) => style.themes[theme ? theme : 'light'].header.color};\r\n  border-bottom: 1px solid ${({ theme }) => style.themes[theme ? theme : 'light'].header.color};\r\n  position: relative;\r\n  \r\n  svg {\r\n    color: ${({ theme }) => style.themes[theme ? theme : 'light'].box.icon.color};\r\n    margin-right: ${variables.spaceSmall};\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  max-width: ${variables.containerMaxWidth};\r\n  margin: 0 auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  //border: 1px solid orange;\r\n  min-height: 60px;\r\n  //width: 100%;\r\n  position: relative;\r\n`;\r\n\r\nexport const HeaderTitle = styled.div`\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  font-size: 1.2em;\r\n  font-weight: 400;\r\n  \r\n  img {\r\n    max-width: 30px;\r\n    margin-right: 10px;\r\n  }\r\n`;\r\n\r\nexport const HeaderActionBar = styled.div`\r\n  right: 0;\r\n  height: 100%;\r\n  position: absolute;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n`;\r\n\r\nexport const HeaderButton = styled.button`\r\n  border: none;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  background: transparent;\r\n  justify-content: space-around;\r\n  transition: .3s ease;\r\n  padding: 15px;\r\n  color: ${({ theme }) => theme.header.color};\r\n  cursor: pointer;\r\n  \r\n  &:hover, &:focus {\r\n    color: ${({ theme }) => theme.header.hover.color};\r\n    background: rgba(255,255,255,0.04);\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport const TransparentButton = styled(HeaderButton)` \r\n  \r\n  &:hover {\r\n    color: white;\r\n    background: rgba(255,255,255,0);\r\n  }\r\n`;","import React from 'react';\r\nimport {\r\n  Container,\r\n  HeaderBox,\r\n  HeaderTitle,\r\n  HeaderButton,\r\n  HeaderActionBar,\r\n  TransparentButton,\r\n} from '../../elements/header';\r\nimport Flip from 'react-reveal/Flip';\r\nimport { FaLayerGroup } from 'react-icons/fa';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { UserContext, StyleContext } from '../../scenes'\r\n\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    const { location } = this.props;\r\n    return (\r\n      <UserContext.Consumer>\r\n        {({ userId }) => (\r\n          <StyleContext.Consumer>\r\n            {({ theme, variables, activeTheme }) => (\r\n              <HeaderBox theme={activeTheme}>\r\n                <Container>\r\n                  <TransparentButton theme={theme} onClick={this.handleClick('/social-media-demo/')}>\r\n                    <HeaderTitle>\r\n                      <Flip cascade top>\r\n                        {/*<img src={logo} onLoad={this._onImageLoad}/>*/}\r\n                        {/*<FaChild/>*/}\r\n                        <FaLayerGroup/>\r\n\r\n                        Social Media\r\n                      </Flip>\r\n                    </HeaderTitle>\r\n                  </TransparentButton>\r\n                  <HeaderActionBar>\r\n                    {!userId && location.pathname === '/social-media-demo/signup' && (\r\n                      <HeaderButton theme={theme} onClick={this.handleClick('/social-media-demo/login')}>\r\n                        login\r\n                      </HeaderButton>\r\n                    )}\r\n                    {!userId && location.pathname === '/social-media-demo/login' && (\r\n                      <HeaderButton theme={theme} onClick={this.handleClick('/social-media-demo/signup')}>\r\n                        <Flip cascade top>\r\n                          signup\r\n                        </Flip>\r\n                      </HeaderButton>\r\n                    )}\r\n                    {!userId && location.pathname === '/social-media-demo/' && (\r\n                      <HeaderButton theme={theme} onClick={this.handleClick('/social-media-demo/signup')}>\r\n                        <Flip cascade top>\r\n                          signup\r\n                        </Flip>\r\n                      </HeaderButton>\r\n                    )}\r\n                    {userId && (\r\n                      <HeaderButton theme={theme} onClick={this.handleClick('logout')}>\r\n                        <Flip cascade top>\r\n                          logout\r\n                        </Flip>\r\n                      </HeaderButton>\r\n                    )}\r\n                  </HeaderActionBar>\r\n                </Container>\r\n              </HeaderBox>\r\n            )}\r\n          </StyleContext.Consumer>\r\n        )}\r\n      </UserContext.Consumer>\r\n    );\r\n  }\r\n\r\n  handleClick = (path) => () => {\r\n    const { history } = this.props;\r\n    const isLoggingOut = path === 'logout';\r\n\r\n    if (isLoggingOut) {\r\n      localStorage.removeItem('graphcoolToken');\r\n      window.location.reload('/social-media-demo/');\r\n    }\r\n\r\n    if (!isLoggingOut) {\r\n      history.replace(path);\r\n    }\r\n  }\r\n}\r\n\r\nexport default withRouter(Header);","import styled from 'styled-components'\r\nimport { variables } from '../../config'\r\nimport { BoxContainer, BoxContent, BoxHeader, CommentBox, CommentsContainer } from '../layout'\r\nimport { ActionBarContainer, ActionButton, ActionLink, ErrorBox, Field, RadioButton } from '../form'\r\n\r\nexport const Container = styled.div`\r\n  font-family: 'Montserrat', sans-serif;\r\n`;\r\n\r\nexport const BodyContainer = styled.div`\r\n  width: 100%;\r\n  min-height: calc(100vh - 60px);\r\n  position: relative;\r\n  transition: ${variables.transitionLarge};\r\n  background: ${({ styles }) => styles.theme.page.bg};\r\n  \r\n  ${BoxContainer} {\r\n    background: ${({ styles }) => styles.theme.box.bg};\r\n    color: ${({ styles }) => styles.theme.box.color};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n    border-radius: ${({ styles }) => styles.theme.box.border.radius};\r\n    transition: ${variables.transitionLarge};\r\n    \r\n    svg {\r\n      color: ${({ styles }) => styles.theme.box.icon.color};\r\n    }\r\n  }\r\n  \r\n  ${BoxHeader} {\r\n    color: ${({ styles }) => styles.theme.header.color};\r\n    background: ${({ styles }) => styles.theme.header.bg};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n    transition: ${variables.transitionLarge};\r\n  }\r\n  \r\n  ${BoxContent} {\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n  }\r\n  \r\n  ${CommentsContainer} {\r\n    background: ${({ styles }) => styles.theme.box.alt.bg};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n  } \r\n  \r\n  ${CommentBox} {\r\n    background: ${({ styles }) => styles.theme.box.bg};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n  } \r\n  \r\n  ${Field} {\r\n    background: ${({ styles }) => styles.theme.input.bg};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n    color: ${({ styles }) => styles.theme.input.color};\r\n    transition: ${variables.transitionLarge};\r\n  }\r\n  \r\n  ${ActionButton} {\r\n    background: ${({ styles }) => styles.theme.button.bg};\r\n    color: ${({ styles }) => styles.theme.button.color};\r\n    padding: ${({ styles }) => styles.theme.button.padding};\r\n    border-radius: ${({ styles }) => styles.theme.button.border.radius};\r\n    \r\n    &:hover {\r\n      background: ${({ styles }) => styles.theme.button.hover.bg};\r\n      color: ${({ styles }) => styles.theme.button.hover.color};  \r\n    }\r\n    \r\n    &:disabled {\r\n    \r\n      svg {\r\n        color: ${({styles}) => styles.theme.button.color};  \r\n      }\r\n    }\r\n  }\r\n  \r\n  ${RadioButton} {\r\n    padding: ${({ styles }) => styles.theme.button.padding};\r\n    border-radius: ${({ styles }) => styles.theme.button.border.radius} 0 0 ${({ styles }) => styles.theme.button.border.radius};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n    \r\n    &:last-child {\r\n      border-radius: 0 ${({ styles }) => styles.theme.button.border.radius} ${({ styles }) => styles.theme.button.border.radius} 0;\r\n    }\r\n  }\r\n  \r\n  ${ActionLink} {\r\n    color: ${({ styles }) => styles.theme.link.color};\r\n    \r\n    &:hover {\r\n      color: ${({ styles }) => styles.theme.link.hover.color};  \r\n    }\r\n  }\r\n  \r\n  ${ActionBarContainer} {\r\n    border-color: ${({ styles }) => styles.theme.box.color};\r\n  }\r\n  \r\n  ${ErrorBox} {\r\n    border-color: ${({ styles }) => styles.theme.box.error.color};\r\n    color: ${({ styles }) => styles.theme.box.error.color};\r\n    background: ${({ styles }) => styles.theme.box.error.bg};\r\n  }\r\n`;\r\n\r\nexport const BodyContent = styled.div`\r\n  max-width: 1200px;\r\n  margin: auto;\r\n`;","import React from 'react';\r\nimport { BodyContainer, BodyContent } from '../../elements/shell';\r\nimport { StyleContext } from '../../scenes';\r\n\r\nclass Body extends React.Component {\r\n  render() {\r\n    return (\r\n      <StyleContext.Consumer>\r\n        {(styles) => (\r\n          <BodyContainer styles={styles}>\r\n            <BodyContent>\r\n              {this.props.children}\r\n            </BodyContent>\r\n          </BodyContainer>\r\n        )}\r\n      </StyleContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Body;\r\n","import React from 'react';\r\nimport Header from '../components/Header';\r\nimport { Container } from '../elements/shell';\r\nimport Body from '../components/Body';\r\n\r\nclass Shell extends React.Component {\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <Container>\r\n        <Header/>\r\n        <Body>\r\n          {children}\r\n        </Body>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Shell;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { graphql, compose } from 'react-apollo';\r\nimport {\r\n  ActionBarContainer,\r\n  ActionButton, ActionLink, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n} from '../elements/form';\r\nimport { signupUser } from '../services/mutations';\r\nimport { FaSignInAlt } from 'react-icons/fa';\r\nimport Flip from 'react-reveal/Flip';\r\n\r\nclass CreateUserForm extends React.Component {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    name: '',\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  render () {\r\n    const { loading, error, email, password, name } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        email,\r\n        password,\r\n        name,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSignupUser}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup>\r\n          <Label>\r\n            Name:\r\n          </Label>\r\n          <Field\r\n            value={this.state.name}\r\n            placeholder='name'\r\n            onChange={(e) => this.setState({name: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>\r\n            Email:\r\n          </Label>\r\n          <Field\r\n            value={this.state.email}\r\n            placeholder='Email address'\r\n            onChange={(e) => this.setState({email: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>\r\n            Password:\r\n          </Label>\r\n          <Field\r\n            type=\"password\"\r\n            value={this.state.password}\r\n            placeholder='Password'\r\n            onChange={(e) => this.setState({password: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <ActionBarContainer divider justifyContent={'space-between'}>\r\n          <ActionLink onClick={this.handleLogin}>\r\n            <span>\r\n              Login\r\n            </span>\r\n          </ActionLink>\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Sign Up\r\n                {!loading ? <FaSignInAlt/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </ActionBarContainer>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  handleLogin = () => {\r\n    const { history } = this.props;\r\n    history.replace('/social-media-demo/login');\r\n  }\r\n\r\n\r\n  handleSignupUser = async (e) => {\r\n    const { email, password, name } = this.state;\r\n    const { history, updateRequired } = this.props;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n    try {\r\n      const user = await this.props.signupUser({variables: {email, password, name}})\r\n      localStorage.setItem('graphcoolToken', user.data.signupUser.token)\r\n      this.setState({ loading: false })\r\n      setTimeout(() => (\r\n        updateRequired()\r\n      ), 800)\r\n      setTimeout(() => (\r\n        history.replace('/social-media-demo/')\r\n      ), 1500)\r\n    } catch (e) {\r\n      console.error(`An error occured: `, e)\r\n      this.setState({ loading: false, error: true })\r\n    }\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(signupUser, {name: 'signupUser'}),\r\n)(withRouter(CreateUserForm));\r\n","import React from 'react';\r\nimport { FaUser } from 'react-icons/fa';\r\nimport CreateUserForm from '../../forms/CreateUserForm';\r\nimport { Page, FlexBox } from '../../elements/layout';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { UserContext } from '../index';\r\nimport Box from '../../components/Box';\r\n\r\nclass CreateUser extends React.PureComponent {\r\n  render() {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {({ userId, updateRequired }) => {\r\n\r\n          if (userId) {\r\n            return <Redirect to={'/social-media-demo/'}/>\r\n          }\r\n\r\n          return (\r\n            <Page>\r\n              <FlexBox\r\n                alignItems={'center'}\r\n                justifyContent={'space-around'}\r\n              >\r\n                <Box\r\n                  size={480}\r\n                  mt={60}\r\n                  header={(\r\n                    <><FaUser/> Sign Up</>\r\n                  )}\r\n                >\r\n                  <CreateUserForm\r\n                    updateRequired={updateRequired}\r\n                  />\r\n                </Box>\r\n              </FlexBox>\r\n            </Page>\r\n          );\r\n        }}\r\n      </UserContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateUser;","import React from 'react';\r\nimport App from './App';\r\nimport Login from './Login';\r\nimport Shell from '../Shell';\r\nimport { style } from '../config';\r\nimport CreateUser from './CreateUser';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { loggedInUser } from '../services/queries';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nexport const UserContext = React.createContext({});\r\nexport const StyleContext = React.createContext({});\r\n\r\nclass Scenes extends React.Component {\r\n  state = {\r\n    theme: 'light',\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    const { theme } = this.state;\r\n    let userId = null;\r\n\r\n    if (user.loggedInUser && user.loggedInUser.id) {\r\n      userId = user.loggedInUser.id;\r\n    }\r\n\r\n    const styleContextValue = {\r\n      theme: style.themes[theme ? theme : 'light'],\r\n      activeTheme: theme ? theme : 'light',\r\n      variables: style.variables,\r\n      onSelectTheme: this._handleThemeChange,\r\n    }\r\n\r\n    const userContextValue = {\r\n      userId: user.loggedInUser && user.loggedInUser.id,\r\n      updateRequired: this._handleRefetch,\r\n    }\r\n\r\n    return (\r\n      <UserContext.Provider value={userContextValue}>\r\n        <StyleContext.Provider value={styleContextValue}>\r\n          <Shell>\r\n            <Switch>\r\n              <Route exact path='/social-media-demo/'>\r\n                <App\r\n                  userId={userId}\r\n                  theme={theme}\r\n                  updateRequired={this._handleRefetch}\r\n                />\r\n              </Route>\r\n              <Route exact path='/social-media-demo/login'>\r\n                <Login/>\r\n              </Route>\r\n              <Route path='/social-media-demo/signup'>\r\n                <CreateUser/>\r\n              </Route>\r\n            </Switch>\r\n          </Shell>\r\n        </StyleContext.Provider>\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n\r\n  _handleRefetch = () => {\r\n    const { user } = this.props;\r\n    user.refetch()\r\n  }\r\n\r\n  _handleThemeChange = (theme) => {\r\n    this.setState({ theme });\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(loggedInUser, {\r\n    name: 'user',\r\n    options: { fetchPolicy: 'network-only' }\r\n  }),\r\n)(Scenes);\r\n","import 'tachyons';\nimport React from 'react';\nimport Scenes from './scenes';\nimport ReactDOM from 'react-dom';\nimport { ApolloLink} from 'apollo-link';\nimport { ApolloClient } from 'apollo-client';\nimport { ApolloProvider } from 'react-apollo';\nimport { createHttpLink } from 'apollo-link-http';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport {BrowserRouter as Router } from 'react-router-dom';\n\n// __SIMPLE_API_ENDPOINT__ looks like: 'https://api.graph.cool/simple/v1/__SERVICE_ID__'\nconst httpLink = createHttpLink({ uri: 'https://api.graph.cool/simple/v1/cjowu0zrbb1270106hgdbk7vv' })\n\nconst middlewareLink = new ApolloLink((operation, forward) => {\n  const token = localStorage.getItem('graphcoolToken')\n  const authorizationHeader = token ? `Bearer ${token}` : null\n  operation.setContext({\n    headers: {\n      authorization: authorizationHeader\n    }\n  })\n  return forward(operation)\n})\n\nconst httpLinkWithAuthToken = middlewareLink.concat(httpLink)\n\nconst client = new ApolloClient({\n  link: httpLinkWithAuthToken,\n  cache: new InMemoryCache().restore(window.__APOLLO_STATE__),\n})\n\nReactDOM.render((\n    <ApolloProvider client={client}>\n      <Router>\n        <Scenes/>\n      </Router>\n    </ApolloProvider>\n  ),\n  document.getElementById('root')\n)\n"],"sourceRoot":""}