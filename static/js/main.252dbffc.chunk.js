(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{63:function(e,t,n){e.exports=n.p+"static/media/graphql_Logo_color_xxs.2f0d022e.png"},68:function(e,t,n){e.exports=n(93)},93:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(32),c=n.n(o),i=n(1),l=n(13),u=n.n(l),s=n(17),d=n(3),m=n(4),h=n(6),p=n(5),f=n(7),b=n(105),g=n(2),v=n(15),E=n.n(v);function j(){var e=Object(i.a)(["\n  query LoggedInUserQuery {\n    loggedInUser {\n      id\n    }\n  }\n"]);return j=function(){return e},e}function O(){var e=Object(i.a)(["\n  mutation CreatePostMutation ($description: String!, $imageUrl: String!, $authorId: ID!) {\n    createPost(description: $description, imageUrl: $imageUrl, authorId: $authorId) {\n      id\n    }\n  }\n"]);return O=function(){return e},e}var y=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={description:"",imageUrl:""},n.handlePost=Object(s.a)(u.a.mark(function e(){var t,r,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.loggedInUserQuery.loggedInUser){e.next=3;break}return console.warn("only logged in users can create new posts"),e.abrupt("return");case 3:return t=n.state,r=t.description,a=t.imageUrl,o=n.props.loggedInUserQuery.loggedInUser.id,e.next=7,n.props.createPostMutation({variables:{description:r,imageUrl:a,authorId:o}});case 7:n.props.history.replace("/");case 8:case"end":return e.stop()}},e,this)})),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.props.loggedInUserQuery.loading?a.a.createElement("div",null,"Loading"):a.a.createElement("div",{className:"w-100 pa4 flex justify-center"},a.a.createElement("div",{style:{maxWidth:400},className:""},a.a.createElement("input",{className:"w-100 pa3 mv2",value:this.state.description,placeholder:"Description",onChange:function(t){return e.setState({description:t.target.value})}}),a.a.createElement("input",{className:"w-100 pa3 mv2",value:this.state.imageUrl,placeholder:"Image Url",onChange:function(t){return e.setState({imageUrl:t.target.value})}}),this.state.imageUrl&&a.a.createElement("img",{src:this.state.imageUrl,alt:"",className:"w-100 mv3"}),this.state.description&&this.state.imageUrl&&a.a.createElement("button",{className:"pa3 bg-black-10 bn dim ttu pointer",onClick:this.handlePost},"Post")))}}]),t}(a.a.Component),k=E()(O()),x=E()(j()),w=Object(g.compose)(Object(g.graphql)(k,{name:"createPostMutation"}),Object(g.graphql)(x,{name:"loggedInUserQuery",options:{fetchPolicy:"network-only"}}))(Object(b.a)(y)),I=n(8),C=n(9),S="0 2px 6px rgba(0,0,0,0.2)",P="0 2px 10px rgba(0,0,0,0.3)",U=".3s ease",$="1s ease",q="16px",D="8px",A="32px",R="1000px",L="18px",T="#060009",_="#b7b7b7",M={themes:{dark:{page:{bg:"#151415"},header:{bg:T,color:_,hover:{bg:T,color:"#dddddd"}},box:{bg:"#232323",color:"#c2d0ec",icon:{color:"#ff5270"},border:{color:"#939393",radius:"6px"},alt:{bg:"#645d60"},error:{bg:"#3c181f",color:"#ff5386"}},link:{color:"#b579ff",bg:"transparent",hover:{color:"#865bcc"},active:{bg:T,color:"#b579ff",hover:{color:"#865bcc"}}},button:{border:{radius:"18px"},bg:T,color:"#b7b7b7",padding:"10px 15px",hover:{color:"#dddddd"},alt:{bg:"#151415",color:"#676767",hover:{color:"#838189"}}},input:{bg:"#0a0a0a",color:"#949494"}},light:{page:{bg:"#dfdfdf"},header:{bg:"#282c34",color:_,hover:{bg:"#2c313d",color:"#dddddd"}},box:{bg:"#ffffff",color:"#282c34",icon:{color:"#ff5270"},border:{color:"#939393",radius:"6px"},alt:{bg:"#e7e2e0"},error:{bg:"#ffdec9",color:"#cb7e7f"}},link:{color:"#6ba3ff",bg:"transparent",hover:{color:"#4e86cc"},active:{bg:"#2c313d",color:"#b7b7b7",hover:{color:"#dddddd"}}},button:{border:{radius:"18px"},bg:"#282c34",color:"#b7b7b7",padding:"10px 15px",hover:{color:"#dddddd"},alt:{bg:"#b7b7b7",color:"#282c34",hover:{color:"#3f4653"}}},input:{bg:"#dfdfdf",color:"#21252e"}}}};function z(){var e=Object(i.a)(["\n  border-radius: ",";\n  padding: ",";\n  margin-bottom: ",";\n  border: 1px solid;\n"]);return z=function(){return e},e}function N(){var e=Object(i.a)(["\n  animation: "," 1.4s linear infinite;\n"]);return N=function(){return e},e}function Q(){var e=Object(i.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(359deg);\n  }\n"]);return Q=function(){return e},e}function W(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n"]);return W=function(){return e},e}function B(){var e=Object(i.a)(["\n  font-weight: 500;\n  cursor: pointer;\n  transition: ",";\n  margin-left: ",";\n  \n  svg, &:last-child {\n    margin-left: ",";\n  }\n  \n  &:hover {\n    text-shadow: ",";\n  }\n"]);return B=function(){return e},e}function F(){var e=Object(i.a)(["\n  padding: 0;\n  display: flex;\n  align-items: baseline;\n  justify-content: flex-start;\n"]);return F=function(){return e},e}function J(){var e=Object(i.a)(["\n  margin-right: ",";\n  font-size: .8em;\n"]);return J=function(){return e},e}function V(){var e=Object(i.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: flex-end;\n  border-top: ",";\n  padding-top: ",";\n"]);return V=function(){return e},e}function Y(){var e=Object(i.a)(["\n  display: flex;\n  cursor: pointer;\n  border: 1px solid;\n  align-items: center;\n  margin-left: 0 !important;\n  justify-content: space-around;\n  box-shadow: 0 0 0 rgba(0,0,0,0);\n  transition: ",";\n  background: ",";\n  color: ",";\n  \n  &:last-child {\n    margin-left: 0;\n    border-left: none;\n  }\n  \n  &:hover {\n    background: ",";\n    color: ",";  \n  }\n  \n  svg {\n    margin-right: ",";\n  }\n  \n  &:focus {\n    outline: none;\n  }\n"]);return Y=function(){return e},e}function G(){var e=Object(i.a)(["\n  border: none;\n  display: flex;\n  cursor: pointer;\n  max-height: 38px;\n  align-items: center;\n  justify-content: space-around;\n  box-shadow: 0 0 0 rgba(0,0,0,0);\n  transition: ",";\n  \n  span {\n    display: flex;\n    align-items: center;\n  }\n  \n  svg {\n    margin-left: ",";\n  }\n  \n  &:hover, &:focus {\n    outline: none;\n    box-shadow: ",";\n  }\n  \n  &:disabled {\n    opacity: .7;\n    cursor: default;\n    \n    &:hover, &:focus {\n      box-shadow: none;\n    }\n  } \n  \n  @media all and (max-width: 430px) {\n    flex-grow: 2;\n  }\n"]);return G=function(){return e},e}function H(){var e=Object(i.a)(["\n  flex-grow: 1;\n  opacity: .8;\n  padding: 10px;\n  font-size: .9em;\n  min-width: 60px;\n  border-radius: 18px;\n  border: 1px solid;\n  box-shadow: inset ",";\n  \n  &:focus {\n    opacity: 1;\n    outline: none;\n    box-shadow: ",";\n  }\n"]);return H=function(){return e},e}function K(){var e=Object(i.a)(["\n  font-size: .9em;\n  min-width: 100px;\n  \n  @media all and (max-width: 430px) {\n    display: none;\n  }\n"]);return K=function(){return e},e}function X(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin-bottom: ",";\n  \n  button {\n    margin-left: ",";\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(i.a)(["\n\n"]);return Z=function(){return e},e}var ee=C.a.form(Z()),te=C.a.div(X(),function(e){return e.noMargin?0:q},D),ne=C.a.div(K()),re=C.a.input(H(),S,P),ae=C.a.button(G(),U,D,S),oe=C.a.button(Y(),U,function(e){var t=e.activeTheme;return e.active?M.themes[t].button.bg:M.themes[t].button.alt.bg},function(e){var t=e.activeTheme;return e.active?M.themes[t].button.color:M.themes[t].button.alt.color},function(e){var t=e.activeTheme;return e.active?M.themes[t].button.hover.bg:M.themes[t].button.alt.hover.bg},function(e){var t=e.activeTheme;return e.active?M.themes[t].button.hover.color:M.themes[t].button.alt.hover.color},D),ce=C.a.div(V(),function(e){return e.divider?"1px dashed":"none"},function(e){return e.divider?q:0}),ie=C.a.div(J(),D),le=C.a.span(F()),ue=C.a.a(B(),U,function(e){return e.marginLeft?D:"0"},D,S),se=C.a.div(W()),de=Object(C.b)(Q()),me=Object(C.a)(I.a)(N(),de),he=C.a.div(z(),L,q,q);function pe(){var e=Object(i.a)(["\n  mutation DeleteCommentLike ($id: ID!) {\n    deleteCommentLike(id: $id) {\n      id\n    }\n  }\n"]);return pe=function(){return e},e}function fe(){var e=Object(i.a)(["\n  mutation CreateCommentLike ($commentId: ID!, $authorId: ID!) {\n    createCommentLike(commentId: $commentId, authorId: $authorId) {\n      id\n      author {\n        id\n        name\n      }\n    }\n  }\n"]);return fe=function(){return e},e}function be(){var e=Object(i.a)(["\n  mutation DeleteComment ($id: ID!) {\n    deleteComment(id: $id) {\n      id\n    }\n  }\n"]);return be=function(){return e},e}function ge(){var e=Object(i.a)(["\n  mutation CreateComment ($postId: ID!, $authorId: ID!, $content: String!) {\n    createComment(postId: $postId, authorId: $authorId, content: $content) {\n      id\n      content\n      author {\n        id\n        name\n      }\n      likes {\n        id\n        author {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return ge=function(){return e},e}function ve(){var e=Object(i.a)(["\n  mutation DeletePost ($id: ID!) {\n    deletePost(id: $id) {\n      id\n    }\n  }\n"]);return ve=function(){return e},e}function Ee(){var e=Object(i.a)(["\n  mutation DeletePostLike ($id: ID!) {\n    deletePostLike(id: $id) {\n      id\n    }\n  }\n"]);return Ee=function(){return e},e}function je(){var e=Object(i.a)(["\n  mutation CreatePostLike ($postId: ID!, $authorId: ID!) {\n    createPostLike(postId: $postId, authorId: $authorId) {\n      id\n      author {\n        id\n        name\n      }\n    }\n  }\n"]);return je=function(){return e},e}function Oe(){var e=Object(i.a)(["\n  mutation UpdatePost ($id: ID!, $content: String!, $authorId: ID!) {\n    updatePost(id: $id, content: $content, authorId: $authorId) {\n      id\n      content\n    }\n  }\n"]);return Oe=function(){return e},e}function ye(){var e=Object(i.a)(["\n  mutation CreatePost ($content: String!, $authorId: ID!) {\n    createPost(content: $content, authorId: $authorId) {\n      id\n      content\n    }\n  }\n"]);return ye=function(){return e},e}function ke(){var e=Object(i.a)(["\n  mutation UpdateUser ($id: ID!, $name: String, $theme: String) {\n    updateUser(id: $id, name: $name, theme: $theme) {\n      id\n      name\n      email\n      theme\n    }\n  }\n"]);return ke=function(){return e},e}function xe(){var e=Object(i.a)(["\n  mutation SignupUser ($email: String!, $password: String!, $name: String) {\n    signupUser(email: $email, password: $password, name: $name) {\n      id\n      token\n    }\n  }\n"]);return xe=function(){return e},e}function we(){var e=Object(i.a)(["\n  mutation AuthenticateUser ($email: String!, $password: String!) { \n    authenticateUser(email: $email, password: $password) {\n      token\n    }\n  }\n"]);return we=function(){return e},e}var Ie=E()(we()),Ce=E()(xe()),Se=E()(ke()),Pe=E()(ye()),Ue=E()(Oe()),$e=E()(je()),qe=E()(Ee()),De=E()(ve()),Ae=E()(ge()),Re=E()(be()),Le=E()(fe()),Te=E()(pe()),_e=n(11),Me=n.n(_e),ze=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={email:"",password:"",loading:!1,error:!1},n.authenticateUser=function(){var e=Object(s.a)(u.a.mark(function e(t){var r,a,o,c,i,l,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props,a=r.authenticateUser,o=r.history,c=r.updateRequired,i=n.state,l=i.email,s=i.password,t.preventDefault(),n.setState({loading:!0,error:!1}),a({variables:{email:l,password:s}}).then(function(e){return localStorage.setItem("graphcoolToken",e.data.authenticateUser.token),o.replace("/social-media-demo"),c()}).catch(function(e){return n.setState({loading:!1,error:!0})});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.error,o=t.email,c=t.password;return a.a.createElement(ee,{onSubmit:this.authenticateUser},r&&a.a.createElement(he,null,"invalid credentials"),a.a.createElement(te,null,a.a.createElement(ne,null,"Email:"),a.a.createElement(re,{value:this.state.email,placeholder:"Email address",onChange:function(t){return e.setState({email:t.target.value})}})),a.a.createElement(te,null,a.a.createElement(ne,null,"Password:"),a.a.createElement(re,{type:"password",value:this.state.password,placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}})),a.a.createElement(ce,{divider:!0},a.a.createElement(ae,{type:"submit",disabled:function(){var e=!1;return[o,c].forEach(function(t){""===t&&(e=!0)}),e}()},a.a.createElement(le,null,a.a.createElement(Me.a,{cascade:!0,top:!0},"Log In",n?"":a.a.createElement(I.k,null)),n?a.a.createElement(me,null):""))))}}]),t}(a.a.Component),Ne=Object(g.compose)(Object(g.graphql)(Ie,{name:"authenticateUser"}))(Object(b.a)(ze));function Qe(){var e=Object(i.a)(["\n  display: flex;\n  cursor: pointer;\n  align-items: center;\n  text-decoration: none;\n  justify-content: flex-start;\n  transition: ",";\n  padding: "," ",";\n  background: ",";\n  color: ",";\n  \n  svg {\n    margin-right: ",";\n  }\n  \n  &:hover {\n    text-shadow: ",";\n  }\n"]);return Qe=function(){return e},e}function We(){var e=Object(i.a)(["\n  margin: 0;\n  padding: "," 0;\n"]);return We=function(){return e},e}function Be(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  font-size: .8em;\n"]);return Be=function(){return e},e}function Fe(){var e=Object(i.a)(["\n  display: flex;\n  padding: 0;\n  font-size: .9em;\n  align-items: center;\n  justify-content: flex-start;\n  \n  strong {\n    margin-left: ",";\n    margin-right: ",";\n  }\n  \n  button {\n    font-size: .9em;\n  }\n"]);return Fe=function(){return e},e}function Je(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  border-radius: 18px;\n  justify-content: space-between;\n  padding: ",";\n  transition: ",";\n  margin-bottom: ",";\n  border: 1px solid;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n"]);return Je=function(){return e},e}function Ve(){var e=Object(i.a)(["\n  font-size: .8em;\n"]);return Ve=function(){return e},e}function Ye(){var e=Object(i.a)(["\n  display: flex;\n  align-items: baseline;\n  justify-content: flex-start;\n  \n  svg {\n    margin-right: ",";\n  }\n"]);return Ye=function(){return e},e}function Ge(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return Ge=function(){return e},e}function He(){var e=Object(i.a)(["\n  border-top: 1px solid;\n  padding: ",";\n  padding-left: ",";\n"]);return He=function(){return e},e}function Ke(){var e=Object(i.a)(["\n  width: 100%;\n  max-width: 600px;\n  word-wrap: break-word;\n"]);return Ke=function(){return e},e}function Xe(){var e=Object(i.a)(["\n  padding: ",";\n  border-top: ",";\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(i.a)(["\n  max-width: 600px;\n  word-wrap: break-word;\n"]);return Ze=function(){return e},e}function et(){var e=Object(i.a)(["\n  max-width: 200px;\n  word-wrap: break-word;\n"]);return et=function(){return e},e}function tt(){var e=Object(i.a)(["\n  padding: 10px 15px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  transition: ",";\n  border-bottom: 1px solid;\n  \n  svg {\n    margin-right: 5px;\n  }\n"]);return tt=function(){return e},e}function nt(){var e=Object(i.a)(["\n  width: 100%;\n  overflow: hidden;\n  border: 1px solid;\n  transition: ",";\n  margin-top: ",";\n  \n  &:hover {\n    box-shadow: ",";\n  }\n  \n  @media all and (max-width: 430px) {\n    min-width: 90%;\n  }\n"]);return nt=function(){return e},e}function rt(){var e=Object(i.a)(["\n  flex-grow: ",";\n  padding-top: ",";\n  padding: ",";\n  padding-bottom: 0 !important;\n  overflow: visible;\n  \n  &:first-child {\n    padding-left: ",";\n  }\n  \n  &:last-child {\n    padding-right: ",";\n  }\n"]);return rt=function(){return e},e}function at(){var e=Object(i.a)(["\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  overflow: visible;\n  justify-content: flex-start;\n  \n  @media all and (max-width: 699px) {\n    flex-direction: column;\n    \n    > div {\n      flex-grow: 1;\n      padding: "," !important;\n      padding-bottom: 0 !important;\n    }\n  }\n"]);return at=function(){return e},e}function ot(){var e=Object(i.a)(["\n  margin: auto;\n  height: 100%;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: space-around;\n  max-width: ","\n"]);return ot=function(){return e},e}var ct=C.a.div(ot(),R),it=C.a.div(at(),q),lt=C.a.div(rt(),function(e){var t=e.size;return t||1},q,D,q,q),ut=C.a.div(nt(),U,function(e){var t=e.mt;return t||0},S),st=C.a.div(tt(),U),dt=C.a.div(et()),mt=C.a.div(Ze()),ht=C.a.div(Xe(),function(e){return e.midSection?"".concat(q," 0"):q},function(e){return e.divider?"1px solid":"none"}),pt=C.a.h3(Ke()),ft=C.a.div(He(),q,A),bt=C.a.div(Ge()),gt=C.a.div(Ye(),D),vt=C.a.div(Ve()),Et=C.a.div(Je(),q,U,D),jt=C.a.div(Fe(),D,D),Ot=C.a.div(Be()),yt=C.a.div(We(),D),kt=C.a.a(Qe(),U,D,q,function(e){var t=e.theme;return e.active?M.themes[t].link.active.bg:"transparent"},function(e){var t=e.theme;return e.active?M.themes[t].link.active.color:M.themes[t].link.color},D,S),xt=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.updateRequired;return a.a.createElement(ct,null,a.a.createElement(it,null,a.a.createElement(lt,null),a.a.createElement(lt,null,a.a.createElement(ut,null,a.a.createElement(st,null,a.a.createElement(Me.a,{top:!0,cascade:!0},a.a.createElement(I.n,null),"Login")),a.a.createElement(ht,null,a.a.createElement(Ne,{updateRequired:e})))),a.a.createElement(lt,null)))}}]),t}(a.a.Component),wt=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={email:"",password:"",name:"",loading:!1,error:!1},n.handleSignupUser=function(){var e=Object(s.a)(u.a.mark(function e(t){var r,a,o,c,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.state,a=r.email,o=r.password,c=r.name,t.preventDefault(),n.setState({loading:!0,error:!1}),e.prev=3,e.next=6,n.props.signupUser({variables:{email:a,password:o,name:c}});case 6:i=e.sent,localStorage.setItem("graphcoolToken",i.data.signupUser.token),n.setState({loading:!1}),n.props.history.replace("/social-media-demo"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("An error occured: ",e.t0),n.setState({loading:!1,error:!0});case 16:case"end":return e.stop()}},e,this,[[3,12]])}));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.error,o=t.email,c=t.password,i=t.name;return a.a.createElement(ee,{onSubmit:this.handleSignupUser},r&&a.a.createElement(he,null,"An error has occurred"),a.a.createElement(te,null,a.a.createElement(ne,null,"Name:"),a.a.createElement(re,{value:this.state.name,placeholder:"name",onChange:function(t){return e.setState({name:t.target.value})}})),a.a.createElement(te,null,a.a.createElement(ne,null,"Email:"),a.a.createElement(re,{value:this.state.email,placeholder:"Email address",onChange:function(t){return e.setState({email:t.target.value})}})),a.a.createElement(te,null,a.a.createElement(ne,null,"Password:"),a.a.createElement(re,{type:"password",value:this.state.password,placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}})),a.a.createElement(ce,{divider:!0},a.a.createElement(ae,{type:"submit",disabled:function(){var e=!1;return[o,c,i].forEach(function(t){""===t&&(e=!0)}),e}()},a.a.createElement(le,null,a.a.createElement(Me.a,{cascade:!0,top:!0},"Sign Up",n?"":a.a.createElement(I.k,null)),n?a.a.createElement(me,null):""))))}}]),t}(a.a.Component),It=Object(g.compose)(Object(g.graphql)(Ce,{name:"signupUser"}))(Object(b.a)(wt)),Ct=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return a.a.createElement(ct,null,a.a.createElement(it,null,a.a.createElement(lt,null),a.a.createElement(lt,null,a.a.createElement(ut,null,a.a.createElement(st,null,a.a.createElement(Me.a,{top:!0,cascade:!0},a.a.createElement(I.n,null),"Sign Up")),a.a.createElement(ht,null,a.a.createElement(It,null)))),a.a.createElement(lt,null)))}}]),t}(r.PureComponent),St=n(102),Pt=n(48),Ut=n(65),$t=n(14),qt=n(103),Dt=(n(83),n(63)),At=n.n(Dt);function Rt(){var e=Object(i.a)([" \n  \n  &:hover {\n    color: white;\n    background: rgba(255,255,255,0);\n  }\n"]);return Rt=function(){return e},e}function Lt(){var e=Object(i.a)(["\n  border: none;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  background: transparent;\n  justify-content: space-around;\n  transition: .3s ease;\n  padding: 15px;\n  color: ",";\n  cursor: pointer;\n  \n  &:hover, &:focus {\n    color: ",";\n    background: rgba(255,255,255,0.04);\n    outline: none;\n  }\n"]);return Lt=function(){return e},e}function Tt(){var e=Object(i.a)(["\n  right: 0;\n  height: 100%;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n"]);return Tt=function(){return e},e}function _t(){var e=Object(i.a)(["\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  font-size: 1.2em;\n  \n  img {\n    max-width: 30px;\n    margin-right: 10px;\n  }\n"]);return _t=function(){return e},e}function Mt(){var e=Object(i.a)(["\n  max-width: ",";\n  margin: auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n"]);return Mt=function(){return e},e}function zt(){var e=Object(i.a)(["\n  width: 100%;\n  padding: 0;\n  min-height: 60px;\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n"]);return zt=function(){return e},e}var Nt=C.a.div(zt(),function(e){return e.styles.theme.header.bg},function(e){return e.styles.theme.header.color},function(e){return e.styles.theme.header.color}),Qt=C.a.div(Mt(),R),Wt=C.a.div(_t()),Bt=C.a.div(Tt()),Ft=C.a.button(Lt(),function(e){return e.styles.theme.header.color},function(e){return e.styles.theme.header.hover.color}),Jt=Object(C.a)(Ft)(Rt()),Vt=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={show:!1},n._handleClick=function(e){return function(){var t=n.props.history,r="logout"===e;r&&(localStorage.removeItem("graphcoolToken"),window.location.reload("/social-media-demo")),r||t.replace(e)}},n._onImageLoad=function(){n.setState({show:!0})},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.userId,r=e.styles,o=this.state.show;return a.a.createElement(Nt,{styles:r},a.a.createElement(Qt,null,a.a.createElement(Jt,{styles:r,onClick:this._handleClick("/social-media-demo/")},a.a.createElement(Wt,null,a.a.createElement(Me.a,{cascade:!0,top:!0,when:o},a.a.createElement("img",{src:At.a,onLoad:this._onImageLoad}),"Social Media"))),a.a.createElement(Bt,null,!n&&"/social-media-demo/signup"===t.pathname&&a.a.createElement(Ft,{styles:r,onClick:this._handleClick("/social-media-demo/login")},"login"),!n&&"/social-media-demo/login"===t.pathname&&a.a.createElement(Ft,{styles:r,onClick:this._handleClick("/social-media-demo/signup")},a.a.createElement(Me.a,{cascade:!0,top:!0,when:o},"signup")),!n&&"/social-media-demo/"===t.pathname&&a.a.createElement(Ft,{styles:r,onClick:this._handleClick("/social-media-demo/signup")},a.a.createElement(Me.a,{cascade:!0,top:!0,when:o},"signup")),n&&a.a.createElement(Ft,{styles:r,onClick:this._handleClick("logout")},a.a.createElement(Me.a,{cascade:!0,top:!0,when:o},"logout")))))}}]),t}(a.a.Component),Yt=Object(b.a)(Vt);function Gt(){var e=Object(i.a)(["\n  max-width: 1200px;\n  margin: auto;\n"]);return Gt=function(){return e},e}function Ht(){var e=Object(i.a)(["\n  width: 100%;\n  min-height: calc(100vh - 60px);\n  position: relative;\n  transition: ",";\n  background: ",";\n  \n  "," {\n    background: ",";\n    color: ",";\n    border-color: ",";\n    border-radius: ",";\n    transition: ",";\n    \n    svg {\n      color: ",";\n    }\n  }\n  \n  "," {\n    color: ",";\n    background: ",";\n    border-color: ",";\n    transition: ",";\n  }\n  \n  "," {\n    border-color: ",";\n  }\n  \n  "," {\n    background: ",";\n    border-color: ",";\n  } \n  \n  "," {\n    background: ",";\n    border-color: ",";\n  } \n  \n  "," {\n    background: ",";\n    border-color: ",";\n    color: ",";\n    transition: ",";\n  }\n  \n  "," {\n    background: ",";\n    color: ",";\n    padding: ",";\n    border-radius: ",";\n    \n    &:hover {\n      background: ",";\n      color: ",";  \n    }\n    \n    &:disabled {\n    \n      svg {\n        color: ",";  \n      }\n    }\n  }\n  \n  "," {\n    padding: ",";\n    border-radius: "," 0 0 ",";\n    border-color: ",";\n    \n    &:last-child {\n      border-radius: 0 "," "," 0;\n    }\n  }\n  \n  "," {\n    color: ",";\n    \n    &:hover {\n      color: ",";  \n    }\n  }\n  \n  "," {\n    border-color: ",";\n  }\n  \n  "," {\n    border-color: ",";\n    color: ",";\n    background: ",";\n  }\n"]);return Ht=function(){return e},e}function Kt(){var e=Object(i.a)(["\n  font-family: 'Montserrat', sans-serif;\n"]);return Kt=function(){return e},e}var Xt=C.a.div(Kt()),Zt=C.a.div(Ht(),$,function(e){return e.styles.theme.page.bg},ut,function(e){return e.styles.theme.box.bg},function(e){return e.styles.theme.box.color},function(e){return e.styles.theme.box.border.color},function(e){return e.styles.theme.box.border.radius},$,function(e){return e.styles.theme.box.icon.color},st,function(e){return e.styles.theme.header.color},function(e){return e.styles.theme.header.bg},function(e){return e.styles.theme.box.border.color},$,ht,function(e){return e.styles.theme.box.border.color},ft,function(e){return e.styles.theme.box.alt.bg},function(e){return e.styles.theme.box.border.color},Et,function(e){return e.styles.theme.box.bg},function(e){return e.styles.theme.box.border.color},re,function(e){return e.styles.theme.input.bg},function(e){return e.styles.theme.box.border.color},function(e){return e.styles.theme.input.color},$,ae,function(e){return e.styles.theme.button.bg},function(e){return e.styles.theme.button.color},function(e){return e.styles.theme.button.padding},function(e){return e.styles.theme.button.border.radius},function(e){return e.styles.theme.button.hover.bg},function(e){return e.styles.theme.button.hover.color},function(e){return e.styles.theme.button.color},oe,function(e){return e.styles.theme.button.padding},function(e){return e.styles.theme.button.border.radius},function(e){return e.styles.theme.button.border.radius},function(e){return e.styles.theme.box.border.color},function(e){return e.styles.theme.button.border.radius},function(e){return e.styles.theme.button.border.radius},ue,function(e){return e.styles.theme.link.color},function(e){return e.styles.theme.link.hover.color},ce,function(e){return e.styles.theme.box.color},he,function(e){return e.styles.theme.box.error.color},function(e){return e.styles.theme.box.error.color},function(e){return e.styles.theme.box.error.bg}),en=C.a.div(Gt()),tn=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.userId,r=e.theme,o=e.styles;return a.a.createElement(Xt,null,a.a.createElement(Yt,{userId:n,styles:o}),a.a.createElement(Zt,{theme:r,styles:o},a.a.createElement(en,null,t)))}}]),t}(a.a.Component),nn=n(104),rn=n(101),an=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={activeItem:"posts"},n.handleClick=function(e){return function(){var t=n.props.onSelectItem;n.setState({activeItem:e}),t(e)}},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.userTheme,n=e.onLoadUserTheme;""!==t&&n(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.userName,o=this.state.activeItem,c=[{name:"Posts",key:"posts",icon:a.a.createElement(I.c,null)},{name:"Settings",key:"settings",icon:a.a.createElement(I.o,null)}];return a.a.createElement(ut,null,a.a.createElement(st,null,a.a.createElement(I.n,null),a.a.createElement(dt,null,a.a.createElement(Me.a,{top:!0,cascade:!0},"Welcome ".concat(r)))),a.a.createElement(yt,null,c.map(function(t){return a.a.createElement(kt,{key:t.key,theme:n,active:o===t.key,onClick:e.handleClick(t.key)},t.icon,t.name)})))}}]),t}(a.a.Component),on=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={theme:"dark",content:"",loading:!1,error:!1},n.handleSaveChanges=function(){var e=Object(s.a)(u.a.mark(function e(t){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.state.content,a=n.props.userId,t.preventDefault(),n.setState({loading:!0,error:!1}),e.next=6,n.props.createPost({variables:{content:r,authorId:a}}).then(function(e){return n.setState({content:"",loading:!1,error:!1}),n.props.updateRequired()});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.error,o=t.content,c=t.name;return a.a.createElement(ee,{onSubmit:this.handleSaveChanges},r&&a.a.createElement(he,null,"An error has occurred"),a.a.createElement(te,{noMargin:!0},a.a.createElement(ne,null,"Post:"),a.a.createElement(re,{value:c,placeholder:"post...",onChange:function(t){return e.setState({content:t.target.value})}}),a.a.createElement(ae,{type:"submit",disabled:function(){var e=!1;return[o].forEach(function(t){""===t&&(e=!0)}),n&&(e=!0),e}()},a.a.createElement(le,null,a.a.createElement(Me.a,{cascade:!0,top:!0},"Send",n?"":a.a.createElement(I.f,null)),n?a.a.createElement(me,null):""))))}}]),t}(a.a.Component),cn=Object(g.compose)(Object(g.graphql)(Pe,{name:"createPost"}))(on),ln=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={content:"",loading:!1,error:!1},n.handleSaveChanges=function(){var e=Object(s.a)(u.a.mark(function e(t){var r,a,o,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.state.content,a=n.props,o=a.postId,c=a.userId,t.preventDefault(),n.setState({loading:!0,error:!1}),e.next=6,n.props.createComment({variables:{postId:o,authorId:c,content:r}}).then(function(){return n.setState({content:"",loading:!1,error:!1}),n.props.updateRequired()});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.error,o=t.content;return a.a.createElement(ee,{onSubmit:this.handleSaveChanges},r&&a.a.createElement(he,null,"An error has occurred"),a.a.createElement(te,{noMargin:!0},a.a.createElement(ne,null,"Comment:"),a.a.createElement(re,{value:o,placeholder:"comment...",onChange:function(t){return e.setState({content:t.target.value})}}),a.a.createElement(ae,{type:"submit",disabled:function(){var e=!1;return[o].forEach(function(t){""===t&&(e=!0)}),n&&(e=!0),e}()},a.a.createElement(le,null,a.a.createElement(Me.a,{cascade:!0,top:!0},"Send",n?"":a.a.createElement(I.f,null)),n?a.a.createElement(me,null):""))))}}]),t}(a.a.Component),un=Object(g.compose)(Object(g.graphql)(Ae,{name:"createComment"}))(ln),sn=n(27),dn=n.n(sn),mn=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={loading:!1,error:!1},n.handleDeletePost=function(){var e=Object(s.a)(u.a.mark(function e(t){var r,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.props,a=r.commentId,o=r.updateRequired,n.setState({loading:!0,error:!1}),e.next=5,n.props.deleteComment({variables:{id:a}}).then(function(){return n.setState({loading:!1,error:!1}),o()});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleCancel=function(){n.props.onCancel()},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error;return a.a.createElement(ee,{onSubmit:this.handleDeletePost},n&&a.a.createElement(he,null,"An error has occurred"),a.a.createElement(te,{noMargin:!0},a.a.createElement(ne,null,"Are you sure?"),a.a.createElement(ae,{type:"submit"},a.a.createElement(le,null,"Yes",t?"":a.a.createElement(I.f,null),t?a.a.createElement(me,null):"")),a.a.createElement(ae,{type:"button",onClick:this.handleCancel},a.a.createElement(le,null,"cancel"))))}}]),t}(a.a.Component),hn=Object(g.compose)(Object(g.graphql)(Re,{name:"deleteComment"}))(mn),pn=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={counter:0},n.handleLike=function(){var e=n.props,t=e.likeComment,r=e.comment,a=e.userId,o=e.updateRequired;t({variables:{commentId:r.id,authorId:a}}).then(function(){return o()}),n.setState({counter:n.state.counter+1})},n.handleDislike=function(e){return function(){var t=n.props,r=t.dislikeComment,a=t.updateRequired;r({variables:{id:e}}).then(function(){return a()}),n.setState({counter:n.state.counter-1})}},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.likes,n=e.comment,r=e.userId,o=!1,c=null;return n.likes.forEach(function(e){e.author.id===r&&(o=!0,c=e.id)}),a.a.createElement(ue,{onClick:o?this.handleDislike(c):this.handleLike},a.a.createElement(se,null,t.length>1?"Likes":"Like"," ",t.length,a.a.createElement(dn.a,{spy:this.state.counter},o?a.a.createElement(I.l,null):a.a.createElement(I.j,null))))}}]),t}(a.a.Component),fn=Object(g.compose)(Object(g.graphql)(Le,{name:"likeComment"}),Object(g.graphql)(Te,{name:"dislikeComment"}))(pn),bn=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={counter:0,deleteComment:!1},n.handleLike=function(){n.setState({counter:n.state.counter+1})},n.toggleDeleteComment=function(){n.setState({deleteComment:!n.state.deleteComment})},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.comment,n=e.userId,r=e.updateRequired,o=this.state.deleteComment;return a.a.createElement(Et,{key:t.id},!o&&a.a.createElement(jt,null,a.a.createElement(I.n,null)," ",a.a.createElement("strong",null,t.author.name),a.a.createElement(Me.a,{cascade:!0,top:!0},t.content)),o&&a.a.createElement(jt,null,a.a.createElement(hn,{userId:n,commentId:t.id,onCancel:this.toggleDeleteComment,updateRequired:r})),a.a.createElement(Ot,null,a.a.createElement(fn,{comment:t,userId:n,likes:t.likes,updateRequired:r}),t.author.id===n&&a.a.createElement(ue,{onClick:this.toggleDeleteComment},a.a.createElement("span",null,a.a.createElement(I.m,null)))))}}]),t}(a.a.Component),gn=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.comments,n=e.userId,r=e.postId,o=e.updateRequired;return a.a.createElement(a.a.Fragment,null,t.length>0&&a.a.createElement(ft,null,t.map(function(e){return a.a.createElement(bn,{key:e.id,userId:n,comment:e,updateRequired:o})})),a.a.createElement(ht,{divider:!0},a.a.createElement(un,{userId:n,postId:r,updateRequired:o})))}}]),t}(a.a.Component),vn=n(64),En=n.n(vn),jn=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={theme:"dark",content:"",loading:!1,error:!1},n.handleSaveChanges=function(){var e=Object(s.a)(u.a.mark(function e(t){var r,a,o,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.state.content,a=n.props,o=a.userId,c=a.postId,t.preventDefault(),n.setState({loading:!0,error:!1}),e.next=6,n.props.updatePost({variables:{id:c,content:r,authorId:o}}).then(function(){return n.setState({loading:!1,error:!1}),n.props.updateRequired()});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.postContent;this.setState({content:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.error,o=t.content;return a.a.createElement(ee,{onSubmit:this.handleSaveChanges},r&&a.a.createElement(he,null,"An error has occurred"),a.a.createElement(te,{noMargin:!0},a.a.createElement(ne,null,"Edit Post:"),a.a.createElement(re,{value:o,placeholder:"post...",onChange:function(t){return e.setState({content:t.target.value})}}),a.a.createElement(ae,{type:"submit",disabled:function(){var e=!1;return[o].forEach(function(t){""===t&&(e=!0)}),n&&(e=!0),e}()},a.a.createElement(le,null,a.a.createElement(Me.a,{cascade:!0,top:!0},"Send",n?"":a.a.createElement(I.f,null)),n?a.a.createElement(me,null):""))))}}]),t}(a.a.Component),On=Object(g.compose)(Object(g.graphql)(Ue,{name:"updatePost"}))(jn),yn=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={theme:"dark",loading:!1,error:!1},n.handleDeletePost=function(){var e=Object(s.a)(u.a.mark(function e(t){var r,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.props,a=r.postId,o=r.updateRequired,n.setState({loading:!0,error:!1}),console.log("postId",a),e.next=6,n.props.deletePost({variables:{id:a}}).then(function(){return n.setState({loading:!1,error:!1}),o()});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleCancel=function(){n.props.onCancel()},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error;return a.a.createElement(ee,{onSubmit:this.handleDeletePost},n&&a.a.createElement(he,null,"An error has occurred"),a.a.createElement(te,{noMargin:!0},a.a.createElement(ne,null,"Are you sure?"),a.a.createElement(ae,{type:"submit"},a.a.createElement(le,null,"Yes",t?"":a.a.createElement(I.f,null),t?a.a.createElement(me,null):"")),a.a.createElement(ae,{type:"button",onClick:this.handleCancel},a.a.createElement(le,null,"cancel"))))}}]),t}(a.a.Component),kn=Object(g.compose)(Object(g.graphql)(De,{name:"deletePost"}))(yn),xn=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={counter:0},n.handleLike=function(){var e=n.props,t=e.likePost,r=e.post,a=e.userId,o=e.updateRequired;t({variables:{postId:r.id,authorId:a}}).then(function(){return o()}),n.setState({counter:n.state.counter+1})},n.handleDislike=function(e){return function(){var t=n.props,r=t.dislikePost,a=t.updateRequired;r({variables:{id:e}}).then(function(){return a()}),n.setState({counter:n.state.counter-1})}},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.likes,n=e.post,r=e.userId,o=!1,c=null;return n.likes.forEach(function(e){e.author.id===r&&(o=!0,c=e.id)}),a.a.createElement(ue,{onClick:o?this.handleDislike(c):this.handleLike},a.a.createElement(se,null,t.length>1?"LikesPost":"Like"," ",t.length,a.a.createElement(dn.a,{spy:this.state.counter},o?a.a.createElement(I.l,null):a.a.createElement(I.j,null))))}}]),t}(a.a.Component),wn=Object(g.compose)(Object(g.graphql)($e,{name:"likePost"}),Object(g.graphql)(qe,{name:"dislikePost"}))(xn),In=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={showComments:!1,counter:0,editPost:!1,deletePost:!1},n.handleToggleComments=function(){n.setState({showComments:!n.state.showComments})},n.handleEditPost=function(){n.setState({editPost:!n.state.editPost,deletePost:!1})},n.handleDeletePost=function(){n.setState({deletePost:!n.state.deletePost,editPost:!1})},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.post,n=e.userId,r=e.updateRequired,o=this.state,c=o.showComments,i=o.editPost,l=o.deletePost;return console.log("post",t),a.a.createElement(ut,{mt:q},a.a.createElement(ht,null,a.a.createElement(bt,null,a.a.createElement(gt,null,a.a.createElement(I.n,null)," ",t.author.name),a.a.createElement(vt,null,a.a.createElement(En.a,{date:t.updatedAt}),t.author.id===n&&a.a.createElement(ue,{marginLeft:!0,onClick:this.handleEditPost},a.a.createElement("span",null,a.a.createElement(I.h,null))),t.author.id===n&&a.a.createElement(ue,{onClick:this.handleDeletePost},a.a.createElement("span",null,a.a.createElement(I.m,null))))),!i&&!l&&a.a.createElement(pt,null,a.a.createElement(Me.a,{cascade:!0,top:!0},t.content)),i&&a.a.createElement(ht,{midSection:!0},a.a.createElement(On,{userId:n,postId:t.id,postContent:t.content,updateRequired:this.handleEditPost})),l&&a.a.createElement(ht,{midSection:!0},a.a.createElement(kn,{userId:n,postId:t.id,onCancel:this.handleDeletePost,updateRequired:r})),a.a.createElement(ce,{divider:!0},a.a.createElement(ue,{onClick:this.handleToggleComments},a.a.createElement("span",null,"comments ",t.comments.length,t.comments.length>0?a.a.createElement(I.b,null):a.a.createElement(I.i,null))),a.a.createElement(wn,{post:t,userId:n,likes:t.likes,updateRequired:r}))),c&&a.a.createElement(gn,{userId:n,postId:t.id,comments:t.comments,updateRequired:r}))}}]),t}(a.a.Component),Cn=Object(g.compose)(Object(g.graphql)($e,{name:"likePost"}))(In);function Sn(){var e=Object(i.a)(["\n  query AllPosts {\n    allPosts(orderBy: createdAt_DESC) {\n      id\n      createdAt\n      updatedAt\n      content\n      author {\n        id\n        name\n      }\n      likes {\n        id\n        author {\n          id\n          name\n        }\n      }\n      comments {\n        id\n        content\n        likes {\n          id\n          author {\n            id\n            name\n          }\n        }\n        author {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return Sn=function(){return e},e}function Pn(){var e=Object(i.a)(["\n  query CurrentUser ($id: ID!){\n    User(id: $id) {\n      id\n      email\n      name\n      theme\n    }\n  }\n"]);return Pn=function(){return e},e}function Un(){var e=Object(i.a)(["\n  query LoggedInUser {\n    loggedInUser {\n      id\n    }\n  }\n"]);return Un=function(){return e},e}var $n=E()(Un()),qn=E()(Pn()),Dn=E()(Sn()),An=n(41),Rn=n.n(An),Ln=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).handleRefetch=function(){n.props.allPosts.refetch()},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.userName,r=t.userId,o=t.allPosts,c=[];return o.allPosts&&(c=o.allPosts),a.a.createElement(a.a.Fragment,null,a.a.createElement(ut,null,a.a.createElement(st,null,a.a.createElement(mt,null,a.a.createElement(Me.a,{top:!0,cascade:!0},"What are you thinking ".concat(n,"?")))),a.a.createElement(ht,null,a.a.createElement(cn,{userId:r,updateRequired:this.handleRefetch}))),c.map(function(t){return a.a.createElement(Cn,{key:t.id,post:t,userId:r,updateRequired:e.handleRefetch})}))}}]),t}(a.a.PureComponent),Tn=Object(g.compose)(Object(g.graphql)(Dn,{name:"allPosts"}))(Ln),_n=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={id:"",name:"",loading:!1,error:!1,saveSuccess:!1},n.handleSaveChanges=function(){var e=Object(s.a)(u.a.mark(function e(t){var r,a,o,c,i,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props,a=r.updateUser,o=r.theme,c=n.state,i=c.name,l=c.id,t.preventDefault(),n.setState({loading:!0,error:!1}),a({variables:{id:l,name:i,theme:o}}).then(function(){return n.setState({loading:!1,error:!1,saveSuccess:!0}),setTimeout(function(){return n.setState({saveSuccess:!1})},2e3)}).catch(function(){return n.setState({loading:!1,error:!0})});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleSelectTheme=function(e){return function(){(0,n.props.onSelectTheme)(e)}},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.currentUser;this.setState({id:e.User.id,name:e.User.name,authorId:e.User.id})}},{key:"render",value:function(){var e=this,t=this.props.theme,n=this.state,r=n.loading,o=n.error,c=n.name,i=n.saveSuccess;return a.a.createElement(ee,{onSubmit:this.handleSaveChanges},o&&a.a.createElement(he,null,"An error has occurred"),a.a.createElement(te,null,a.a.createElement(ne,null,"name:"),a.a.createElement(re,{value:c,placeholder:"name",onChange:function(t){return e.setState({name:t.target.value})}})),a.a.createElement(te,null,a.a.createElement(ne,null,"Theme:"),a.a.createElement(oe,{type:"button",activeTheme:t,active:"dark"===t,onClick:this.handleSelectTheme("dark")},a.a.createElement(I.e,null),"Dark"),a.a.createElement(oe,{type:"button",activeTheme:t,active:"light"===t,onClick:this.handleSelectTheme("light")},a.a.createElement(I.d,null),"Light")),a.a.createElement(ce,{divider:!0},a.a.createElement(Rn.a,{bottom:!0,opposite:!0,when:i},a.a.createElement(ie,null,"Saved!")),a.a.createElement(ae,{type:"submit",disabled:function(){var e=!1;return[c,t].forEach(function(t){""===t&&(e=!0)}),r&&(e=!0),e}()},a.a.createElement(le,null,a.a.createElement(Me.a,{cascade:!0,top:!0},"Save",r?"":a.a.createElement(I.g,null)),r?a.a.createElement(me,null):""))))}}]),t}(a.a.Component),Mn=Object(g.compose)(Object(g.graphql)(Se,{name:"updateUser"}))(_n),zn=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.onSelectTheme,r=e.currentUser;return a.a.createElement(ut,null,a.a.createElement(st,null,a.a.createElement(Me.a,{top:!0,cascade:!0},a.a.createElement(I.o,null),"Settings")),a.a.createElement(ht,null,a.a.createElement(Mn,{theme:t,onSelectTheme:n,currentUser:r})))}}]),t}(a.a.Component),Nn=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={view:"posts"},n.handleViewChange=function(e){n.setState({view:e})},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.styles,r=e.userId,o=e.currentUser,c=e.updateRequired,i=e.onSelectTheme,l=this.state.view;if(!r)return a.a.createElement(xt,{userId:r,updateRequired:c});var u=o.User?o.User.name:"",s=o.User?o.User.theme:"";return u?a.a.createElement(ct,null,a.a.createElement(it,null,a.a.createElement(lt,{size:2},a.a.createElement(an,{theme:t,styles:n,userName:u,userTheme:s,onLoadUserTheme:i,onSelectItem:this.handleViewChange})),a.a.createElement(lt,{size:6},"settings"===l&&a.a.createElement(zn,{theme:t,currentUser:o,onSelectTheme:i}),"posts"===l&&a.a.createElement(Tn,{userName:u,userId:r})))):null}}]),t}(a.a.PureComponent),Qn=Object(g.compose)(Object(g.graphql)(qn,{name:"currentUser",options:function(e){return{variables:{id:e.userId}}}}))(Nn),Wn=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={theme:"light"},n._handleRefetch=function(){n.props.user.refetch()},n.handleThemeChange=function(e){n.setState({theme:e})},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.user,t=this.state.theme,n=null;e.loggedInUser&&e.loggedInUser.id&&(n=e.loggedInUser.id);var r={theme:M.themes[t]};return a.a.createElement(tn,{userId:n,theme:t,styles:r},a.a.createElement(nn.a,null,a.a.createElement(rn.a,{exact:!0,path:"/social-media-demo/"},a.a.createElement(Qn,{userId:n,theme:t,updateRequired:this._handleRefetch,onSelectTheme:this.handleThemeChange})),a.a.createElement(rn.a,{exact:!0,path:"/social-media-demo/login"},a.a.createElement(xt,{userId:n,updateRequired:this._handleRefetch})),a.a.createElement(rn.a,{path:"/social-media-demo/create"},a.a.createElement(w,null)),a.a.createElement(rn.a,{path:"/social-media-demo/signup"},a.a.createElement(Ct,null))))}}]),t}(r.Component),Bn=Object(g.compose)(Object(g.graphql)($n,{name:"user",options:{fetchPolicy:"network-only"}}))(Wn),Fn=Object(Ut.a)({uri:"https://api.graph.cool/simple/v1/cjowu0zrbb1270106hgdbk7vv"}),Jn=new $t.a(function(e,t){var n=localStorage.getItem("graphcoolToken"),r=n?"Bearer ".concat(n):null;return e.setContext({headers:{authorization:r}}),t(e)}).concat(Fn),Vn=new Pt.a({link:Jn,cache:(new qt.a).restore(window.__APOLLO_STATE__)});c.a.render(a.a.createElement(g.ApolloProvider,{client:Vn},a.a.createElement(St.a,null,a.a.createElement(Bn,null))),document.getElementById("root"))}},[[68,2,1]]]);
//# sourceMappingURL=main.252dbffc.chunk.js.map