{"version":3,"sources":["Header/graphql_Logo_color_xxs.png","components/CreatePost.js","config.js","elements/form/index.jsx","services/mutations/index.jsx","forms/LoginUserForm.jsx","elements/layout/index.jsx","scenes/Login/index.jsx","forms/CreateUserForm.jsx","scenes/CreateUser/index.jsx","elements/header/index.jsx","Header/index.jsx","elements/shell/index.jsx","Shell/index.jsx","scenes/App/NavBar/index.jsx","forms/CreatePostForm.jsx","forms/CreateCommentForm.jsx","forms/DeleteCommentForm.jsx","scenes/App/LikesComment/index.jsx","forms/EditCommentForm.jsx","scenes/App/Comment/index.jsx","scenes/App/Comments/index.jsx","forms/EditPostForm.jsx","forms/DeletePostForm.jsx","scenes/App/LikesPost/index.jsx","scenes/App/Post/index.jsx","services/queries/index.jsx","scenes/App/Posts/index.jsx","forms/UserSettingsForm.jsx","scenes/App/Settings/index.jsx","scenes/App/index.jsx","scenes/index.jsx","index.js"],"names":["module","exports","__webpack_require__","p","CreatePost","state","description","imageUrl","handlePost","_callee","_this$state","authorId","regenerator_default","a","wrap","_context","prev","next","_this","props","loggedInUserQuery","loggedInUser","console","warn","abrupt","id","createPostMutation","variables","history","replace","stop","this","_this2","loading","react_default","createElement","className","style","maxWidth","value","placeholder","onChange","e","setState","target","src","alt","onClick","React","Component","CREATE_POST_MUTATION","gql","_templateObject","LOGGED_IN_USER_QUERY","_templateObject2","compose","graphql","name","options","fetchPolicy","withRouter","boxShadow","boxShadowHover","transition","transitionLarge","space","spaceSmall","spaceLarge","containerMaxWidth","buttonPadding","buttonBorderRadius","pageBg","pageBgDark","headerBg","headerBgDark","headerColor","headerColorDark","headerColorHover","headerColorDarkHover","themes","dark","page","bg","header","color","hover","box","icon","border","radius","error","link","active","button","padding","input","light","Form","styled","form","form_templateObject","_ref","expand","FormGroup","div","form_templateObject2","_ref2","noMargin","Label","_templateObject3","Field","_templateObject4","ActionButton","_templateObject5","RadioButton","_templateObject6","_ref3","activeTheme","_ref4","_ref5","_ref6","ActionBar","_templateObject7","_ref7","divider","_ref8","SuccessMessage","_templateObject8","ButtonContent","span","_templateObject9","ActionLink","_templateObject10","_ref9","marginLeft","ActionLinkContent","_templateObject11","rotate","keyframes","_templateObject12","FaCogSpin","FaCog","_templateObject13","ErrorBox","_templateObject14","authenticateUser","mutations_templateObject","signupUser","mutations_templateObject2","updateUser","mutations_templateObject3","createPost","mutations_templateObject4","updatePost","mutations_templateObject5","likePost","mutations_templateObject6","dislikePost","mutations_templateObject7","deletePost","mutations_templateObject8","createComment","mutations_templateObject9","updateComment","mutations_templateObject10","deleteComment","mutations_templateObject11","likeComment","mutations_templateObject12","dislikeComment","mutations_templateObject13","LoginUserForm","email","password","_this$props","updateRequired","preventDefault","then","response","localStorage","setItem","data","token","catch","_this$state2","onSubmit","type","disabled","forEach","item","validate","Flip_default","cascade","top","fa","Page","layout_templateObject","Row","layout_templateObject2","Col","layout_templateObject3","size","navBar","PostArea","layout_templateObject4","Box","layout_templateObject5","mt","BoxHeader","layout_templateObject6","BoxHeaderContent","layout_templateObject7","PostHeaderContent","layout_templateObject8","BoxContent","layout_templateObject9","midSection","concat","PostContent","h3","layout_templateObject10","CommentsContainer","layout_templateObject11","PostHeader","layout_templateObject12","PostAuthor","layout_templateObject13","PostDate","layout_templateObject14","CommentBox","_templateObject15","CommentContent","_templateObject16","CommentText","_templateObject17","CommentActions","_templateObject18","UList","_templateObject19","LItem","_templateObject20","theme","Login","forms_LoginUserForm","CreateUserForm","handleSignupUser","user","sent","setTimeout","t0","CreateUser","forms_CreateUserForm","PureComponent","HeaderBox","header_templateObject","styles","Container","header_templateObject2","HeaderTitle","header_templateObject3","HeaderActionBar","header_templateObject4","HeaderButton","header_templateObject5","TransparentButton","header_templateObject6","Header","_handleClick","path","isLoggingOut","removeItem","window","location","reload","_onImageLoad","show","userId","pathname","shell_templateObject","Body","shell_templateObject2","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","_ref30","_ref31","_ref32","_ref33","_ref34","_ref35","_ref36","BodyContainer","shell_templateObject3","Shell","children","shell_Container","src_Header","NavBar","activeItem","handleClick","onSelectItem","userTheme","onLoadUserTheme","_this$props2","userName","items","key","map","CreatePostForm","content","handleSaveChanges","CreateCommentForm","postId","DeleteCommentForm","handleDeletePost","commentId","handleCancel","onCancel","LikesComment","counter","handleLike","comment","handleDislike","likeId","_this$props3","likes","liked","like","author","length","Tada_default","spy","EditCommentForm","commentContent","Comment","toggleEditComment","editComment","toggleDeleteComment","forms_EditCommentForm","forms_DeleteCommentForm","App_LikesComment","Comments","comments","Fragment","App_Comment","forms_CreateCommentForm","EditPostForm","postContent","DeletePostForm","LikesPost","post","Post","showComments","editPost","handleToggleComments","handleEditPost","lib_default","date","updatedAt","forms_EditPostForm","forms_DeletePostForm","App_LikesPost","App_Comments","queries_templateObject","currentUser","queries_templateObject2","allPosts","queries_templateObject3","Posts","handleRefetch","refetch","posts","forms_CreatePostForm","App_Post","UserSettingsForm","saveSuccess","handleSelectTheme","onSelectTheme","User","Fade_default","bottom","opposite","when","Settings","forms_UserSettingsForm","App","view","handleViewChange","scenes_Login","App_NavBar","App_Settings","App_Posts","Scenes","_handleRefetch","handleThemeChange","src_Shell","Switch","Route","exact","scenes_App","Redirect","to","scenes_CreateUser","httpLink","createHttpLink","uri","httpLinkWithAuthToken","ApolloLink","operation","forward","getItem","authorizationHeader","setContext","headers","authorization","client","ApolloClient","cache","InMemoryCache","restore","__APOLLO_STATE__","ReactDOM","render","react_apollo_browser_umd","BrowserRouter","scenes","document","getElementById"],"mappings":"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","file":"static/js/main.2f2f5385.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/graphql_Logo_color_xxs.2f0d022e.png\";","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { graphql, compose } from 'react-apollo'\r\nimport gql from 'graphql-tag'\r\n\r\nclass CreatePost extends React.Component {\r\n\r\n  state = {\r\n    description: '',\r\n    imageUrl: '',\r\n  }\r\n\r\n  render () {\r\n    if (this.props.loggedInUserQuery.loading) {\r\n      return (<div>Loading</div>)\r\n    }\r\n\r\n    return (\r\n      <div className='w-100 pa4 flex justify-center'>\r\n        <div style={{ maxWidth: 400 }} className=''>\r\n          <input\r\n            className='w-100 pa3 mv2'\r\n            value={this.state.description}\r\n            placeholder='Description'\r\n            onChange={(e) => this.setState({description: e.target.value})}\r\n          />\r\n          <input\r\n            className='w-100 pa3 mv2'\r\n            value={this.state.imageUrl}\r\n            placeholder='Image Url'\r\n            onChange={(e) => this.setState({imageUrl: e.target.value})}\r\n          />\r\n          {this.state.imageUrl &&\r\n            <img src={this.state.imageUrl} alt='' className='w-100 mv3' />\r\n          }\r\n          {this.state.description && this.state.imageUrl &&\r\n            <button className='pa3 bg-black-10 bn dim ttu pointer' onClick={this.handlePost}>Post</button>\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handlePost = async () => {\r\n    // redirect if no user is logged in\r\n    if (!this.props.loggedInUserQuery.loggedInUser) {\r\n      console.warn('only logged in users can create new posts')\r\n      return\r\n    }\r\n\r\n    const { description, imageUrl } = this.state\r\n    const authorId = this.props.loggedInUserQuery.loggedInUser.id\r\n\r\n    await this.props.createPostMutation({variables: { description, imageUrl, authorId }})\r\n    this.props.history.replace('/')\r\n  }\r\n}\r\n\r\nconst CREATE_POST_MUTATION = gql`\r\n  mutation CreatePostMutation ($description: String!, $imageUrl: String!, $authorId: ID!) {\r\n    createPost(description: $description, imageUrl: $imageUrl, authorId: $authorId) {\r\n      id\r\n    }\r\n  }\r\n`\r\n\r\nconst LOGGED_IN_USER_QUERY = gql`\r\n  query LoggedInUserQuery {\r\n    loggedInUser {\r\n      id\r\n    }\r\n  }\r\n`\r\n\r\nexport default compose(\r\n  graphql(CREATE_POST_MUTATION, { name: 'createPostMutation' }),\r\n  graphql(LOGGED_IN_USER_QUERY, { \r\n    name: 'loggedInUserQuery',\r\n    options: { fetchPolicy: 'network-only' }\r\n  })\r\n)(withRouter(CreatePost))\r\n","export const variables = {\r\n  boxShadow: '0 2px 6px rgba(0,0,0,0.2)',\r\n  boxShadowHover: '0 2px 10px rgba(0,0,0,0.3)',\r\n  transition: '.3s ease',\r\n  transitionLarge: '1s ease',\r\n  space: '16px',\r\n  spaceSmall: '8px',\r\n  spaceLarge: '32px',\r\n  containerMaxWidth: '1000px',\r\n  buttonPadding: '10px 15px',\r\n  buttonBorderRadius: '18px',\r\n  pageBg: '#dfdfdf',\r\n  pageBgDark: '#151415',\r\n  headerBg: '#282c34',\r\n  headerBgDark: '#060009',\r\n  headerColor: '#b7b7b7',\r\n  headerColorDark: '#b7b7b7',\r\n  headerColorHover: '#2c313d',\r\n  headerColorDarkHover: '#dddddd',\r\n}\r\n\r\nexport const dark = {\r\n  page: {\r\n    bg: '#151415',\r\n  },\r\n  header: {\r\n    bg: variables.headerBgDark,\r\n    color: variables.headerColorDark,\r\n    hover: {\r\n      bg: variables.headerBgDark,\r\n      color: variables.headerColorDarkHover,\r\n    }\r\n  },\r\n  box: {\r\n    bg: '#232323',\r\n    color: '#c2d0ec',\r\n    icon: {\r\n      color: '#ff5270',\r\n    },\r\n    border: {\r\n      color: '#939393',\r\n      radius: '6px'\r\n    },\r\n    alt: {\r\n      bg: '#645d60',\r\n    },\r\n    error: {\r\n      bg: '#3c181f',\r\n      color: '#ff5386',\r\n    }\r\n  },\r\n  link: {\r\n    color: '#b579ff',\r\n    bg: 'transparent',\r\n    hover : {\r\n      color: '#865bcc',\r\n    },\r\n    active: {\r\n      bg: variables.headerBgDark,\r\n      color: '#b579ff',\r\n      hover: {\r\n        color: '#865bcc',\r\n      }\r\n    }\r\n  },\r\n  button: {\r\n    border: {\r\n      radius: '18px',\r\n    },\r\n    bg: variables.headerBgDark,\r\n    color: '#b7b7b7',\r\n    padding: '10px 15px',\r\n    hover: {\r\n      color: '#dddddd'\r\n    },\r\n    alt: {\r\n      bg: '#151415',\r\n      color: '#676767',\r\n      hover: {\r\n        color: '#838189',\r\n      },\r\n    }\r\n  },\r\n  input: {\r\n    bg: '#0a0a0a',\r\n    color: '#949494',\r\n  },\r\n}\r\n\r\nexport const light = {\r\n  page: {\r\n    bg: variables.pageBg,\r\n  },\r\n  header: {\r\n    bg: variables.headerBg,\r\n    color: variables.headerColorDark,\r\n    hover: {\r\n      bg: '#2c313d',\r\n      color: '#dddddd',\r\n    }\r\n  },\r\n  box: {\r\n    bg: '#ffffff',\r\n    color: '#282c34',\r\n    icon: {\r\n      color: '#ff5270',\r\n    },\r\n    border: {\r\n      color: '#939393',\r\n      radius: '6px'\r\n    },\r\n    alt: {\r\n      bg: '#e7e2e0',\r\n    },\r\n    error: {\r\n      bg: '#ffdec9',\r\n      color: '#cb7e7f',\r\n    }\r\n  },\r\n  link: {\r\n    color: '#6ba3ff',\r\n    bg: 'transparent',\r\n    hover : {\r\n      color: '#4e86cc',\r\n    },\r\n    active: {\r\n      bg: '#2c313d',\r\n      color: '#b7b7b7',\r\n      hover: {\r\n        color: '#dddddd',\r\n      }\r\n    }\r\n  },\r\n  button: {\r\n    border: {\r\n      radius: '18px',\r\n    },\r\n    bg: '#282c34',\r\n    color: '#b7b7b7',\r\n    padding: '10px 15px',\r\n    hover: {\r\n      color: '#dddddd',\r\n    },\r\n    alt: {\r\n      bg: '#b7b7b7',\r\n      color: '#282c34',\r\n      hover: {\r\n        color: '#3f4653',\r\n      },\r\n    }\r\n  },\r\n  input: {\r\n    bg: '#dfdfdf',\r\n    color: '#21252e',\r\n  },\r\n}\r\n\r\nexport const style = {\r\n  themes: {\r\n    dark,\r\n    light,\r\n  },\r\n  variables: variables,\r\n}","import styled, { keyframes } from 'styled-components'\r\nimport { variables } from '../../config'\r\nimport { FaCog } from 'react-icons/fa'\r\nimport { style } from '../../config'\r\n\r\nexport const Form = styled.form`\r\n  width: ${({ expand }) => expand ? '98%' : '100%'};\r\n`;\r\n\r\nexport const FormGroup = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  margin-bottom: ${({ noMargin }) => noMargin ? 0 : variables.space};\r\n  \r\n  button {\r\n    margin-left: ${variables.spaceSmall};\r\n  }\r\n`\r\n\r\nexport const Label = styled.div`\r\n  font-size: .9em;\r\n  min-width: 100px;\r\n  \r\n  @media all and (max-width: 430px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const Field = styled.input`\r\n  flex-grow: 1;\r\n  opacity: .8;\r\n  padding: 10px;\r\n  font-size: .9em;\r\n  min-width: 60px;\r\n  border-radius: 18px;\r\n  border: 1px solid;\r\n  box-shadow: inset ${variables.boxShadow};\r\n  \r\n  &:focus {\r\n    opacity: 1;\r\n    outline: none;\r\n    box-shadow: ${variables.boxShadowHover};\r\n  }\r\n`;\r\n\r\nexport const ActionButton = styled.button`\r\n  border: none;\r\n  display: flex;\r\n  cursor: pointer;\r\n  max-height: 38px;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  box-shadow: 0 0 0 rgba(0,0,0,0);\r\n  transition: ${variables.transition};\r\n  \r\n  span {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  \r\n  svg {\r\n    margin-left: ${variables.spaceSmall};\r\n  }\r\n  \r\n  &:hover, &:focus {\r\n    outline: none;\r\n    box-shadow: ${variables.boxShadow};\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: .7;\r\n    cursor: default;\r\n    \r\n    &:hover, &:focus {\r\n      box-shadow: none;\r\n    }\r\n  } \r\n  \r\n  @media all and (max-width: 430px) {\r\n    flex-grow: 2;\r\n  }\r\n`;\r\n\r\nexport const RadioButton = styled.button`\r\n  display: flex;\r\n  cursor: pointer;\r\n  border: 1px solid;\r\n  align-items: center;\r\n  margin-left: 0 !important;\r\n  justify-content: space-around;\r\n  box-shadow: 0 0 0 rgba(0,0,0,0);\r\n  transition: ${variables.transition};\r\n  background: ${({ activeTheme, active }) => active ? style.themes[activeTheme].button.bg : style.themes[activeTheme].button.alt.bg};\r\n  color: ${({ activeTheme, active }) => active ? style.themes[activeTheme].button.color : style.themes[activeTheme].button.alt.color};\r\n  \r\n  &:last-child {\r\n    margin-left: 0;\r\n    border-left: none;\r\n  }\r\n  \r\n  &:hover {\r\n    background: ${({ activeTheme, active }) => active ? style.themes[activeTheme].button.hover.bg : style.themes[activeTheme].button.alt.hover.bg};\r\n    color: ${({ activeTheme, active }) => active ? style.themes[activeTheme].button.hover.color : style.themes[activeTheme].button.alt.hover.color};  \r\n  }\r\n  \r\n  svg {\r\n    margin-right: ${variables.spaceSmall};\r\n  }\r\n  \r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport const ActionBar = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  border-top: ${({ divider }) => divider ? '1px dashed' : 'none'};\r\n  padding-top: ${({ divider }) => divider ? variables.space : 0 };\r\n`;\r\n\r\nexport const SuccessMessage = styled.div`\r\n  margin-right: ${variables.spaceSmall};\r\n  font-size: .8em;\r\n`;\r\n\r\nexport const ButtonContent = styled.span`\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: baseline;\r\n  justify-content: flex-start;\r\n`;\r\n\r\n\r\n\r\nexport const ActionLink = styled.a`\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: ${variables.transition};\r\n  margin-left: ${({ marginLeft }) => marginLeft ? variables.spaceSmall : '0'};\r\n  \r\n  svg, &:last-child {\r\n    margin-left: ${variables.spaceSmall};\r\n  }\r\n  \r\n  &:hover {\r\n    text-shadow: ${variables.boxShadow};\r\n  }\r\n`;\r\n\r\nexport const ActionLinkContent = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n`;\r\n\r\nexport const rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  to {\r\n    transform: rotate(359deg);\r\n  }\r\n`;\r\n\r\nexport const FaCogSpin = styled(FaCog)`\r\n  animation: ${rotate} 1.4s linear infinite;\r\n`;\r\n\r\nexport const ErrorBox = styled.div`\r\n  border-radius: ${variables.buttonBorderRadius};\r\n  padding: ${variables.space};\r\n  margin-bottom: ${variables.space};\r\n  border: 1px solid;\r\n`;","import gql from 'graphql-tag'\r\n\r\nexport const authenticateUser = gql`\r\n  mutation AuthenticateUser ($email: String!, $password: String!) { \r\n    authenticateUser(email: $email, password: $password) {\r\n      token\r\n    }\r\n  }\r\n`;\r\n\r\nexport const signupUser = gql`\r\n  mutation SignupUser ($email: String!, $password: String!, $name: String) {\r\n    signupUser(email: $email, password: $password, name: $name) {\r\n      id\r\n      token\r\n    }\r\n  }\r\n`;\r\n\r\nexport const updateUser = gql`\r\n  mutation UpdateUser ($id: ID!, $name: String, $theme: String) {\r\n    updateUser(id: $id, name: $name, theme: $theme) {\r\n      id\r\n      name\r\n      email\r\n      theme\r\n    }\r\n  }\r\n`;\r\n\r\nexport const createPost = gql`\r\n  mutation CreatePost ($content: String!, $authorId: ID!) {\r\n    createPost(content: $content, authorId: $authorId) {\r\n      id\r\n      content\r\n    }\r\n  }\r\n`;\r\n\r\nexport const updatePost = gql`\r\n  mutation UpdatePost ($id: ID!, $content: String!, $authorId: ID!) {\r\n    updatePost(id: $id, content: $content, authorId: $authorId) {\r\n      id\r\n      content\r\n    }\r\n  }\r\n`;\r\n\r\nexport const likePost = gql`\r\n  mutation CreatePostLike ($postId: ID!, $authorId: ID!) {\r\n    createPostLike(postId: $postId, authorId: $authorId) {\r\n      id\r\n      author {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const dislikePost = gql`\r\n  mutation DeletePostLike ($id: ID!) {\r\n    deletePostLike(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const deletePost = gql`\r\n  mutation DeletePost ($id: ID!) {\r\n    deletePost(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const createComment = gql`\r\n  mutation CreateComment ($postId: ID!, $authorId: ID!, $content: String!) {\r\n    createComment(postId: $postId, authorId: $authorId, content: $content) {\r\n      id\r\n      content\r\n      author {\r\n        id\r\n        name\r\n      }\r\n      likes {\r\n        id\r\n        author {\r\n          id\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const updateComment = gql`\r\n  mutation UpdateComment ($id: ID!, $content: String!, $authorId: ID!) {\r\n    updateComment(id: $id, content: $content, authorId: $authorId) {\r\n      id\r\n      content\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const deleteComment = gql`\r\n  mutation DeleteComment ($id: ID!) {\r\n    deleteComment(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const likeComment = gql`\r\n  mutation CreateCommentLike ($commentId: ID!, $authorId: ID!) {\r\n    createCommentLike(commentId: $commentId, authorId: $authorId) {\r\n      id\r\n      author {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const dislikeComment = gql`\r\n  mutation DeleteCommentLike ($id: ID!) {\r\n    deleteCommentLike(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { graphql, compose } from 'react-apollo';\r\nimport {\r\n  ActionBar,\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n} from '../elements/form';\r\nimport { authenticateUser } from '../services/mutations';\r\nimport { FaSignInAlt } from 'react-icons/fa';\r\nimport Flip from 'react-reveal/Flip'\r\n\r\nclass LoginUserForm extends React.Component {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    loading: false,\r\n    error: false,\r\n  }\r\n\r\n  render () {\r\n    const { loading, error, email, password } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        email,\r\n        password,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      // if (loading) {\r\n      //   disabled = true\r\n      // }\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form onSubmit={this.authenticateUser}>\r\n        {error && (\r\n          <ErrorBox>\r\n            invalid credentials\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup>\r\n          <Label>\r\n            Email:\r\n          </Label>\r\n          <Field\r\n            value={this.state.email}\r\n            placeholder='Email address'\r\n            onChange={(e) => this.setState({email: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>\r\n            Password:\r\n          </Label>\r\n          <Field\r\n            type=\"password\"\r\n            value={this.state.password}\r\n            placeholder='Password'\r\n            onChange={(e) => this.setState({password: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <ActionBar divider>\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Log In\r\n                {!loading ? <FaSignInAlt/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </ActionBar>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  authenticateUser = async (e) => {\r\n    const { authenticateUser, history, updateRequired } = this.props;\r\n    const {email, password} = this.state;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n\r\n    authenticateUser({\r\n      variables: { email, password },\r\n    })\r\n      .then((response) => (\r\n        localStorage.setItem('graphcoolToken', response.data.authenticateUser.token),\r\n        history.replace('/social-media-demo'),\r\n        updateRequired()\r\n      ))\r\n      .catch((e) => (\r\n        this.setState({ loading: false, error: true })\r\n      ))\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n  graphql(authenticateUser, {name: 'authenticateUser'}),\r\n)(withRouter(LoginUserForm))\r\n","import styled from 'styled-components'\r\nimport { style, variables } from '../../config'\r\n\r\nexport const Page = styled.div`\r\n  margin: auto;\r\n  height: 100%;\r\n  //display: flex;\r\n  position: relative;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  max-width: ${variables.containerMaxWidth}\r\n`;\r\n\r\n\r\nexport const Row = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  overflow: visible;\r\n  justify-content: flex-start;\r\n  padding-top: ${variables.spaceSmall};\r\n  \r\n  @media all and (max-width: 799px) {\r\n    flex-direction: column;\r\n    \r\n    > div {\r\n      flex-grow: 1;\r\n      padding: ${variables.space} !important;\r\n      padding-bottom: 0 !important;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Col = styled.div`\r\n  flex-grow: ${({ size }) => size ? size : 1};\r\n  padding-top: ${variables.space};\r\n  padding: ${variables.spaceSmall};\r\n  padding-bottom: 0 !important;\r\n  overflow: visible;\r\n  max-width: ${({ navBar }) => navBar ? '300px' : 'none'};\r\n  \r\n  &:first-child {\r\n    padding-left: ${variables.space};\r\n  }\r\n  \r\n  &:last-child {\r\n    padding-right: ${variables.space};\r\n  }\r\n  \r\n  @media all and (max-width: 799px) {\r\n    max-width: 100%;\r\n  }\r\n`;\r\n\r\nexport const PostArea = styled.div`\r\n  margin-bottom: 60px;\r\n`;\r\n\r\nexport const Box = styled.div`\r\n  width: 100%;\r\n  overflow: hidden;\r\n  border: 1px solid;\r\n  transition: ${variables.transition};\r\n  margin-top: ${({ mt }) => mt ? mt : 0 };\r\n  \r\n  &:hover {\r\n    box-shadow: ${variables.boxShadow};\r\n  }\r\n  \r\n  @media all and (max-width: 430px) {\r\n    min-width: 90%;\r\n  }\r\n`;\r\n\r\nexport const BoxHeader = styled.div`\r\n  padding: 10px 15px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  transition: ${variables.transition};\r\n  border-bottom: 1px solid;\r\n  \r\n  svg {\r\n    margin-right: 5px;\r\n  }\r\n`;\r\n\r\nexport const BoxHeaderContent = styled.div`\r\n  max-width: 200px;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport const PostHeaderContent = styled.div`\r\n  max-width: 600px;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport const BoxContent = styled.div`\r\n  padding: ${({ midSection }) => midSection ? `${variables.space} 0` : variables.space};\r\n  border-top: ${({ divider }) => divider ? '1px solid' : 'none'};\r\n`;\r\n\r\nexport const PostContent = styled.h3`\r\n  width: 100%;\r\n  max-width: 600px;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport const CommentsContainer = styled.div`\r\n  border-top: 1px solid;\r\n  padding: ${variables.space};\r\n  padding-left: ${variables.spaceLarge};\r\n  width: 100%;\r\n  position: relative;\r\n`;\r\n\r\nexport const PostHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const PostAuthor = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n  justify-content: flex-start;\r\n  \r\n  svg {\r\n    margin-right: ${variables.spaceSmall};\r\n  }\r\n`;\r\n\r\nexport const PostDate = styled.div`\r\n  font-size: .8em;\r\n`;\r\n\r\n\r\nexport const CommentBox = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  border-radius: 18px;\r\n  justify-content: space-between;\r\n  padding: ${variables.space};\r\n  transition: ${variables.transition};\r\n  margin-bottom: ${variables.spaceSmall};\r\n  border: 1px solid;\r\n  \r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nexport const CommentContent = styled.div`\r\n  display: flex;\r\n  padding: 0;\r\n  font-size: .9em;\r\n  flex: 1;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  \r\n  strong {\r\n    margin-left: ${variables.spaceSmall};\r\n    margin-right: ${variables.spaceSmall};\r\n  }\r\n  \r\n  button {\r\n    font-size: .9em;\r\n  }\r\n`;\r\n\r\nexport const CommentText = styled.div`\r\n  width: auto;\r\n  max-width: 400px;\r\n  position: relative;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport const CommentActions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  font-size: .8em;\r\n`;\r\n\r\nexport const UList = styled.div`\r\n  margin: 0;\r\n  padding: ${variables.spaceSmall} 0;\r\n`;\r\n\r\nexport const LItem = styled.a`\r\n  display: flex;\r\n  cursor: pointer;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  justify-content: flex-start;\r\n  transition: ${variables.transition};\r\n  padding: ${variables.spaceSmall} ${variables.space};\r\n  background: ${({ theme, active }) => active ? style.themes[theme].link.active.bg : 'transparent'};\r\n  color: ${({ theme, active }) => active ? style.themes[theme].link.active.color : style.themes[theme].link.color};\r\n  \r\n  svg {\r\n    margin-right: ${variables.spaceSmall};\r\n  }\r\n  \r\n  &:hover {\r\n    text-shadow: ${variables.boxShadow};\r\n  }\r\n`;","import React from 'react';\r\nimport { FaUser } from 'react-icons/fa';\r\nimport LoginUserForm from '../../forms/LoginUserForm';\r\nimport { Box, BoxContent, BoxHeader, Col, Page, Row } from '../../elements/layout'\r\nimport Flip from 'react-reveal/Flip';\r\n\r\n\r\nclass Login extends React.Component {\r\n  render() {\r\n    const { updateRequired } = this.props;\r\n    return (\r\n      <Page>\r\n        <Row>\r\n          <Col/>\r\n          <Col>\r\n            <Box>\r\n              <BoxHeader>\r\n                <Flip top cascade>\r\n                  <FaUser/>\r\n                  Login\r\n                </Flip>\r\n              </BoxHeader>\r\n              <BoxContent>\r\n                <LoginUserForm updateRequired={updateRequired}/>\r\n              </BoxContent>\r\n            </Box>\r\n          </Col>\r\n          <Col/>\r\n        </Row>\r\n      </Page>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { graphql, compose } from 'react-apollo'\r\nimport {\r\n  ActionBar,\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n} from '../elements/form'\r\nimport { signupUser } from '../services/mutations'\r\nimport { FaSignInAlt } from 'react-icons/fa'\r\nimport Flip from 'react-reveal/Flip'\r\n\r\nclass CreateUserForm extends React.Component {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    name: '',\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  render () {\r\n    const { loading, error, email, password, name } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        email,\r\n        password,\r\n        name,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      // if (loading) {\r\n      //   disabled = true\r\n      // }\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSignupUser}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup>\r\n          <Label>\r\n            Name:\r\n          </Label>\r\n          <Field\r\n            value={this.state.name}\r\n            placeholder='name'\r\n            onChange={(e) => this.setState({name: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>\r\n            Email:\r\n          </Label>\r\n          <Field\r\n            value={this.state.email}\r\n            placeholder='Email address'\r\n            onChange={(e) => this.setState({email: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>\r\n            Password:\r\n          </Label>\r\n          <Field\r\n            type=\"password\"\r\n            value={this.state.password}\r\n            placeholder='Password'\r\n            onChange={(e) => this.setState({password: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <ActionBar divider>\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Sign Up\r\n                {!loading ? <FaSignInAlt/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </ActionBar>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  handleSignupUser = async (e) => {\r\n    const { email, password, name } = this.state;\r\n    const { history, updateRequired } = this.props;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n    try {\r\n      const user = await this.props.signupUser({variables: {email, password, name}})\r\n      localStorage.setItem('graphcoolToken', user.data.signupUser.token)\r\n      this.setState({ loading: false })\r\n      setTimeout(() => (\r\n        updateRequired()\r\n      ), 800)\r\n      setTimeout(() => (\r\n        history.replace('/social-media-demo/')\r\n      ), 1500)\r\n    } catch (e) {\r\n      console.error(`An error occured: `, e)\r\n      this.setState({ loading: false, error: true })\r\n    }\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(signupUser, {name: 'signupUser'}),\r\n)(withRouter(CreateUserForm))","import React, { PureComponent } from 'react';\r\nimport { FaUser } from 'react-icons/fa';\r\nimport CreateUserForm from '../../forms/CreateUserForm';\r\nimport { Box, BoxContent, BoxHeader, Col, Page, Row } from '../../elements/layout'\r\nimport Flip from 'react-reveal/Flip';\r\n\r\nclass CreateUser extends PureComponent {\r\n  render() {\r\n    const { updateRequired } = this.props;\r\n    return (\r\n      <Page>\r\n        <Row>\r\n          <Col/>\r\n          <Col>\r\n            <Box>\r\n              <BoxHeader>\r\n                <Flip top cascade>\r\n                  <FaUser/>\r\n                  Sign Up\r\n                </Flip>\r\n              </BoxHeader>\r\n              <BoxContent>\r\n                <CreateUserForm updateRequired={updateRequired}/>\r\n              </BoxContent>\r\n            </Box>\r\n          </Col>\r\n          <Col/>\r\n        </Row>\r\n      </Page>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateUser;","import styled from 'styled-components'\r\nimport { variables } from '../../config'\r\n\r\nexport const HeaderBox = styled.div`\r\n  width: 100%;\r\n  padding: 0;\r\n  min-height: 60px;\r\n  background: ${({ styles }) => styles.theme.header.bg};\r\n  color: ${({ styles }) => styles.theme.header.color};\r\n  border-bottom: 1px solid ${({ styles }) => styles.theme.header.color};\r\n  position: relative;\r\n  \r\n  svg {\r\n    color: ${({ styles }) => styles.theme.box.icon.color};\r\n    margin-right: ${({ styles }) => styles.variables.spaceSmall};\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  max-width: ${variables.containerMaxWidth};\r\n  margin: 0 auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  //border: 1px solid orange;\r\n  min-height: 60px;\r\n  //width: 100%;\r\n  position: relative;\r\n`;\r\n\r\nexport const HeaderTitle = styled.div`\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  font-size: 1.2em;\r\n  font-weight: 400;\r\n  \r\n  img {\r\n    max-width: 30px;\r\n    margin-right: 10px;\r\n  }\r\n`;\r\n\r\nexport const HeaderActionBar = styled.div`\r\n  right: 0;\r\n  height: 100%;\r\n  position: absolute;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n`;\r\n\r\nexport const HeaderButton = styled.button`\r\n  border: none;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  background: transparent;\r\n  justify-content: space-around;\r\n  transition: .3s ease;\r\n  padding: 15px;\r\n  color: ${({ styles }) => styles.theme.header.color};\r\n  cursor: pointer;\r\n  \r\n  &:hover, &:focus {\r\n    color: ${({ styles }) => styles.theme.header.hover.color};\r\n    background: rgba(255,255,255,0.04);\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport const TransparentButton = styled(HeaderButton)` \r\n  \r\n  &:hover {\r\n    color: white;\r\n    background: rgba(255,255,255,0);\r\n  }\r\n`;","import React from 'react';\r\nimport logo from './graphql_Logo_color_xxs.png';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  HeaderActionBar,\r\n  HeaderBox,\r\n  HeaderButton,\r\n  HeaderTitle,\r\n  TransparentButton,\r\n} from '../elements/header';\r\nimport Flip from 'react-reveal/Flip';\r\nimport { FaBolt, FaChild, FaLayerGroup, FaGlobe } from 'react-icons/fa'\r\n\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    const { location, userId, styles } = this.props;\r\n    return (\r\n      <HeaderBox styles={styles}>\r\n        <Container>\r\n          <TransparentButton styles={styles} onClick={this._handleClick('/social-media-demo/')}>\r\n            <HeaderTitle>\r\n              <Flip cascade top>\r\n                {/*<img src={logo} onLoad={this._onImageLoad}/>*/}\r\n                {/*<FaChild/>*/}\r\n                <FaLayerGroup/>\r\n\r\n                Social Media\r\n              </Flip>\r\n            </HeaderTitle>\r\n          </TransparentButton>\r\n          <HeaderActionBar>\r\n            {!userId && location.pathname === '/social-media-demo/signup' && (\r\n              <HeaderButton styles={styles} onClick={this._handleClick('/social-media-demo/login')}>\r\n                login\r\n              </HeaderButton>\r\n            )}\r\n            {!userId && location.pathname === '/social-media-demo/login' && (\r\n              <HeaderButton styles={styles} onClick={this._handleClick('/social-media-demo/signup')}>\r\n                <Flip cascade top>\r\n                  signup\r\n                </Flip>\r\n              </HeaderButton>\r\n            )}\r\n            {!userId && location.pathname === '/social-media-demo/' && (\r\n              <HeaderButton styles={styles} onClick={this._handleClick('/social-media-demo/signup')}>\r\n                <Flip cascade top>\r\n                  signup\r\n                </Flip>\r\n              </HeaderButton>\r\n            )}\r\n            {userId && (\r\n              <HeaderButton styles={styles} onClick={this._handleClick('logout')}>\r\n                <Flip cascade top>\r\n                  logout\r\n                </Flip>\r\n              </HeaderButton>\r\n            )}\r\n          </HeaderActionBar>\r\n        </Container>\r\n      </HeaderBox>\r\n    );\r\n  }\r\n\r\n  _handleClick = (path) => () => {\r\n    const { history } = this.props;\r\n    const isLoggingOut = path === 'logout';\r\n\r\n    if (isLoggingOut) {\r\n      localStorage.removeItem('graphcoolToken');\r\n      window.location.reload('/social-media-demo/');\r\n    }\r\n\r\n    if (!isLoggingOut) {\r\n      history.replace(path);\r\n    }\r\n  }\r\n\r\n  _onImageLoad = () => {\r\n    this.setState({ show: true })\r\n  }\r\n}\r\n\r\nexport default withRouter(Header);","import styled from 'styled-components'\r\nimport { variables } from '../../config'\r\nimport { Box, BoxContent, BoxHeader, CommentBox, CommentsContainer } from '../layout'\r\nimport { ActionBar, ActionButton, ActionLink, ErrorBox, Field, RadioButton } from '../form'\r\n\r\nexport const Container = styled.div`\r\n  font-family: 'Montserrat', sans-serif;\r\n`;\r\n\r\nexport const Body = styled.div`\r\n  width: 100%;\r\n  min-height: calc(100vh - 60px);\r\n  position: relative;\r\n  transition: ${variables.transitionLarge};\r\n  background: ${({ styles }) => styles.theme.page.bg};\r\n  \r\n  ${Box} {\r\n    background: ${({ styles }) => styles.theme.box.bg};\r\n    color: ${({ styles }) => styles.theme.box.color};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n    border-radius: ${({ styles }) => styles.theme.box.border.radius};\r\n    transition: ${variables.transitionLarge};\r\n    \r\n    svg {\r\n      color: ${({ styles }) => styles.theme.box.icon.color};\r\n    }\r\n  }\r\n  \r\n  ${BoxHeader} {\r\n    color: ${({ styles }) => styles.theme.header.color};\r\n    background: ${({ styles }) => styles.theme.header.bg};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n    transition: ${variables.transitionLarge};\r\n  }\r\n  \r\n  ${BoxContent} {\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n  }\r\n  \r\n  ${CommentsContainer} {\r\n    background: ${({ styles }) => styles.theme.box.alt.bg};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n  } \r\n  \r\n  ${CommentBox} {\r\n    background: ${({ styles }) => styles.theme.box.bg};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n  } \r\n  \r\n  ${Field} {\r\n    background: ${({ styles }) => styles.theme.input.bg};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n    color: ${({ styles }) => styles.theme.input.color};\r\n    transition: ${variables.transitionLarge};\r\n  }\r\n  \r\n  ${ActionButton} {\r\n    background: ${({ styles }) => styles.theme.button.bg};\r\n    color: ${({ styles }) => styles.theme.button.color};\r\n    padding: ${({ styles }) => styles.theme.button.padding};\r\n    border-radius: ${({ styles }) => styles.theme.button.border.radius};\r\n    \r\n    &:hover {\r\n      background: ${({ styles }) => styles.theme.button.hover.bg};\r\n      color: ${({ styles }) => styles.theme.button.hover.color};  \r\n    }\r\n    \r\n    &:disabled {\r\n    \r\n      svg {\r\n        color: ${({styles}) => styles.theme.button.color};  \r\n      }\r\n    }\r\n  }\r\n  \r\n  ${RadioButton} {\r\n    padding: ${({ styles }) => styles.theme.button.padding};\r\n    border-radius: ${({ styles }) => styles.theme.button.border.radius} 0 0 ${({ styles }) => styles.theme.button.border.radius};\r\n    border-color: ${({ styles }) => styles.theme.box.border.color};\r\n    \r\n    &:last-child {\r\n      border-radius: 0 ${({ styles }) => styles.theme.button.border.radius} ${({ styles }) => styles.theme.button.border.radius} 0;\r\n    }\r\n  }\r\n  \r\n  ${ActionLink} {\r\n    color: ${({ styles }) => styles.theme.link.color};\r\n    \r\n    &:hover {\r\n      color: ${({ styles }) => styles.theme.link.hover.color};  \r\n    }\r\n  }\r\n  \r\n  ${ActionBar} {\r\n    border-color: ${({ styles }) => styles.theme.box.color};\r\n  }\r\n  \r\n  ${ErrorBox} {\r\n    border-color: ${({ styles }) => styles.theme.box.error.color};\r\n    color: ${({ styles }) => styles.theme.box.error.color};\r\n    background: ${({ styles }) => styles.theme.box.error.bg};\r\n  }\r\n`;\r\n\r\nexport const BodyContainer = styled.div`\r\n  max-width: 1200px;\r\n  margin: auto;\r\n`;","import React from 'react';\r\nimport Header from '../Header';\r\nimport { Body, BodyContainer, Container } from '../elements/shell'\r\n\r\nclass Shell extends React.Component {\r\n  render() {\r\n    const { children, userId, theme, styles } = this.props;\r\n    return (\r\n      <Container>\r\n        <Header userId={userId} styles={styles}/>\r\n        <Body theme={theme} styles={styles}>\r\n          <BodyContainer>\r\n            {children}\r\n          </BodyContainer>\r\n        </Body>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Shell;","import React from 'react';\r\nimport { Box, BoxHeader, BoxHeaderContent, LItem, UList } from '../../../elements/layout';\r\nimport { FaUser, FaEnvelope, FaUserCog } from 'react-icons/fa';\r\nimport Flip from 'react-reveal/Flip'\r\n\r\nclass NavBar extends React.Component {\r\n  state = {\r\n    activeItem: 'posts',\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { userTheme, onLoadUserTheme } = this.props;\r\n\r\n    if (userTheme) {\r\n      onLoadUserTheme(userTheme);\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const { theme, userName } = this.props;\r\n    const { activeItem } = this.state;\r\n    const items = [\r\n      { name: 'Posts', key: 'posts', icon: (<FaEnvelope/>)},\r\n      { name: 'Settings', key: 'settings', icon: (<FaUserCog/>)},\r\n    ];\r\n\r\n    return (\r\n      <Box>\r\n        <BoxHeader>\r\n          <FaUser/>\r\n          <BoxHeaderContent>\r\n            <Flip top cascade>\r\n              {`Welcome ${userName}`}\r\n            </Flip>\r\n          </BoxHeaderContent>\r\n        </BoxHeader>\r\n        <UList>\r\n          {items.map((item) => {\r\n            return (\r\n              <LItem\r\n                key={item.key}\r\n                theme={theme}\r\n                active={activeItem === item.key}\r\n                onClick={this.handleClick(item.key)}\r\n              >\r\n                {item.icon}\r\n                {item.name}\r\n              </LItem>\r\n            );\r\n          })}\r\n        </UList>\r\n      </Box>\r\n    )\r\n  }\r\n\r\n  handleClick = (item) => () => {\r\n    const { onSelectItem } = this.props;\r\n    this.setState({ activeItem: item });\r\n    onSelectItem(item);\r\n  }\r\n}\r\n\r\nexport default NavBar","import React from 'react';\r\nimport {\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup, Label,\r\n} from '../elements/form';\r\nimport { FaPaperPlane } from 'react-icons/fa'\r\nimport Flip from 'react-reveal/Flip'\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { createPost } from '../services/mutations'\r\n\r\nclass CreatePostForm extends React.Component {\r\n  state = {\r\n    theme: 'dark',\r\n    content: '',\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  render() {\r\n    const { loading, error, content, name } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        content,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      if (loading) {\r\n        disabled = true\r\n      }\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSaveChanges}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Label>\r\n            Post:\r\n          </Label>\r\n          <Field\r\n            value={name}\r\n            placeholder='post...'\r\n            onChange={(e) => this.setState({content: e.target.value})}\r\n          />\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Send\r\n                {!loading ? <FaPaperPlane/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  handleSaveChanges = async (e) => {\r\n    const { content } = this.state;\r\n    const authorId = this.props.userId;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.createPost({\r\n      variables: { content, authorId }\r\n    })\r\n      .then((response) => (\r\n        this.setState({ content: '', loading: false, error: false }),\r\n        this.props.updateRequired()\r\n      ))\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(createPost, { name: 'createPost'})\r\n)(CreatePostForm);","import React from 'react';\r\nimport {\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup, Label,\r\n} from '../elements/form';\r\nimport { FaPaperPlane } from 'react-icons/fa'\r\nimport Flip from 'react-reveal/Flip'\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { createComment } from '../services/mutations'\r\n\r\nclass CreateCommentForm extends React.Component {\r\n  state = {\r\n    content: '',\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  render() {\r\n    const { loading, error, content } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        content,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      if (loading) {\r\n        disabled = true\r\n      }\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSaveChanges}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Label>\r\n            Comment:\r\n          </Label>\r\n          <Field\r\n            value={content}\r\n            placeholder='comment...'\r\n            onChange={(e) => this.setState({content: e.target.value})}\r\n          />\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Send\r\n                {!loading ? <FaPaperPlane/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  handleSaveChanges = async (e) => {\r\n    const { content } = this.state;\r\n    const { postId, userId } = this.props;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.createComment({\r\n      variables: { postId, authorId: userId, content }\r\n    })\r\n      .then(() => (\r\n        this.setState({ content: '', loading: false, error: false }),\r\n        this.props.updateRequired()\r\n      ))\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(createComment, { name: 'createComment' })\r\n)(CreateCommentForm);","import React from 'react';\r\nimport {\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup, Label,\r\n} from '../elements/form';\r\nimport { FaPaperPlane } from 'react-icons/fa'\r\nimport Flip from 'react-reveal/Flip'\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { createPost, deleteComment, deletePost } from '../services/mutations'\r\n\r\nclass DeleteCommentForm extends React.Component {\r\n  state = {\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  render() {\r\n    const { loading, error } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleDeletePost}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Label>\r\n            Are you sure?\r\n          </Label>\r\n          <ActionButton type=\"submit\">\r\n            <ButtonContent>\r\n              Yes\r\n              {!loading ? <FaPaperPlane/> : ''}\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n          <ActionButton type=\"button\" onClick={this.handleCancel}>\r\n            <ButtonContent>\r\n              cancel\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  handleDeletePost = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const { commentId, updateRequired } = this.props;\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.deleteComment({\r\n      variables: { id: commentId }\r\n    })\r\n      .then(() => (\r\n        this.setState({ loading: false, error: false }),\r\n          updateRequired()\r\n      ))\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.props.onCancel();\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(deleteComment, { name: 'deleteComment'})\r\n)(DeleteCommentForm);","import React from 'react';\r\nimport Tada from 'react-reveal/Tada'\r\nimport { ActionLink, ActionLinkContent } from '../../../elements/form'\r\nimport { FaRegThumbsUp, FaThumbsUp } from 'react-icons/fa'\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { dislikeComment, likeComment } from '../../../services/mutations'\r\n\r\nclass LikesComment extends React.Component {\r\n  state = {\r\n    counter: 0,\r\n  }\r\n\r\n  render() {\r\n    const { likes, comment, userId } = this.props;\r\n    let liked = false;\r\n    let likeId = null;\r\n\r\n    comment.likes.forEach((like) => {\r\n      if (like.author.id === userId) {\r\n        liked = true;\r\n        likeId = like.id\r\n      }\r\n    })\r\n\r\n    return (\r\n      <ActionLink onClick={liked ? this.handleDislike(likeId) : this.handleLike}>\r\n        <ActionLinkContent>\r\n          {likes.length > 1 ? 'Likes' : 'Like'} {likes.length}\r\n          <Tada  spy={this.state.counter}>\r\n            {liked ? <FaThumbsUp/> : <FaRegThumbsUp/>}\r\n          </Tada>\r\n        </ActionLinkContent>\r\n      </ActionLink>\r\n    )\r\n  }\r\n\r\n  handleLike = () => {\r\n    const { likeComment, comment, userId, updateRequired } = this.props;\r\n    likeComment({\r\n      variables: { commentId: comment.id, authorId: userId }\r\n    })\r\n      .then(() => (\r\n        updateRequired()\r\n      ))\r\n    this.setState({ counter: this.state.counter + 1 });\r\n  }\r\n\r\n  handleDislike = (likeId) => () => {\r\n    const { dislikeComment, updateRequired } = this.props;\r\n\r\n    dislikeComment({\r\n      variables: { id: likeId }\r\n    })\r\n      .then(() => (\r\n        updateRequired()\r\n      ))\r\n    this.setState({ counter: this.state.counter - 1 });\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(likeComment, { name: 'likeComment'}),\r\n  graphql(dislikeComment, { name: 'dislikeComment'})\r\n)(LikesComment)","import React from 'react';\r\nimport {\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup,\r\n} from '../elements/form';\r\nimport { FaPaperPlane } from 'react-icons/fa'\r\nimport Flip from 'react-reveal/Flip'\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { updateComment } from '../services/mutations'\r\n\r\nclass EditCommentForm extends React.Component {\r\n  state = {\r\n    content: '',\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { commentContent } = this.props;\r\n    this.setState({ content: commentContent });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { loading, error, content } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        content,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      if (loading) {\r\n        disabled = true\r\n      }\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form expand onSubmit={this.handleSaveChanges}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Field\r\n            value={content}\r\n            placeholder='post...'\r\n            onChange={(e) => this.setState({content: e.target.value})}\r\n          />\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Send\r\n                {!loading ? <FaPaperPlane/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  handleSaveChanges = async (e) => {\r\n    const { content } = this.state;\r\n    const { userId, commentId } = this.props;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.updateComment({\r\n      variables: { id: commentId, content, authorId: userId }\r\n    })\r\n      .then(() => (\r\n        this.setState({ loading: false, error: false }),\r\n        this.props.updateRequired()\r\n      ))\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(updateComment, { name: 'updateComment'})\r\n)(EditCommentForm);","import React from 'react';\r\nimport { CommentActions, CommentBox, CommentContent, CommentText } from '../../../elements/layout'\r\nimport { FaPencilAlt, FaTrashAlt, FaUser } from 'react-icons/fa'\r\nimport Flip from 'react-reveal/Flip'\r\nimport { ActionLink } from '../../../elements/form'\r\nimport DeleteCommentForm from '../../../forms/DeleteCommentForm'\r\nimport LikesComment from '../LikesComment'\r\nimport EditCommentForm from '../../../forms/EditCommentForm'\r\n\r\nclass Comment extends React.Component {\r\n  state = {\r\n    counter: 0,\r\n    deleteComment: false\r\n  }\r\n\r\n  render() {\r\n    const { comment, userId, updateRequired } = this.props;\r\n    const { deleteComment, editComment } = this.state;\r\n\r\n    return (\r\n      <CommentBox key={comment.id}>\r\n        {!deleteComment && !editComment && (\r\n          <CommentContent>\r\n            <FaUser/>\r\n            {' '}\r\n            <strong>{comment.author.name}</strong>\r\n            <CommentText>\r\n              <Flip cascade top>\r\n                {comment.content}\r\n              </Flip>\r\n            </CommentText>\r\n          </CommentContent>\r\n        )}\r\n        {editComment && (\r\n          <CommentContent>\r\n            <EditCommentForm\r\n              userId={userId}\r\n              commentId={comment.id}\r\n              commentContent={comment.content}\r\n              updateRequired={this.toggleEditComment}\r\n            />\r\n          </CommentContent>\r\n        )}\r\n        {deleteComment && (\r\n          <CommentContent>\r\n            <DeleteCommentForm\r\n              userId={userId}\r\n              commentId={comment.id}\r\n              onCancel={this.toggleDeleteComment}\r\n              updateRequired={updateRequired}\r\n            />\r\n          </CommentContent>\r\n        )}\r\n        <CommentActions>\r\n          {comment.author.id === userId && (\r\n            <ActionLink marginLeft onClick={this.toggleEditComment}>\r\n              <span>\r\n                <FaPencilAlt/>\r\n              </span>\r\n            </ActionLink>\r\n          )}\r\n          {comment.author.id === userId && (\r\n            <ActionLink onClick={this.toggleDeleteComment}>\r\n              <span>\r\n                <FaTrashAlt/>\r\n              </span>\r\n            </ActionLink>\r\n          )}\r\n          <LikesComment\r\n            comment={comment}\r\n            userId={userId}\r\n            likes={comment.likes}\r\n            updateRequired={updateRequired}\r\n          />\r\n        </CommentActions>\r\n      </CommentBox>\r\n    )\r\n  }\r\n\r\n  handleLike = () => {\r\n    this.setState({ counter: this.state.counter + 1 });\r\n  }\r\n\r\n  toggleEditComment = () => {\r\n    this.setState({ editComment: !this.state.editComment, deleteComment: false })\r\n  }\r\n\r\n  toggleDeleteComment = () => {\r\n    this.setState({ deleteComment: !this.state.deleteComment, editComment: false });\r\n  }\r\n}\r\n\r\nexport default Comment","import React from 'react';\r\nimport { BoxContent, CommentsContainer } from '../../../elements/layout'\r\nimport CreateCommentForm from '../../../forms/CreateCommentForm'\r\nimport Comment from '../Comment'\r\n\r\nclass Comments extends React.Component {\r\n  render() {\r\n    const { comments, userId, postId, updateRequired } = this.props;\r\n    return (\r\n      <>\r\n        {comments.length > 0 && (\r\n          <CommentsContainer>\r\n            {comments.map((comment) => {\r\n              return (\r\n                <Comment\r\n                  key={comment.id}\r\n                  userId={userId}\r\n                  comment={comment}\r\n                  updateRequired={updateRequired}\r\n                />\r\n              );\r\n            })}\r\n          </CommentsContainer>\r\n        )}\r\n        <BoxContent divider>\r\n          <CreateCommentForm\r\n            userId={userId}\r\n            postId={postId}\r\n            updateRequired={updateRequired}\r\n          />\r\n        </BoxContent>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Comments;","import React from 'react';\r\nimport {\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup, Label,\r\n} from '../elements/form';\r\nimport { FaPaperPlane } from 'react-icons/fa'\r\nimport Flip from 'react-reveal/Flip'\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { updatePost } from '../services/mutations'\r\n\r\nclass EditPostForm extends React.Component {\r\n  state = {\r\n    theme: 'dark',\r\n    content: '',\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { postContent } = this.props;\r\n    this.setState({ content: postContent });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { loading, error, content } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        content,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      if (loading) {\r\n        disabled = true\r\n      }\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSaveChanges}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Label>\r\n            Edit Post:\r\n          </Label>\r\n          <Field\r\n            value={content}\r\n            placeholder='post...'\r\n            onChange={(e) => this.setState({content: e.target.value})}\r\n          />\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Send\r\n                {!loading ? <FaPaperPlane/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  handleSaveChanges = async (e) => {\r\n    const { content } = this.state;\r\n    const { userId, postId } = this.props;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.updatePost({\r\n      variables: { id: postId, content, authorId: userId }\r\n    })\r\n      .then(() => (\r\n        this.setState({ loading: false, error: false }),\r\n        this.props.updateRequired()\r\n      ))\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(updatePost, { name: 'updatePost'})\r\n)(EditPostForm);","import React from 'react';\r\nimport {\r\n  ActionButton, ButtonContent,\r\n  ErrorBox,\r\n  FaCogSpin,\r\n  Field,\r\n  Form,\r\n  FormGroup, Label,\r\n} from '../elements/form';\r\nimport { FaPaperPlane } from 'react-icons/fa'\r\nimport Flip from 'react-reveal/Flip'\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { createPost, deletePost } from '../services/mutations'\r\n\r\nclass DeletePostForm extends React.Component {\r\n  state = {\r\n    theme: 'dark',\r\n    loading: false,\r\n    error: false\r\n  }\r\n\r\n  render() {\r\n    const { loading, error } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleDeletePost}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup noMargin>\r\n          <Label>\r\n            Are you sure?\r\n          </Label>\r\n          <ActionButton type=\"submit\">\r\n            <ButtonContent>\r\n              Yes\r\n              {!loading ? <FaPaperPlane/> : ''}\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n          <ActionButton type=\"button\" onClick={this.handleCancel}>\r\n            <ButtonContent>\r\n              cancel\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </FormGroup>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  handleDeletePost = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const { postId, updateRequired } = this.props;\r\n    this.setState({ loading: true, error: false });\r\n\r\n    await this.props.deletePost({\r\n      variables: { id: postId }\r\n    })\r\n      .then(() => (\r\n        this.setState({ loading: false, error: false }),\r\n          updateRequired()\r\n      ))\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.props.onCancel();\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(deletePost, { name: 'deletePost'})\r\n)(DeletePostForm);","import React from 'react';\r\nimport Tada from 'react-reveal/Tada'\r\nimport { ActionLink, ActionLinkContent } from '../../../elements/form'\r\nimport { FaRegThumbsUp, FaThumbsUp } from 'react-icons/fa'\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { dislikePost, likePost } from '../../../services/mutations'\r\n\r\nclass LikesPost extends React.Component {\r\n  state = {\r\n    counter: 0,\r\n  }\r\n\r\n  render() {\r\n    const { likes, post, userId } = this.props;\r\n    let liked = false;\r\n    let likeId = null;\r\n\r\n    post.likes.forEach((like) => {\r\n      if (like.author.id === userId) {\r\n        liked = true;\r\n        likeId = like.id\r\n      }\r\n    })\r\n\r\n    return (\r\n      <ActionLink onClick={liked ? this.handleDislike(likeId) : this.handleLike}>\r\n        <ActionLinkContent>\r\n          {likes.length > 1 ? 'Likes' : 'Like'} {likes.length}\r\n          <Tada  spy={this.state.counter}>\r\n            {liked ? <FaThumbsUp/> : <FaRegThumbsUp/>}\r\n          </Tada>\r\n        </ActionLinkContent>\r\n      </ActionLink>\r\n    )\r\n  }\r\n\r\n  handleLike = () => {\r\n    const { likePost, post, userId, updateRequired } = this.props;\r\n    likePost({\r\n      variables: { postId: post.id, authorId: userId }\r\n    })\r\n      .then(() => (\r\n        updateRequired()\r\n      ))\r\n    this.setState({ counter: this.state.counter + 1 });\r\n  }\r\n\r\n  handleDislike = (likeId) => () => {\r\n    const { dislikePost, updateRequired } = this.props;\r\n\r\n    dislikePost({\r\n      variables: { id: likeId }\r\n    })\r\n      .then(() => (\r\n        updateRequired()\r\n      ))\r\n    this.setState({ counter: this.state.counter - 1 });\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(likePost, { name: 'likePost'}),\r\n  graphql(dislikePost, { name: 'dislikePost'})\r\n)(LikesPost)","import React from 'react';\r\nimport { Box, BoxContent, PostAuthor, PostContent, PostDate, PostHeader } from '../../../elements/layout'\r\nimport { variables } from '../../../config'\r\nimport { ActionBar, ActionLink } from '../../../elements/form'\r\nimport { FaRegComment, FaComment, FaUser, FaTrashAlt, FaPencilAlt } from 'react-icons/fa'\r\nimport Comments from '../Comments'\r\nimport Flip from 'react-reveal/Flip'\r\nimport TimeAgo from 'react-timeago'\r\nimport EditPostForm from '../../../forms/EditPostForm'\r\nimport DeletePostForm from '../../../forms/DeletePostForm'\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { likePost } from '../../../services/mutations'\r\nimport LikesPost from '../LikesPost'\r\n\r\nclass Post extends React.Component {\r\n  state = {\r\n    showComments: false,\r\n    counter: 0,\r\n    editPost: false,\r\n    deletePost: false\r\n  }\r\n\r\n  render() {\r\n    const { post, userId, updateRequired } = this.props;\r\n    const { showComments, editPost, deletePost } = this.state;\r\n    return (\r\n      <Box mt={variables.space}>\r\n        <BoxContent>\r\n          <PostHeader>\r\n            <PostAuthor>\r\n              <FaUser/>{' '}\r\n              {post.author.name}\r\n            </PostAuthor>\r\n            <PostDate>\r\n              <TimeAgo date={post.updatedAt} />\r\n              {post.author.id === userId && (\r\n                <ActionLink marginLeft onClick={this.handleEditPost}>\r\n                  <span>\r\n                    <FaPencilAlt/>\r\n                  </span>\r\n                </ActionLink>\r\n              )}\r\n              {post.author.id === userId && (\r\n                <ActionLink onClick={this.handleDeletePost}>\r\n                  <span>\r\n                    <FaTrashAlt/>\r\n                  </span>\r\n                </ActionLink>\r\n              )}\r\n            </PostDate>\r\n          </PostHeader>\r\n          {!editPost && !deletePost && (\r\n            <PostContent>\r\n              <Flip cascade top>\r\n                {post.content}\r\n              </Flip>\r\n            </PostContent>\r\n          )}\r\n          {editPost && (\r\n            <BoxContent midSection>\r\n              <EditPostForm\r\n                userId={userId}\r\n                postId={post.id}\r\n                postContent={post.content}\r\n                updateRequired={this.handleEditPost}\r\n              />\r\n            </BoxContent>\r\n          )}\r\n          {deletePost && (\r\n            <BoxContent midSection>\r\n              <DeletePostForm\r\n                userId={userId}\r\n                postId={post.id}\r\n                onCancel={this.handleDeletePost}\r\n                updateRequired={updateRequired}\r\n              />\r\n            </BoxContent>\r\n          )}\r\n          <ActionBar divider>\r\n            <ActionLink onClick={this.handleToggleComments}>\r\n              <span>\r\n                {post.comments.length > 1 ? 'Comments' : 'comment'} {post.comments.length}\r\n                {post.comments.length > 0 ? <FaComment/> : <FaRegComment/>}\r\n              </span>\r\n            </ActionLink>\r\n            <LikesPost\r\n              post={post}\r\n              userId={userId}\r\n              likes={post.likes}\r\n              updateRequired={updateRequired}\r\n            />\r\n          </ActionBar>\r\n        </BoxContent>\r\n        {showComments && (\r\n          <Comments\r\n            userId={userId}\r\n            postId={post.id}\r\n            comments={post.comments}\r\n            updateRequired={updateRequired}\r\n          />\r\n        )}\r\n      </Box>\r\n    )\r\n  }\r\n\r\n  handleToggleComments = () => {\r\n    this.setState({ showComments: !this.state.showComments })\r\n  }\r\n\r\n  handleEditPost = () => {\r\n    this.setState({ editPost: !this.state.editPost, deletePost: false })\r\n  }\r\n\r\n  handleDeletePost = () => {\r\n    this.setState({ deletePost: !this.state.deletePost, editPost: false, })\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(likePost, { name: 'likePost'})\r\n)(Post)","import gql from 'graphql-tag'\r\n\r\nexport const loggedInUser = gql`\r\n  query LoggedInUser {\r\n    loggedInUser {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const currentUser = gql`\r\n  query CurrentUser ($id: ID!){\r\n    User(id: $id) {\r\n      id\r\n      email\r\n      name\r\n      theme\r\n    }\r\n  }\r\n`;\r\n\r\nexport const allPosts = gql`\r\n  query AllPosts {\r\n    allPosts(orderBy: createdAt_DESC) {\r\n      id\r\n      createdAt\r\n      updatedAt\r\n      content\r\n      author {\r\n        id\r\n        name\r\n      }\r\n      likes {\r\n        id\r\n        author {\r\n          id\r\n          name\r\n        }\r\n      }\r\n      comments {\r\n        id\r\n        content\r\n        likes {\r\n          id\r\n          author {\r\n            id\r\n            name\r\n          }\r\n        }\r\n        author {\r\n          id\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;","import React from 'react';\r\nimport { Box, BoxContent, BoxHeader, BoxHeaderContent, Col, PostArea, PostHeaderContent, Row } from '../../../elements/layout'\r\nimport Flip from 'react-reveal/Flip'\r\nimport CreatePostForm from '../../../forms/CreatePostForm'\r\nimport Post from '../Post';\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { allPosts } from '../../../services/queries'\r\nimport Fade from 'react-reveal/Fade'\r\n\r\nclass Posts extends React.PureComponent {\r\n  render() {\r\n    const { userName, userId, allPosts } = this.props;\r\n    let posts = []\r\n\r\n    if (allPosts.allPosts) {\r\n      posts = allPosts.allPosts\r\n    }\r\n\r\n    return (\r\n      <PostArea>\r\n        <Box>\r\n          <BoxHeader>\r\n            <PostHeaderContent>\r\n              <Flip top cascade>\r\n                {`What are you thinking ${userName}?`}\r\n              </Flip>\r\n            </PostHeaderContent>\r\n          </BoxHeader>\r\n          <BoxContent>\r\n            <CreatePostForm userId={userId} updateRequired={this.handleRefetch}/>\r\n          </BoxContent>\r\n        </Box>\r\n        {posts.map((post) => {\r\n          return (\r\n            <Post key={post.id} post={post} userId={userId} updateRequired={this.handleRefetch}/>\r\n          );\r\n        })}\r\n      </PostArea>\r\n    )\r\n  }\r\n\r\n  handleRefetch = () => {\r\n    this.props.allPosts.refetch();\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(allPosts, { name: 'allPosts' })\r\n)(Posts)","import React from 'react';\r\nimport { ActionBar, ActionButton, ButtonContent, ErrorBox, FaCogSpin, Field, Form, FormGroup, Label, RadioButton, SuccessMessage } from '../elements/form'\r\nimport { FaMoon, FaLightbulb, FaPaperclip } from 'react-icons/fa'\r\nimport Flip from 'react-reveal/Flip'\r\nimport Fade from 'react-reveal/Fade'\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { updateUser } from '../services/mutations'\r\n\r\nclass UserSettingsForm extends React.Component {\r\n  state = {\r\n    id: '',\r\n    name: '',\r\n    loading: false,\r\n    error: false,\r\n    saveSuccess: false\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { currentUser } = this.props;\r\n    this.setState({\r\n      id: currentUser.User.id,\r\n      name: currentUser.User.name,\r\n      authorId: currentUser.User.id\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    const { theme } = this.props;\r\n    const { loading, error, name, saveSuccess } = this.state;\r\n\r\n    const validate = () => {\r\n      let disabled = false\r\n      const values = [\r\n        name,\r\n        theme,\r\n      ]\r\n\r\n      values.forEach((item) => {\r\n        if (item === '') {\r\n          disabled = true\r\n        }\r\n      })\r\n\r\n      if (loading) {\r\n        disabled = true\r\n      }\r\n\r\n      return disabled;\r\n    }\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSaveChanges}>\r\n        {error && (\r\n          <ErrorBox>\r\n            An error has occurred\r\n          </ErrorBox>\r\n        )}\r\n        <FormGroup>\r\n          <Label>\r\n            name:\r\n          </Label>\r\n          <Field\r\n            value={name}\r\n            placeholder='name'\r\n            onChange={(e) => this.setState({name: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>\r\n            Theme:\r\n          </Label>\r\n          <RadioButton\r\n            type=\"button\"\r\n            activeTheme={theme}\r\n            active={theme === 'dark'}\r\n            onClick={this.handleSelectTheme('dark')}\r\n          >\r\n            <FaMoon/>\r\n            Dark\r\n          </RadioButton>\r\n          <RadioButton\r\n            type=\"button\"\r\n            activeTheme={theme}\r\n            active={theme === 'light'}\r\n            onClick={this.handleSelectTheme('light')}\r\n          >\r\n            <FaLightbulb/>\r\n            Light\r\n          </RadioButton>\r\n        </FormGroup>\r\n        <ActionBar divider>\r\n          <Fade bottom opposite when={saveSuccess}>\r\n            <SuccessMessage>\r\n              Saved!\r\n            </SuccessMessage>\r\n          </Fade>\r\n          <ActionButton type=\"submit\" disabled={validate()}>\r\n            <ButtonContent>\r\n              <Flip cascade top>\r\n                Save\r\n                {!loading ? <FaPaperclip/> : ''}\r\n              </Flip>\r\n              {loading ? <FaCogSpin/> : ''}\r\n            </ButtonContent>\r\n          </ActionButton>\r\n        </ActionBar>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  handleSaveChanges = async (e) => {\r\n    const { updateUser, theme } = this.props;\r\n    const { name, id } = this.state;\r\n    e.preventDefault();\r\n    this.setState({ loading: true, error: false });\r\n\r\n\r\n    updateUser({\r\n      variables: { id, name, theme },\r\n    })\r\n      .then(() => (\r\n        this.setState({ loading: false, error: false, saveSuccess: true }),\r\n        setTimeout(() => this.setState({ saveSuccess: false  }), 2000)\r\n      ))\r\n      .catch(() => (\r\n        this.setState({ loading: false, error: true })\r\n      ))\r\n  }\r\n\r\n  handleSelectTheme = (theme) => () => {\r\n    const { onSelectTheme } = this.props;\r\n    onSelectTheme(theme)\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(updateUser,\r\n    { name: 'updateUser' })\r\n)(UserSettingsForm)","import React from 'react';\r\nimport { Box, BoxContent, BoxHeader } from '../../../elements/layout'\r\nimport { FaUserCog } from 'react-icons/fa'\r\nimport UserSettingsForm from '../../../forms/UserSettingsForm';\r\nimport Flip from 'react-reveal/Flip'\r\n\r\nclass Settings extends React.Component {\r\n  render() {\r\n    const { theme, onSelectTheme, currentUser } = this.props;\r\n    return (\r\n      <Box>\r\n        <BoxHeader>\r\n          <Flip top cascade>\r\n            <FaUserCog/>\r\n            Settings\r\n          </Flip>\r\n        </BoxHeader>\r\n        <BoxContent>\r\n          <UserSettingsForm\r\n            theme={theme}\r\n            onSelectTheme={onSelectTheme}\r\n            currentUser={currentUser}\r\n          />\r\n        </BoxContent>\r\n      </Box>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Settings","import React from 'react';\r\nimport Login from '../Login';\r\nimport { Col, Page, Row } from '../../elements/layout'\r\nimport NavBar from './NavBar';\r\nimport Posts from './Posts';\r\nimport Settings from './Settings';\r\nimport { compose, graphql } from 'react-apollo'\r\nimport { currentUser } from '../../services/queries'\r\n\r\n\r\nclass App extends React.PureComponent {\r\n  state = {\r\n    view: 'posts'\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      theme,\r\n      styles,\r\n      userId,\r\n      currentUser,\r\n      updateRequired,\r\n      onSelectTheme,\r\n    } = this.props;\r\n    const { view } = this.state;\r\n\r\n    if (!userId) {\r\n      return <Login userId={userId} updateRequired={updateRequired}/>;\r\n    }\r\n\r\n    const userName = currentUser.User ? currentUser.User.name : '';\r\n    const userTheme = currentUser.User ? currentUser.User.theme : '';\r\n\r\n    if (!userName) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Page>\r\n        <Row>\r\n          <Col size={2} navBar>\r\n            <NavBar\r\n              theme={theme}\r\n              styles={styles}\r\n              userName={userName}\r\n              userTheme={userTheme}\r\n              onLoadUserTheme={onSelectTheme}\r\n              onSelectItem={this.handleViewChange}\r\n            />\r\n          </Col>\r\n          <Col size={6}>\r\n            {view === 'settings' && (\r\n              <Settings\r\n                theme={theme}\r\n                currentUser={currentUser}\r\n                onSelectTheme={onSelectTheme}\r\n              />\r\n            )}\r\n            {view === 'posts' && (\r\n              <Posts userName={userName} userId={userId}/>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  handleViewChange = (view) => {\r\n    this.setState({ view });\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(currentUser, {\r\n    name: 'currentUser',\r\n    options: ({ userId }) => {\r\n      return { variables: { id: userId }}\r\n    }\r\n  }),\r\n)(App);","import React, { Component } from 'react';\r\nimport Shell from '../Shell';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport Login from './Login';\r\nimport App from './App';\r\nimport CreateUser from './CreateUser';\r\nimport { compose, graphql } from 'react-apollo';\r\nimport { loggedInUser } from '../services/queries';\r\nimport { style } from '../config';\r\n\r\nclass Scenes extends Component {\r\n  state = {\r\n    theme: 'light'\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    const { theme } = this.state;\r\n    let userId = null;\r\n\r\n    if (user.loggedInUser && user.loggedInUser.id) {\r\n      userId = user.loggedInUser.id;\r\n    }\r\n\r\n    const styles = {\r\n      theme: style.themes[theme],\r\n      variables: style.variables\r\n    }\r\n\r\n    return (\r\n      <Shell userId={userId} theme={theme} styles={styles}>\r\n        <Switch>\r\n          <Route exact path='/social-media-demo/'>\r\n            <App\r\n              userId={userId}\r\n              theme={theme}\r\n              updateRequired={this._handleRefetch}\r\n              onSelectTheme={this.handleThemeChange}\r\n            />\r\n          </Route>\r\n          <Route exact path='/social-media-demo/login'>\r\n            {userId ? (\r\n              <Redirect to={'/social-media-demo/'}/>\r\n              ) : (\r\n              <Login userId={userId} updateRequired={this._handleRefetch}/>\r\n            )}\r\n          </Route>\r\n          <Route path='/social-media-demo/signup'>\r\n            {userId ? (\r\n              <Redirect to={'/social-media-demo/'}/>\r\n            ) : (\r\n              <CreateUser updateRequired={this._handleRefetch}/>\r\n            )}\r\n          </Route>\r\n        </Switch>\r\n      </Shell>\r\n    );\r\n  }\r\n\r\n  _handleRefetch = () => {\r\n    const { user } = this.props;\r\n    user.refetch()\r\n  }\r\n\r\n  handleThemeChange = (theme) => {\r\n    this.setState({ theme });\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(loggedInUser, {\r\n    name: 'user',\r\n    options: { fetchPolicy: 'network-only' }\r\n  }),\r\n)(Scenes);","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport CreatePost from './components/CreatePost'\nimport Login from './scenes/Login';\nimport CreateUser from './scenes/CreateUser';\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\nimport { ApolloClient } from 'apollo-client'\nimport { ApolloProvider } from 'react-apollo'\nimport { createHttpLink } from 'apollo-link-http'\nimport { ApolloLink} from 'apollo-link'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport 'tachyons'\nimport Scenes from './scenes'\n\n// __SIMPLE_API_ENDPOINT__ looks like: 'https://api.graph.cool/simple/v1/__SERVICE_ID__'\nconst httpLink = createHttpLink({ uri: 'https://api.graph.cool/simple/v1/cjowu0zrbb1270106hgdbk7vv' })\n\nconst middlewareLink = new ApolloLink((operation, forward) => {\n  const token = localStorage.getItem('graphcoolToken')\n  const authorizationHeader = token ? `Bearer ${token}` : null\n  operation.setContext({\n    headers: {\n      authorization: authorizationHeader\n    }\n  })\n  return forward(operation)\n})\n\nconst httpLinkWithAuthToken = middlewareLink.concat(httpLink)\n\nconst client = new ApolloClient({\n  link: httpLinkWithAuthToken,\n  cache: new InMemoryCache().restore(window.__APOLLO_STATE__),\n})\n\nReactDOM.render((\n    <ApolloProvider client={client}>\n      <Router>\n        <Scenes/>\n      </Router>\n    </ApolloProvider>\n  ),\n  document.getElementById('root')\n)\n"],"sourceRoot":""}