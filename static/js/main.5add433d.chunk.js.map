{"version":3,"sources":["components/Header/graphql_logo.png","components/CreatePost.js","services/config.js","elements/form/index.jsx","scenes/Login/LoginUserForm.jsx","elements/auth/index.jsx","scenes/Login/index.jsx","scenes/CreateUser/CreateUserForm.jsx","scenes/CreateUser/index.jsx","elements/header/index.jsx","components/Header/index.jsx","services/queries/index.jsx","components/Shell/index.jsx","index.js"],"names":["module","exports","__webpack_require__","p","CreatePost","state","description","imageUrl","handlePost","_callee","_this$state","authorId","regenerator_default","a","wrap","_context","prev","next","_this","props","loggedInUserQuery","loggedInUser","console","warn","abrupt","id","createPostMutation","variables","history","replace","stop","this","_this2","loading","react_default","createElement","className","style","maxWidth","value","placeholder","onChange","e","setState","target","src","alt","onClick","React","Component","CREATE_POST_MUTATION","gql","_templateObject","LOGGED_IN_USER_QUERY","_templateObject2","compose","graphql","name","options","fetchPolicy","withRouter","Form","styled","form","form_templateObject","FormGroup","div","form_templateObject2","Label","_templateObject3","Field","input","_templateObject4","ActionBar","_templateObject5","ActionButton","button","_templateObject6","LoginUserForm","email","password","authenticateUser","_this$props","authenticateUserMutation","then","response","localStorage","setItem","data","token","type","AUTHENTICATE_USER_MUTATION","LoginUserForm_templateObject","LoginUserForm_templateObject2","PageContainer","auth_templateObject","Box","auth_templateObject2","BoxHeader","auth_templateObject3","BoxContent","auth_templateObject4","Login","Flip_default","top","cascade","fa","Login_LoginUserForm","CreateUserForm","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","signupUser","asyncToGenerator","mark","user","signupUserMutation","sent","t0","error","SIGNUP_USER_MUTATION","CreateUserForm_templateObject","CreateUser","CreateUser_CreateUserForm","PureComponent","HeaderBox","header_templateObject","Container","header_templateObject2","HeaderTitle","header_templateObject3","HeaderActionBar","header_templateObject4","HeaderButton","header_templateObject5","TransparentButton","header_templateObject6","Header","show","_handleClick","path","isLoggingOut","removeItem","window","location","reload","_onImageLoad","userId","when","logo","onLoad","pathname","queries_templateObject","Shell_templateObject","Body","Shell_templateObject2","BodyContainer","Shell_templateObject3","Shell","children","log","Shell_Container","components_Header","httpLink","createHttpLink","uri","httpLinkWithAuthToken","ApolloLink","operation","forward","getItem","authorizationHeader","concat","setContext","headers","authorization","client","ApolloClient","link","cache","InMemoryCache","restore","__APOLLO_STATE__","ReactDOM","render","react_apollo_browser_umd","BrowserRouter","components_Shell","Route","exact","component","document","getElementById"],"mappings":"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","file":"static/js/main.5add433d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/graphql_logo.126b901b.png\";","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { graphql, compose } from 'react-apollo'\r\nimport gql from 'graphql-tag'\r\n\r\nclass CreatePost extends React.Component {\r\n\r\n  state = {\r\n    description: '',\r\n    imageUrl: '',\r\n  }\r\n\r\n  render () {\r\n    if (this.props.loggedInUserQuery.loading) {\r\n      return (<div>Loading</div>)\r\n    }\r\n\r\n    return (\r\n      <div className='w-100 pa4 flex justify-center'>\r\n        <div style={{ maxWidth: 400 }} className=''>\r\n          <input\r\n            className='w-100 pa3 mv2'\r\n            value={this.state.description}\r\n            placeholder='Description'\r\n            onChange={(e) => this.setState({description: e.target.value})}\r\n          />\r\n          <input\r\n            className='w-100 pa3 mv2'\r\n            value={this.state.imageUrl}\r\n            placeholder='Image Url'\r\n            onChange={(e) => this.setState({imageUrl: e.target.value})}\r\n          />\r\n          {this.state.imageUrl &&\r\n            <img src={this.state.imageUrl} alt='' className='w-100 mv3' />\r\n          }\r\n          {this.state.description && this.state.imageUrl &&\r\n            <button className='pa3 bg-black-10 bn dim ttu pointer' onClick={this.handlePost}>Post</button>\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handlePost = async () => {\r\n    // redirect if no user is logged in\r\n    if (!this.props.loggedInUserQuery.loggedInUser) {\r\n      console.warn('only logged in users can create new posts')\r\n      return\r\n    }\r\n\r\n    const { description, imageUrl } = this.state\r\n    const authorId = this.props.loggedInUserQuery.loggedInUser.id\r\n\r\n    await this.props.createPostMutation({variables: { description, imageUrl, authorId }})\r\n    this.props.history.replace('/')\r\n  }\r\n}\r\n\r\nconst CREATE_POST_MUTATION = gql`\r\n  mutation CreatePostMutation ($description: String!, $imageUrl: String!, $authorId: ID!) {\r\n    createPost(description: $description, imageUrl: $imageUrl, authorId: $authorId) {\r\n      id\r\n    }\r\n  }\r\n`\r\n\r\nconst LOGGED_IN_USER_QUERY = gql`\r\n  query LoggedInUserQuery {\r\n    loggedInUser {\r\n      id\r\n    }\r\n  }\r\n`\r\n\r\nexport default compose(\r\n  graphql(CREATE_POST_MUTATION, { name: 'createPostMutation' }),\r\n  graphql(LOGGED_IN_USER_QUERY, { \r\n    name: 'loggedInUserQuery',\r\n    options: { fetchPolicy: 'network-only' }\r\n  })\r\n)(withRouter(CreatePost))\r\n","export const variables = {\r\n  primaryColor: '#282c34',\r\n  primaryColorHover: '#2c313d',\r\n  secondaryColor: '#efe3ff',\r\n  tertiaryColor: '#b7b7b7',\r\n  tertiaryColorHover: '#dddddd',\r\n  boxShadow: '0 2px 6px rgba(0,0,0,0.2)',\r\n  boxShadowHover: '0 2px 10px rgba(0,0,0,0.3)',\r\n  transition: '.3s ease',\r\n  space: '15px',\r\n  spaceLarge: '30px',\r\n  boxBg: 'rgba(255,255,255,0.6)',\r\n  boxBgHover: 'rgba(255,255,255,1)',\r\n  containerMaxWidth: '1200px'\r\n}","import styled from 'styled-components'\r\nimport { variables } from '../../services/config'\r\n\r\nexport const Form = styled.form`\r\n\r\n`;\r\n\r\nexport const FormGroup = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  margin-bottom: ${variables.space};\r\n`\r\n\r\nexport const Label = styled.div`\r\n  font-size: .9em;\r\n  min-width: 100px;\r\n  \r\n  @media all and (max-width: 430px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const Field = styled.input`\r\n  padding: 10px;\r\n  font-size: .9em;\r\n  flex-grow: 1;\r\n  background: ${variables.secondaryColor};\r\n  box-shadow: inset ${variables.boxShadow};\r\n  border: 1px solid ${variables.primaryColor};\r\n  \r\n  &:focus {\r\n    box-shadow: ${variables.boxShadowHover};\r\n  }\r\n`;\r\n\r\nexport const ActionBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n`\r\n\r\nexport const ActionButton = styled.button`\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 10px 15px;\r\n  box-shadow: 0 0 0 rgba(0,0,0,0);\r\n  color: ${variables.tertiaryColor};\r\n  background: ${variables.primaryColor};\r\n  transition: ${variables.transition};\r\n  \r\n  &:hover, &:focus {\r\n    box-shadow: ${variables.boxShadowHover};\r\n    color: ${variables.tertiaryColorHover};\r\n    background: ${variables.primaryColorHover};\r\n  }\r\n  \r\n  @media all and (max-width: 430px) {\r\n    flex-grow: 2;\r\n  }\r\n`;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { graphql, compose } from 'react-apollo';\r\nimport gql from 'graphql-tag';\r\nimport { ActionBar, ActionButton, Field, Form, FormGroup, Label } from '../../elements/form'\r\n\r\nclass LoginUserForm extends React.Component {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Form>\r\n        <FormGroup>\r\n          <Label>\r\n            Email:\r\n          </Label>\r\n          <Field\r\n            value={this.state.email}\r\n            placeholder='Email address'\r\n            onChange={(e) => this.setState({email: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>\r\n            Password:\r\n          </Label>\r\n          <Field\r\n            type=\"password\"\r\n            value={this.state.password}\r\n            placeholder='Password'\r\n            onChange={(e) => this.setState({password: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <ActionBar>\r\n          <ActionButton onClick={this.authenticateUser}>\r\n            Log in\r\n          </ActionButton>\r\n        </ActionBar>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  authenticateUser = async () => {\r\n    const { authenticateUserMutation, history } = this.props\r\n    const {email, password} = this.state\r\n\r\n    authenticateUserMutation({\r\n      variables: { email, password },\r\n    })\r\n      .then((response) => (\r\n        history.replace('/'),\r\n        localStorage.setItem('graphcoolToken', response.data.authenticateUser.token)\r\n      ))\r\n  }\r\n}\r\n\r\nconst AUTHENTICATE_USER_MUTATION = gql`\r\n  mutation AuthenticateUserMutation ($email: String!, $password: String!) { \r\n    authenticateUser(email: $email, password: $password) {\r\n      token\r\n    }\r\n  }\r\n`\r\n\r\nconst LOGGED_IN_USER_QUERY = gql`\r\n  query LoggedInUserQuery {\r\n    loggedInUser {\r\n      id\r\n    }\r\n  }\r\n`\r\nexport default compose(\r\n  graphql(AUTHENTICATE_USER_MUTATION, {name: 'authenticateUserMutation'}),\r\n  graphql(LOGGED_IN_USER_QUERY, { \r\n    name: 'loggedInUserQuery',\r\n    options: { fetchPolicy: 'network-only' }\r\n  })\r\n)(withRouter(LoginUserForm))\r\n","import styled from 'styled-components'\r\nimport { variables } from '../../services/config'\r\n\r\nexport const PageContainer = styled.div`\r\n  height: 100%;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n`;\r\n\r\nexport const Box = styled.div`\r\n  border-radius: 0;\r\n  overflow: hidden;\r\n  //padding: 15px;\r\n  min-width: 400px;\r\n  min-height: 150px;\r\n  background: ${variables.boxBg};\r\n  box-shadow: ${variables.boxShadow};\r\n  transition: ${variables.transition};\r\n  border: 1px solid ${variables.primaryColor};\r\n  margin: ${variables.spaceLarge} ${variables.space};\r\n  \r\n  &:hover {\r\n    background: ${variables.boxBgHover};\r\n    box-shadow: ${variables.boxShadowHover};\r\n  }\r\n  \r\n  @media all and (max-width: 430px) {\r\n    min-width: 90%;\r\n  }\r\n`;\r\n\r\nexport const BoxHeader = styled.div`\r\n  padding: 10px 15px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  background: ${variables.primaryColor};\r\n  color: ${variables.tertiaryColor};\r\n  transition: ${variables.transition};\r\n  \r\n  svg {\r\n    margin-right: 5px;\r\n  }\r\n`;\r\n\r\nexport const BoxContent = styled.div`\r\n  padding: ${variables.space};\r\n`;","import React from 'react';\r\nimport { FaUser } from 'react-icons/fa';\r\nimport LoginUserForm from './LoginUserForm';\r\nimport { Box, BoxContent, BoxHeader, PageContainer } from '../../elements/auth'\r\nimport Flip from 'react-reveal/Flip';\r\n\r\nclass Login extends React.Component {\r\n  render() {\r\n    return (\r\n      <PageContainer>\r\n        <Box>\r\n          <BoxHeader>\r\n            <Flip top cascade>\r\n              <FaUser/>\r\n              Login\r\n            </Flip>\r\n          </BoxHeader>\r\n          <BoxContent>\r\n            <LoginUserForm/>\r\n          </BoxContent>\r\n        </Box>\r\n      </PageContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { graphql, compose } from 'react-apollo'\r\nimport gql from 'graphql-tag'\r\nimport { ActionBar, ActionButton, Field, Form, FormGroup, Label } from '../../elements/form'\r\n\r\nclass CreateUserForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super()\r\n\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      name: '',\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Form>\r\n        <FormGroup>\r\n          <Label>\r\n            Name:\r\n          </Label>\r\n          <Field\r\n            value={this.state.name}\r\n            placeholder='name'\r\n            onChange={(e) => this.setState({name: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>\r\n            Email:\r\n          </Label>\r\n          <Field\r\n            value={this.state.email}\r\n            placeholder='Email address'\r\n            onChange={(e) => this.setState({email: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>\r\n            Password:\r\n          </Label>\r\n          <Field\r\n            type=\"password\"\r\n            value={this.state.password}\r\n            placeholder='Password'\r\n            onChange={(e) => this.setState({password: e.target.value})}\r\n          />\r\n        </FormGroup>\r\n        <ActionBar>\r\n          <ActionButton onClick={this.signupUser}>\r\n            Sign Up\r\n          </ActionButton>\r\n        </ActionBar>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  signupUser = async () => {\r\n    const { email, password, name } = this.state\r\n\r\n    try {\r\n      const user = await this.props.signupUserMutation({variables: {email, password, name}})\r\n      localStorage.setItem('graphcoolToken', user.data.signupUser.token)\r\n      this.props.history.replace('/')\r\n    } catch (e) {\r\n      console.error(`An error occured: `, e)\r\n      this.props.history.replace('/')\r\n    }\r\n\r\n  }\r\n}\r\n\r\nconst SIGNUP_USER_MUTATION = gql`\r\n  mutation SignupUserMutation ($email: String!, $password: String!, $name: String) {\r\n    signupUser(email: $email, password: $password, name: $name) {\r\n      id\r\n      token\r\n    }\r\n  }\r\n`\r\n\r\nexport default compose(\r\n  graphql(SIGNUP_USER_MUTATION, {name: 'signupUserMutation'}),\r\n)(withRouter(CreateUserForm))","import React, { PureComponent } from 'react';\r\nimport { FaUser } from 'react-icons/fa';\r\nimport CreateUserForm from './CreateUserForm';\r\nimport { Box, BoxContent, BoxHeader, PageContainer } from '../../elements/auth'\r\nimport Flip from 'react-reveal/Flip';\r\n\r\nclass CreateUser extends PureComponent {\r\n  render() {\r\n    return (\r\n      <PageContainer>\r\n        <Box>\r\n          <BoxHeader>\r\n            <Flip top cascade>\r\n              <FaUser/>\r\n              Sign Up\r\n            </Flip>\r\n          </BoxHeader>\r\n          <BoxContent>\r\n            <CreateUserForm/>\r\n          </BoxContent>\r\n        </Box>\r\n      </PageContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateUser;","import styled from 'styled-components'\r\nimport { variables } from '../../services/config'\r\n\r\nexport const HeaderBox = styled.div`\r\n  width: 100%;\r\n  padding: 0;\r\n  min-height: 60px;\r\n  background: ${variables.primaryColor};\r\n  color: ${variables.tertiaryColor};\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  max-width: ${variables.containerMaxWidth};\r\n  margin: auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  position: relative;\r\n`;\r\n\r\nexport const HeaderTitle = styled.div`\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  font-size: 1.2em;\r\n  \r\n  img {\r\n    max-width: 30px;\r\n    margin-right: 10px;\r\n  }\r\n`;\r\n\r\nexport const HeaderActionBar = styled.div`\r\n  right: 0;\r\n  height: 100%;\r\n  position: absolute;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n`;\r\n\r\nexport const HeaderButton = styled.button`\r\n  border: none;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  background: transparent;\r\n  justify-content: space-around;\r\n  transition: .3s ease;\r\n  padding: 15px;\r\n  color: ${variables.tertiaryColor};\r\n  cursor: pointer;\r\n  \r\n  &:hover {\r\n    color: ${variables.tertiaryColorHover};\r\n    background: rgba(255,255,255,0.04);\r\n  }\r\n`;\r\n\r\nexport const TransparentButton = styled(HeaderButton)` \r\n  \r\n  &:hover {\r\n    color: white;\r\n    background: rgba(255,255,255,0);\r\n  }\r\n`;","import React from 'react';\r\nimport logo from './graphql_logo.png';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  HeaderActionBar,\r\n  HeaderBox,\r\n  HeaderButton,\r\n  HeaderTitle,\r\n  TransparentButton,\r\n} from '../../elements/header';\r\nimport Flip from 'react-reveal/Flip';\r\n\r\n\r\nclass Header extends React.Component {\r\n  state = {\r\n    show: false,\r\n  };\r\n\r\n  render() {\r\n    const { location, userId } = this.props;\r\n    const { show } = this.state;\r\n    return (\r\n      <HeaderBox>\r\n        <Container>\r\n          <TransparentButton onClick={this._handleClick('/social-media-demo/')}>\r\n            <HeaderTitle>\r\n              <Flip cascade top when={show}>\r\n                <img src={logo} onLoad={this._onImageLoad}/>\r\n                Social Media\r\n              </Flip>\r\n            </HeaderTitle>\r\n          </TransparentButton>\r\n          <HeaderActionBar>\r\n            {!userId && location.pathname === '/social-media-demo/signup' && (\r\n              <HeaderButton onClick={this._handleClick('/social-media-demo/login')}>\r\n                login\r\n              </HeaderButton>\r\n            )}\r\n            {!userId && location.pathname === '/social-media-demo/login' && (\r\n              <HeaderButton onClick={this._handleClick('/social-media-demo/signup')}>\r\n                <Flip cascade top when={show}>\r\n                  signup\r\n                </Flip>\r\n              </HeaderButton>\r\n            )}\r\n            {!userId && location.pathname === '/social-media-demo/' && (\r\n              <HeaderButton onClick={this._handleClick('/social-media-demo/signup')}>\r\n                <Flip cascade top when={show}>\r\n                  signup\r\n                </Flip>\r\n              </HeaderButton>\r\n            )}\r\n            {userId && (\r\n              <HeaderButton onClick={this._handleClick('logout')}>\r\n                <Flip cascade top when={show}>\r\n                  logout\r\n                </Flip>\r\n              </HeaderButton>\r\n            )}\r\n          </HeaderActionBar>\r\n        </Container>\r\n      </HeaderBox>\r\n    );\r\n  }\r\n\r\n  _handleClick = (path) => () => {\r\n    const { history } = this.props;\r\n    const isLoggingOut = path === 'logout';\r\n\r\n    if (isLoggingOut) {\r\n      localStorage.removeItem('graphcoolToken');\r\n      window.location.reload();\r\n    }\r\n\r\n    if (!isLoggingOut) {\r\n      history.replace(path);\r\n    }\r\n  }\r\n\r\n  _onImageLoad = () => {\r\n    this.setState({ show: true })\r\n  }\r\n}\r\n\r\nexport default withRouter(Header);","import gql from 'graphql-tag'\r\n\r\nexport const loggedInUser = gql`\r\n  query LoggedInUser {\r\n    loggedInUser {\r\n      id\r\n    }\r\n  }\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Header from '../Header';\r\nimport { graphql, compose } from 'react-apollo';\r\nimport { loggedInUser } from '../../services/queries'\r\n\r\nconst Container = styled.div`\r\n  font-family: 'Montserrat', sans-serif;\r\n`;\r\n\r\nconst Body = styled.div`\r\n  width: 100%;\r\n  min-height: calc(100vh - 60px);\r\n  position: relative;\r\n  background: #efe3ff;\r\n`;\r\n\r\nconst BodyContainer = styled.div`\r\n  max-width: 1200px;\r\n  margin: auto;\r\n`;\r\n\r\nclass Shell extends React.Component {\r\n  render() {\r\n    const { children, user } = this.props\r\n    console.log('this.props', this.props)\r\n    let userId = null;\r\n\r\n    if (user.loggedInUser && user.loggedInUser.id) {\r\n      userId = user.loggedInUser.id;\r\n    }\r\n\r\n    return (\r\n      <Container>\r\n        <Header userId={userId}/>\r\n        <Body>\r\n          <BodyContainer>\r\n            {children}\r\n          </BodyContainer>\r\n        </Body>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(loggedInUser, {\r\n    name: 'user',\r\n    options: { fetchPolicy: 'network-only' }\r\n  }),\r\n)(Shell);","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport CreatePost from './components/CreatePost'\nimport Login from './scenes/Login';\nimport CreateUser from './scenes/CreateUser';\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\nimport { ApolloClient } from 'apollo-client'\nimport { ApolloProvider } from 'react-apollo'\nimport { createHttpLink } from 'apollo-link-http'\nimport { ApolloLink} from 'apollo-link'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport 'tachyons'\nimport Shell from './components/Shell'\n\n// __SIMPLE_API_ENDPOINT__ looks like: 'https://api.graph.cool/simple/v1/__SERVICE_ID__'\nconst httpLink = createHttpLink({ uri: 'https://api.graph.cool/simple/v1/cjowu0zrbb1270106hgdbk7vv' })\n\nconst middlewareLink = new ApolloLink((operation, forward) => {\n  const token = localStorage.getItem('graphcoolToken')\n  const authorizationHeader = token ? `Bearer ${token}` : null\n  operation.setContext({\n    headers: {\n      authorization: authorizationHeader\n    }\n  })\n  return forward(operation)\n})\n\nconst httpLinkWithAuthToken = middlewareLink.concat(httpLink)\n\nconst client = new ApolloClient({\n  link: httpLinkWithAuthToken,\n  cache: new InMemoryCache().restore(window.__APOLLO_STATE__),\n})\n\nReactDOM.render((\n    <ApolloProvider client={client}>\n      <Router>\n        <Shell>\n          <Route exact path='/social-media-demo/' component={Login} />\n          <Route path='/social-media-demo/create' component={CreatePost} />\n          <Route path='/social-media-demo/login' component={Login} />\n          <Route path='/social-media-demo/signup' component={CreateUser} />\n        </Shell>\n      </Router>\n    </ApolloProvider>\n  ),\n  document.getElementById('root')\n)\n"],"sourceRoot":""}